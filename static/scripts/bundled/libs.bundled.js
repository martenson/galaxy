!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i=window.webpackJsonp;window.webpackJsonp=function(n,a,o){for(var s,l,u,c=0,h=[];c<n.length;c++)l=n[c],r[l]&&h.push(r[l][0]),r[l]=0;for(s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s]);for(i&&i(n,a,o);h.length;)h.shift()();if(o)for(c=0;c<o.length;c++)u=e(e.s=o[c]);return u};var n={},r={4:0};e.e=function(t){function i(){s.onerror=s.onload=null,clearTimeout(l);var e=r[t];0!==e&&(e&&e[1](new Error("Loading chunk "+t+" failed.")),r[t]=void 0)}var n=r[t];if(0===n)return new Promise(function(t){t()});if(n)return n[2];var a=new Promise(function(e,i){n=r[t]=[e,i]});n[2]=a;var o=document.getElementsByTagName("head")[0],s=document.createElement("script");s.type="text/javascript",s.charset="utf-8",s.async=!0,s.timeout=12e4,e.nc&&s.setAttribute("nonce",e.nc),s.src=e.p+""+t+".bundled.js";var l=setTimeout(i,12e4);return s.onerror=s.onload=i,o.appendChild(s),a},e.m=t,e.c=n,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e.oe=function(t){throw console.error(t),t},e(e.s=141)}([function(t,e,i){var n,r;/*!
 * jQuery JavaScript Library v2.2.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:23Z
 */
!function(e,i){"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?i(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return i(t)}:i(e)}("undefined"!=typeof window?window:this,function(i,a){function o(t){var e=!!t&&"length"in t&&t.length,i=lt.type(t);return"function"!==i&&!lt.isWindow(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}function s(t,e,i){if(lt.isFunction(e))return lt.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return lt.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(_t.test(e))return lt.filter(e,t,i);e=lt.filter(e,t)}return lt.grep(t,function(t){return nt.call(e,t)>-1!==i})}function l(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function u(t){var e={};return lt.each(t.match(Ct)||[],function(t,i){e[i]=!0}),e}function c(){Z.removeEventListener("DOMContentLoaded",c),i.removeEventListener("load",c),lt.ready()}function h(){this.expando=lt.expando+h.uid++}function d(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(Ot,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:Et.test(i)?lt.parseJSON(i):i)}catch(t){}Mt.set(t,e,i)}else i=void 0;return i}function f(t,e,i,n){var r,a=1,o=20,s=n?function(){return n.cur()}:function(){return lt.css(t,e,"")},l=s(),u=i&&i[3]||(lt.cssNumber[e]?"":"px"),c=(lt.cssNumber[e]||"px"!==u&&+l)&&$t.exec(lt.css(t,e));if(c&&c[3]!==u){u=u||c[3],i=i||[],c=+l||1;do{a=a||".5",c/=a,lt.style(t,e,c+u)}while(a!==(a=s()/l)&&1!==a&&--o)}return i&&(c=+c||+l||0,r=i[1]?c+(i[1]+1)*i[2]:+i[2],n&&(n.unit=u,n.start=c,n.end=r)),r}function p(t,e){var i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&lt.nodeName(t,e)?lt.merge([t],i):i}function g(t,e){for(var i=0,n=t.length;i<n;i++)At.set(t[i],"globalEval",!e||At.get(e[i],"globalEval"))}function m(t,e,i,n,r){for(var a,o,s,l,u,c,h=e.createDocumentFragment(),d=[],f=0,m=t.length;f<m;f++)if((a=t[f])||0===a)if("object"===lt.type(a))lt.merge(d,a.nodeType?[a]:a);else if(zt.test(a)){for(o=o||h.appendChild(e.createElement("div")),s=(It.exec(a)||["",""])[1].toLowerCase(),l=Lt[s]||Lt._default,o.innerHTML=l[1]+lt.htmlPrefilter(a)+l[2],c=l[0];c--;)o=o.lastChild;lt.merge(d,o.childNodes),o=h.firstChild,o.textContent=""}else d.push(e.createTextNode(a));for(h.textContent="",f=0;a=d[f++];)if(n&&lt.inArray(a,n)>-1)r&&r.push(a);else if(u=lt.contains(a.ownerDocument,a),o=p(h.appendChild(a),"script"),u&&g(o),i)for(c=0;a=o[c++];)Nt.test(a.type||"")&&i.push(a);return h}function v(){return!0}function _(){return!1}function y(){try{return Z.activeElement}catch(t){}}function b(t,e,i,n,r,a){var o,s;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=void 0);for(s in e)b(t,s,i,n,e[s],a);return t}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=_;else if(!r)return t;return 1===a&&(o=r,r=function(t){return lt().off(t),o.apply(this,arguments)},r.guid=o.guid||(o.guid=lt.guid++)),t.each(function(){lt.event.add(this,e,r,n,i)})}function w(t,e){return lt.nodeName(t,"table")&&lt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function x(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function C(t){var e=Wt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function k(t,e){var i,n,r,a,o,s,l,u;if(1===e.nodeType){if(At.hasData(t)&&(a=At.access(t),o=At.set(e,a),u=a.events)){delete o.handle,o.events={};for(r in u)for(i=0,n=u[r].length;i<n;i++)lt.event.add(e,r,u[r][i])}Mt.hasData(t)&&(s=Mt.access(t),l=lt.extend({},s),Mt.set(e,l))}}function S(t,e){var i=e.nodeName.toLowerCase();"input"===i&&Rt.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function T(t,e,i,n){e=et.apply([],e);var r,a,o,s,l,u,c=0,h=t.length,d=h-1,f=e[0],g=lt.isFunction(f);if(g||h>1&&"string"==typeof f&&!st.checkClone&&Ut.test(f))return t.each(function(r){var a=t.eq(r);g&&(e[0]=f.call(this,r,a.html())),T(a,e,i,n)});if(h&&(r=m(e,t[0].ownerDocument,!1,t,n),a=r.firstChild,1===r.childNodes.length&&(r=a),a||n)){for(o=lt.map(p(r,"script"),x),s=o.length;c<h;c++)l=r,c!==d&&(l=lt.clone(l,!0,!0),s&&lt.merge(o,p(l,"script"))),i.call(t[c],l,c);if(s)for(u=o[o.length-1].ownerDocument,lt.map(o,C),c=0;c<s;c++)l=o[c],Nt.test(l.type||"")&&!At.access(l,"globalEval")&&lt.contains(u,l)&&(l.src?lt._evalUrl&&lt._evalUrl(l.src):lt.globalEval(l.textContent.replace(Gt,"")))}return t}function A(t,e,i){for(var n,r=e?lt.filter(e,t):t,a=0;null!=(n=r[a]);a++)i||1!==n.nodeType||lt.cleanData(p(n)),n.parentNode&&(i&&lt.contains(n.ownerDocument,n)&&g(p(n,"script")),n.parentNode.removeChild(n));return t}function M(t,e){var i=lt(e.createElement(t)).appendTo(e.body),n=lt.css(i[0],"display");return i.detach(),n}function E(t){var e=Z,i=Yt[t];return i||(i=M(t,e),"none"!==i&&i||(Xt=(Xt||lt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Xt[0].contentDocument,e.write(),e.close(),i=M(t,e),Xt.detach()),Yt[t]=i),i}function O(t,e,i){var n,r,a,o,s=t.style;return i=i||Qt(t),o=i?i.getPropertyValue(e)||i[e]:void 0,""!==o&&void 0!==o||lt.contains(t.ownerDocument,t)||(o=lt.style(t,e)),i&&!st.pixelMarginRight()&&Kt.test(o)&&Jt.test(e)&&(n=s.width,r=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=i.width,s.width=n,s.minWidth=r,s.maxWidth=a),void 0!==o?o+"":o}function D(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function $(t){if(t in ae)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=re.length;i--;)if((t=re[i]+e)in ae)return t}function j(t,e,i){var n=$t.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function P(t,e,i,n,r){for(var a=i===(n?"border":"content")?4:"width"===e?1:0,o=0;a<4;a+=2)"margin"===i&&(o+=lt.css(t,i+jt[a],!0,r)),n?("content"===i&&(o-=lt.css(t,"padding"+jt[a],!0,r)),"margin"!==i&&(o-=lt.css(t,"border"+jt[a]+"Width",!0,r))):(o+=lt.css(t,"padding"+jt[a],!0,r),"padding"!==i&&(o+=lt.css(t,"border"+jt[a]+"Width",!0,r)));return o}function R(t,e,i){var n=!0,r="width"===e?t.offsetWidth:t.offsetHeight,a=Qt(t),o="border-box"===lt.css(t,"boxSizing",!1,a);if(r<=0||null==r){if(r=O(t,e,a),(r<0||null==r)&&(r=t.style[e]),Kt.test(r))return r;n=o&&(st.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+P(t,e,i||(o?"border":"content"),n,a)+"px"}function I(t,e){for(var i,n,r,a=[],o=0,s=t.length;o<s;o++)n=t[o],n.style&&(a[o]=At.get(n,"olddisplay"),i=n.style.display,e?(a[o]||"none"!==i||(n.style.display=""),""===n.style.display&&Pt(n)&&(a[o]=At.access(n,"olddisplay",E(n.nodeName)))):(r=Pt(n),"none"===i&&r||At.set(n,"olddisplay",r?i:lt.css(n,"display"))));for(o=0;o<s;o++)n=t[o],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?a[o]||"":"none"));return t}function N(t,e,i,n,r){return new N.prototype.init(t,e,i,n,r)}function L(){return i.setTimeout(function(){oe=void 0}),oe=lt.now()}function z(t,e){var i,n=0,r={height:t};for(e=e?1:0;n<4;n+=2-e)i=jt[n],r["margin"+i]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function H(t,e,i){for(var n,r=(B.tweeners[e]||[]).concat(B.tweeners["*"]),a=0,o=r.length;a<o;a++)if(n=r[a].call(i,e,t))return n}function q(t,e,i){var n,r,a,o,s,l,u,c=this,h={},d=t.style,f=t.nodeType&&Pt(t),p=At.get(t,"fxshow");i.queue||(s=lt._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,lt.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[d.overflow,d.overflowX,d.overflowY],u=lt.css(t,"display"),"inline"===("none"===u?At.get(t,"olddisplay")||E(t.nodeName):u)&&"none"===lt.css(t,"float")&&(d.display="inline-block")),i.overflow&&(d.overflow="hidden",c.always(function(){d.overflow=i.overflow[0],d.overflowX=i.overflow[1],d.overflowY=i.overflow[2]}));for(n in e)if(r=e[n],le.exec(r)){if(delete e[n],a=a||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!p||void 0===p[n])continue;f=!0}h[n]=p&&p[n]||lt.style(t,n)}else u=void 0;if(lt.isEmptyObject(h))"inline"===("none"===u?E(t.nodeName):u)&&(d.display=u);else{p?"hidden"in p&&(f=p.hidden):p=At.access(t,"fxshow",{}),a&&(p.hidden=!f),f?lt(t).show():c.done(function(){lt(t).hide()}),c.done(function(){var e;At.remove(t,"fxshow");for(e in h)lt.style(t,e,h[e])});for(n in h)o=H(f?p[n]:0,n,c),n in p||(p[n]=o.start,f&&(o.end=o.start,o.start="width"===n||"height"===n?1:0))}}function F(t,e){var i,n,r,a,o;for(i in t)if(n=lt.camelCase(i),r=e[n],a=t[i],lt.isArray(a)&&(r=a[1],a=t[i]=a[0]),i!==n&&(t[n]=a,delete t[i]),(o=lt.cssHooks[n])&&"expand"in o){a=o.expand(a),delete t[n];for(i in a)i in t||(t[i]=a[i],e[i]=r)}else e[n]=r}function B(t,e,i){var n,r,a=0,o=B.prefilters.length,s=lt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=oe||L(),i=Math.max(0,u.startTime+u.duration-e),n=i/u.duration||0,a=1-n,o=0,l=u.tweens.length;o<l;o++)u.tweens[o].run(a);return s.notifyWith(t,[u,a,i]),a<1&&l?i:(s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:lt.extend({},e),opts:lt.extend(!0,{specialEasing:{},easing:lt.easing._default},i),originalProperties:e,originalOptions:i,startTime:oe||L(),duration:i.duration,tweens:[],createTween:function(e,i){var n=lt.Tween(t,u.opts,e,i,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(n),n},stop:function(e){var i=0,n=e?u.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)u.tweens[i].run(1);return e?(s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u,e])):s.rejectWith(t,[u,e]),this}}),c=u.props;for(F(c,u.opts.specialEasing);a<o;a++)if(n=B.prefilters[a].call(u,t,c,u.opts))return lt.isFunction(n.stop)&&(lt._queueHooks(u.elem,u.opts.queue).stop=lt.proxy(n.stop,n)),n;return lt.map(c,H,u),lt.isFunction(u.opts.start)&&u.opts.start.call(t,u),lt.fx.timer(lt.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function V(t){return t.getAttribute&&t.getAttribute("class")||""}function U(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,a=e.toLowerCase().match(Ct)||[];if(lt.isFunction(i))for(;n=a[r++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function W(t,e,i,n){function r(s){var l;return a[s]=!0,lt.each(t[s]||[],function(t,s){var u=s(e,i,n);return"string"!=typeof u||o||a[u]?o?!(l=u):void 0:(e.dataTypes.unshift(u),r(u),!1)}),l}var a={},o=t===Me;return r(e.dataTypes[0])||!a["*"]&&r("*")}function G(t,e){var i,n,r=lt.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&lt.extend(!0,t,n),t}function X(t,e,i){for(var n,r,a,o,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in s)if(s[r]&&s[r].test(n)){l.unshift(r);break}if(l[0]in i)a=l[0];else{for(r in i){if(!l[0]||t.converters[r+" "+l[0]]){a=r;break}o||(o=r)}a=a||o}if(a)return a!==l[0]&&l.unshift(a),i[a]}function Y(t,e,i,n){var r,a,o,s,l,u={},c=t.dataTypes.slice();if(c[1])for(o in t.converters)u[o.toLowerCase()]=t.converters[o];for(a=c.shift();a;)if(t.responseFields[a]&&(i[t.responseFields[a]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=a,a=c.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(o=u[l+" "+a]||u["* "+a]))for(r in u)if(s=r.split(" "),s[1]===a&&(o=u[l+" "+s[0]]||u["* "+s[0]])){!0===o?o=u[r]:!0!==u[r]&&(a=s[0],c.unshift(s[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+l+" to "+a}}}return{state:"success",data:e}}function J(t,e,i,n){var r;if(lt.isArray(e))lt.each(e,function(e,r){i||$e.test(t)?n(t,r):J(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,i,n)});else if(i||"object"!==lt.type(e))n(t,e);else for(r in e)J(t+"["+r+"]",e[r],i,n)}function K(t){return lt.isWindow(t)?t:9===t.nodeType&&t.defaultView}var Q=[],Z=i.document,tt=Q.slice,et=Q.concat,it=Q.push,nt=Q.indexOf,rt={},at=rt.toString,ot=rt.hasOwnProperty,st={},lt=function(t,e){return new lt.fn.init(t,e)},ut=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ct=/^-ms-/,ht=/-([\da-z])/gi,dt=function(t,e){return e.toUpperCase()};lt.fn=lt.prototype={jquery:"2.2.4",constructor:lt,selector:"",length:0,toArray:function(){return tt.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:tt.call(this)},pushStack:function(t){var e=lt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return lt.each(this,t)},map:function(t){return this.pushStack(lt.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(tt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:it,sort:Q.sort,splice:Q.splice},lt.extend=lt.fn.extend=function(){var t,e,i,n,r,a,o=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[s]||{},s++),"object"==typeof o||lt.isFunction(o)||(o={}),s===l&&(o=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)i=o[e],n=t[e],o!==n&&(u&&n&&(lt.isPlainObject(n)||(r=lt.isArray(n)))?(r?(r=!1,a=i&&lt.isArray(i)?i:[]):a=i&&lt.isPlainObject(i)?i:{},o[e]=lt.extend(u,a,n)):void 0!==n&&(o[e]=n));return o},lt.extend({expando:"jQuery"+("2.2.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===lt.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!lt.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){var e;if("object"!==lt.type(t)||t.nodeType||lt.isWindow(t))return!1;if(t.constructor&&!ot.call(t,"constructor")&&!ot.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return void 0===e||ot.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?rt[at.call(t)]||"object":typeof t},globalEval:function(t){var e,i=eval;(t=lt.trim(t))&&(1===t.indexOf("use strict")?(e=Z.createElement("script"),e.text=t,Z.head.appendChild(e).parentNode.removeChild(e)):i(t))},camelCase:function(t){return t.replace(ct,"ms-").replace(ht,dt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,n=0;if(o(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},trim:function(t){return null==t?"":(t+"").replace(ut,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(o(Object(t))?lt.merge(i,"string"==typeof t?[t]:t):it.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:nt.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;n<i;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n=[],r=0,a=t.length,o=!i;r<a;r++)!e(t[r],r)!==o&&n.push(t[r]);return n},map:function(t,e,i){var n,r,a=0,s=[];if(o(t))for(n=t.length;a<n;a++)null!=(r=e(t[a],a,i))&&s.push(r);else for(a in t)null!=(r=e(t[a],a,i))&&s.push(r);return et.apply([],s)},guid:1,proxy:function(t,e){var i,n,r;if("string"==typeof e&&(i=t[e],e=t,t=i),lt.isFunction(t))return n=tt.call(arguments,2),r=function(){return t.apply(e||this,n.concat(tt.call(arguments)))},r.guid=t.guid=t.guid||lt.guid++,r},now:Date.now,support:st}),"function"==typeof Symbol&&(lt.fn[Symbol.iterator]=Q[Symbol.iterator]),lt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){rt["[object "+e+"]"]=e.toLowerCase()});var ft=/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
function(t){function e(t,e,i,n){var r,a,o,s,u,h,d,f,p=e&&e.ownerDocument,g=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==g&&9!==g&&11!==g)return i;if(!n&&((e?e.ownerDocument||e:L)!==O&&E(e),e=e||O,$)){if(11!==g&&(h=gt.exec(t)))if(r=h[1]){if(9===g){if(!(o=e.getElementById(r)))return i;if(o.id===r)return i.push(o),i}else if(p&&(o=p.getElementById(r))&&I(e,o)&&o.id===r)return i.push(o),i}else{if(h[2])return J.apply(i,e.getElementsByTagName(t)),i;if((r=h[3])&&y.getElementsByClassName&&e.getElementsByClassName)return J.apply(i,e.getElementsByClassName(r)),i}if(y.qsa&&!B[t+" "]&&(!j||!j.test(t))){if(1!==g)p=e,f=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(vt,"\\$&"):e.setAttribute("id",s=N),d=C(t),a=d.length,u=ct.test(s)?"#"+s:"[id='"+s+"']";a--;)d[a]=u+" "+c(d[a]);f=d.join(","),p=mt.test(t)&&l(e.parentNode)||e}if(f)try{return J.apply(i,p.querySelectorAll(f)),i}catch(t){}finally{s===N&&e.removeAttribute("id")}}}return S(t.replace(at,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>b.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[N]=!0,t}function r(t){var e=O.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function a(t,e){for(var i=t.split("|"),n=i.length;n--;)b.attrHandle[i[n]]=e}function o(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||U)-(~t.sourceIndex||U);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function s(t){return n(function(e){return e=+e,n(function(i,n){for(var r,a=t([],i.length,e),o=a.length;o--;)i[r=a[o]]&&(i[r]=!(n[r]=i[r]))})})}function l(t){return t&&void 0!==t.getElementsByTagName&&t}function u(){}function c(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function h(t,e,i){var n=e.dir,r=i&&"parentNode"===n,a=H++;return e.first?function(e,i,a){for(;e=e[n];)if(1===e.nodeType||r)return t(e,i,a)}:function(e,i,o){var s,l,u,c=[z,a];if(o){for(;e=e[n];)if((1===e.nodeType||r)&&t(e,i,o))return!0}else for(;e=e[n];)if(1===e.nodeType||r){if(u=e[N]||(e[N]={}),l=u[e.uniqueID]||(u[e.uniqueID]={}),(s=l[n])&&s[0]===z&&s[1]===a)return c[2]=s[2];if(l[n]=c,c[2]=t(e,i,o))return!0}}}function d(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function f(t,i,n){for(var r=0,a=i.length;r<a;r++)e(t,i[r],n);return n}function p(t,e,i,n,r){for(var a,o=[],s=0,l=t.length,u=null!=e;s<l;s++)(a=t[s])&&(i&&!i(a,n,r)||(o.push(a),u&&e.push(s)));return o}function g(t,e,i,r,a,o){return r&&!r[N]&&(r=g(r)),a&&!a[N]&&(a=g(a,o)),n(function(n,o,s,l){var u,c,h,d=[],g=[],m=o.length,v=n||f(e||"*",s.nodeType?[s]:s,[]),_=!t||!n&&e?v:p(v,d,t,s,l),y=i?a||(n?t:m||r)?[]:o:_;if(i&&i(_,y,s,l),r)for(u=p(y,g),r(u,[],s,l),c=u.length;c--;)(h=u[c])&&(y[g[c]]=!(_[g[c]]=h));if(n){if(a||t){if(a){for(u=[],c=y.length;c--;)(h=y[c])&&u.push(_[c]=h);a(null,y=[],u,l)}for(c=y.length;c--;)(h=y[c])&&(u=a?Q(n,h):d[c])>-1&&(n[u]=!(o[u]=h))}}else y=p(y===o?y.splice(m,y.length):y),a?a(null,o,y,l):J.apply(o,y)})}function m(t){for(var e,i,n,r=t.length,a=b.relative[t[0].type],o=a||b.relative[" "],s=a?1:0,l=h(function(t){return t===e},o,!0),u=h(function(t){return Q(e,t)>-1},o,!0),f=[function(t,i,n){var r=!a&&(n||i!==T)||((e=i).nodeType?l(t,i,n):u(t,i,n));return e=null,r}];s<r;s++)if(i=b.relative[t[s].type])f=[h(d(f),i)];else{if(i=b.filter[t[s].type].apply(null,t[s].matches),i[N]){for(n=++s;n<r&&!b.relative[t[n].type];n++);return g(s>1&&d(f),s>1&&c(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(at,"$1"),i,s<n&&m(t.slice(s,n)),n<r&&m(t=t.slice(n)),n<r&&c(t))}f.push(i)}return d(f)}function v(t,i){var r=i.length>0,a=t.length>0,o=function(n,o,s,l,u){var c,h,d,f=0,g="0",m=n&&[],v=[],_=T,y=n||a&&b.find.TAG("*",u),w=z+=null==_?1:Math.random()||.1,x=y.length;for(u&&(T=o===O||o||u);g!==x&&null!=(c=y[g]);g++){if(a&&c){for(h=0,o||c.ownerDocument===O||(E(c),s=!$);d=t[h++];)if(d(c,o||O,s)){l.push(c);break}u&&(z=w)}r&&((c=!d&&c)&&f--,n&&m.push(c))}if(f+=g,r&&g!==f){for(h=0;d=i[h++];)d(m,v,o,s);if(n){if(f>0)for(;g--;)m[g]||v[g]||(v[g]=X.call(l));v=p(v)}J.apply(l,v),u&&!n&&v.length>0&&f+i.length>1&&e.uniqueSort(l)}return u&&(z=w,T=_),m};return r?n(o):o}var _,y,b,w,x,C,k,S,T,A,M,E,O,D,$,j,P,R,I,N="sizzle"+1*new Date,L=t.document,z=0,H=0,q=i(),F=i(),B=i(),V=function(t,e){return t===e&&(M=!0),0},U=1<<31,W={}.hasOwnProperty,G=[],X=G.pop,Y=G.push,J=G.push,K=G.slice,Q=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it="\\["+tt+"*("+et+")(?:"+tt+"*([*^$|!~]?=)"+tt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+et+"))|)"+tt+"*\\]",nt=":("+et+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",rt=new RegExp(tt+"+","g"),at=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),ot=new RegExp("^"+tt+"*,"+tt+"*"),st=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),lt=new RegExp("="+tt+"*([^\\]'\"]*?)"+tt+"*\\]","g"),ut=new RegExp(nt),ct=new RegExp("^"+et+"$"),ht={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et+"|[*])"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+nt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},dt=/^(?:input|select|textarea|button)$/i,ft=/^h\d$/i,pt=/^[^{]+\{\s*\[native \w/,gt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,mt=/[+~]/,vt=/'|\\/g,_t=new RegExp("\\\\([\\da-f]{1,6}"+tt+"?|("+tt+")|.)","ig"),yt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},bt=function(){E()};try{J.apply(G=K.call(L.childNodes),L.childNodes),G[L.childNodes.length].nodeType}catch(t){J={apply:G.length?function(t,e){Y.apply(t,K.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}y=e.support={},x=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},E=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:L;return n!==O&&9===n.nodeType&&n.documentElement?(O=n,D=O.documentElement,$=!x(O),(i=O.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",bt,!1):i.attachEvent&&i.attachEvent("onunload",bt)),y.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),y.getElementsByTagName=r(function(t){return t.appendChild(O.createComment("")),!t.getElementsByTagName("*").length}),y.getElementsByClassName=pt.test(O.getElementsByClassName),y.getById=r(function(t){return D.appendChild(t).id=N,!O.getElementsByName||!O.getElementsByName(N).length}),y.getById?(b.find.ID=function(t,e){if(void 0!==e.getElementById&&$){var i=e.getElementById(t);return i?[i]:[]}},b.filter.ID=function(t){var e=t.replace(_t,yt);return function(t){return t.getAttribute("id")===e}}):(delete b.find.ID,b.filter.ID=function(t){var e=t.replace(_t,yt);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),b.find.TAG=y.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):y.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,a=e.getElementsByTagName(t);if("*"===t){for(;i=a[r++];)1===i.nodeType&&n.push(i);return n}return a},b.find.CLASS=y.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&$)return e.getElementsByClassName(t)},P=[],j=[],(y.qsa=pt.test(O.querySelectorAll))&&(r(function(t){D.appendChild(t).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&j.push("[*^$]="+tt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||j.push("\\["+tt+"*(?:value|"+Z+")"),t.querySelectorAll("[id~="+N+"-]").length||j.push("~="),t.querySelectorAll(":checked").length||j.push(":checked"),t.querySelectorAll("a#"+N+"+*").length||j.push(".#.+[+~]")}),r(function(t){var e=O.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&j.push("name"+tt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||j.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),j.push(",.*:")})),(y.matchesSelector=pt.test(R=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&r(function(t){y.disconnectedMatch=R.call(t,"div"),R.call(t,"[s!='']:x"),P.push("!=",nt)}),j=j.length&&new RegExp(j.join("|")),P=P.length&&new RegExp(P.join("|")),e=pt.test(D.compareDocumentPosition),I=e||pt.test(D.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return M=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!y.sortDetached&&e.compareDocumentPosition(t)===i?t===O||t.ownerDocument===L&&I(L,t)?-1:e===O||e.ownerDocument===L&&I(L,e)?1:A?Q(A,t)-Q(A,e):0:4&i?-1:1)}:function(t,e){if(t===e)return M=!0,0;var i,n=0,r=t.parentNode,a=e.parentNode,s=[t],l=[e];if(!r||!a)return t===O?-1:e===O?1:r?-1:a?1:A?Q(A,t)-Q(A,e):0;if(r===a)return o(t,e);for(i=t;i=i.parentNode;)s.unshift(i);for(i=e;i=i.parentNode;)l.unshift(i);for(;s[n]===l[n];)n++;return n?o(s[n],l[n]):s[n]===L?-1:l[n]===L?1:0},O):O},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==O&&E(t),i=i.replace(lt,"='$1']"),y.matchesSelector&&$&&!B[i+" "]&&(!P||!P.test(i))&&(!j||!j.test(i)))try{var n=R.call(t,i);if(n||y.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return e(i,O,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==O&&E(t),I(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==O&&E(t);var i=b.attrHandle[e.toLowerCase()],n=i&&W.call(b.attrHandle,e.toLowerCase())?i(t,e,!$):void 0;return void 0!==n?n:y.attributes||!$?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,r=0;if(M=!y.detectDuplicates,A=!y.sortStable&&t.slice(0),t.sort(V),M){for(;e=t[r++];)e===t[r]&&(n=i.push(r));for(;n--;)t.splice(i[n],1)}return A=null,t},w=e.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=w(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n++];)i+=w(e);return i},b=e.selectors={cacheLength:50,createPseudo:n,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_t,yt),t[3]=(t[3]||t[4]||t[5]||"").replace(_t,yt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return ht.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ut.test(i)&&(e=C(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(_t,yt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=q[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&q(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(r){var a=e.attr(r,t);return null==a?"!="===i:!i||(a+="","="===i?a===n:"!="===i?a!==n:"^="===i?n&&0===a.indexOf(n):"*="===i?n&&a.indexOf(n)>-1:"$="===i?n&&a.slice(-n.length)===n:"~="===i?(" "+a.replace(rt," ")+" ").indexOf(n)>-1:"|="===i&&(a===n||a.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,i,n,r){var a="nth"!==t.slice(0,3),o="last"!==t.slice(-4),s="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,l){var u,c,h,d,f,p,g=a!==o?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),_=!l&&!s,y=!1;if(m){if(a){for(;g;){for(d=e;d=d[g];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[o?m.firstChild:m.lastChild],o&&_){for(d=m,h=d[N]||(d[N]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),u=c[t]||[],f=u[0]===z&&u[1],y=f&&u[2],d=f&&m.childNodes[f];d=++f&&d&&d[g]||(y=f=0)||p.pop();)if(1===d.nodeType&&++y&&d===e){c[t]=[z,f,y];break}}else if(_&&(d=e,h=d[N]||(d[N]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),u=c[t]||[],f=u[0]===z&&u[1],y=f),!1===y)for(;(d=++f&&d&&d[g]||(y=f=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++y||(_&&(h=d[N]||(d[N]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),c[t]=[z,y]),d!==e)););return(y-=r)===n||y%n==0&&y/n>=0}}},PSEUDO:function(t,i){var r,a=b.pseudos[t]||b.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return a[N]?a(i):a.length>1?(r=[t,t,"",i],b.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,r=a(t,i),o=r.length;o--;)n=Q(t,r[o]),t[n]=!(e[n]=r[o])}):function(t){return a(t,0,r)}):a}},pseudos:{not:n(function(t){var e=[],i=[],r=k(t.replace(at,"$1"));return r[N]?n(function(t,e,i,n){for(var a,o=r(t,null,n,[]),s=t.length;s--;)(a=o[s])&&(t[s]=!(e[s]=a))}):function(t,n,a){return e[0]=t,r(e,null,a,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(_t,yt),function(e){return(e.textContent||e.innerText||w(e)).indexOf(t)>-1}}),lang:n(function(t){return ct.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(_t,yt).toLowerCase(),function(e){var i;do{if(i=$?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===D},focus:function(t){return t===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!b.pseudos.empty(t)},header:function(t){return ft.test(t.nodeName)},input:function(t){return dt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:s(function(){return[0]}),last:s(function(t,e){return[e-1]}),eq:s(function(t,e,i){return[i<0?i+e:i]}),even:s(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:s(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:s(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:s(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}},b.pseudos.nth=b.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[_]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(_);for(_ in{submit:!0,reset:!0})b.pseudos[_]=function(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}(_);return u.prototype=b.filters=b.pseudos,b.setFilters=new u,C=e.tokenize=function(t,i){var n,r,a,o,s,l,u,c=F[t+" "];if(c)return i?0:c.slice(0);for(s=t,l=[],u=b.preFilter;s;){n&&!(r=ot.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(a=[])),n=!1,(r=st.exec(s))&&(n=r.shift(),a.push({value:n,type:r[0].replace(at," ")}),s=s.slice(n.length));for(o in b.filter)!(r=ht[o].exec(s))||u[o]&&!(r=u[o](r))||(n=r.shift(),a.push({value:n,type:o,matches:r}),s=s.slice(n.length));if(!n)break}return i?s.length:s?e.error(t):F(t,l).slice(0)},k=e.compile=function(t,e){var i,n=[],r=[],a=B[t+" "];if(!a){for(e||(e=C(t)),i=e.length;i--;)a=m(e[i]),a[N]?n.push(a):r.push(a);a=B(t,v(r,n)),a.selector=t}return a},S=e.select=function(t,e,i,n){var r,a,o,s,u,h="function"==typeof t&&t,d=!n&&C(t=h.selector||t);if(i=i||[],1===d.length){if(a=d[0]=d[0].slice(0),a.length>2&&"ID"===(o=a[0]).type&&y.getById&&9===e.nodeType&&$&&b.relative[a[1].type]){if(!(e=(b.find.ID(o.matches[0].replace(_t,yt),e)||[])[0]))return i;h&&(e=e.parentNode),t=t.slice(a.shift().value.length)}for(r=ht.needsContext.test(t)?0:a.length;r--&&(o=a[r],!b.relative[s=o.type]);)if((u=b.find[s])&&(n=u(o.matches[0].replace(_t,yt),mt.test(a[0].type)&&l(e.parentNode)||e))){if(a.splice(r,1),!(t=n.length&&c(a)))return J.apply(i,n),i;break}}return(h||k(t,d))(n,e,!$,i,!e||mt.test(t)&&l(e.parentNode)||e),i},y.sortStable=N.split("").sort(V).join("")===N,y.detectDuplicates=!!M,E(),y.sortDetached=r(function(t){return 1&t.compareDocumentPosition(O.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||a("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),y.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||a("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||a(Z,function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(i);lt.find=ft,lt.expr=ft.selectors,lt.expr[":"]=lt.expr.pseudos,lt.uniqueSort=lt.unique=ft.uniqueSort,lt.text=ft.getText,lt.isXMLDoc=ft.isXML,lt.contains=ft.contains;var pt=function(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&lt(t).is(i))break;n.push(t)}return n},gt=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},mt=lt.expr.match.needsContext,vt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,_t=/^.[^:#\[\.,]*$/;lt.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?lt.find.matchesSelector(n,t)?[n]:[]:lt.find.matches(t,lt.grep(e,function(t){return 1===t.nodeType}))},lt.fn.extend({find:function(t){var e,i=this.length,n=[],r=this;if("string"!=typeof t)return this.pushStack(lt(t).filter(function(){for(e=0;e<i;e++)if(lt.contains(r[e],this))return!0}));for(e=0;e<i;e++)lt.find(t,r[e],n);return n=this.pushStack(i>1?lt.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(s(this,t||[],!1))},not:function(t){return this.pushStack(s(this,t||[],!0))},is:function(t){return!!s(this,"string"==typeof t&&mt.test(t)?lt(t):t||[],!1).length}});var yt,bt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(lt.fn.init=function(t,e,i){var n,r;if(!t)return this;if(i=i||yt,"string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:bt.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof lt?e[0]:e,lt.merge(this,lt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:Z,!0)),vt.test(n[1])&&lt.isPlainObject(e))for(n in e)lt.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return r=Z.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=Z,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):lt.isFunction(t)?void 0!==i.ready?i.ready(t):t(lt):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),lt.makeArray(t,this))}).prototype=lt.fn,yt=lt(Z);var wt=/^(?:parents|prev(?:Until|All))/,xt={children:!0,contents:!0,next:!0,prev:!0};lt.fn.extend({has:function(t){var e=lt(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(lt.contains(this,e[t]))return!0})},closest:function(t,e){for(var i,n=0,r=this.length,a=[],o=mt.test(t)||"string"!=typeof t?lt(t,e||this.context):0;n<r;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&lt.find.matchesSelector(i,t))){a.push(i);break}return this.pushStack(a.length>1?lt.uniqueSort(a):a)},index:function(t){return t?"string"==typeof t?nt.call(lt(t),this[0]):nt.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(lt.uniqueSort(lt.merge(this.get(),lt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),lt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return pt(t,"parentNode")},parentsUntil:function(t,e,i){return pt(t,"parentNode",i)},next:function(t){return l(t,"nextSibling")},prev:function(t){return l(t,"previousSibling")},nextAll:function(t){return pt(t,"nextSibling")},prevAll:function(t){return pt(t,"previousSibling")},nextUntil:function(t,e,i){return pt(t,"nextSibling",i)},prevUntil:function(t,e,i){return pt(t,"previousSibling",i)},siblings:function(t){return gt((t.parentNode||{}).firstChild,t)},children:function(t){return gt(t.firstChild)},contents:function(t){return t.contentDocument||lt.merge([],t.childNodes)}},function(t,e){lt.fn[t]=function(i,n){var r=lt.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=lt.filter(n,r)),this.length>1&&(xt[t]||lt.uniqueSort(r),wt.test(t)&&r.reverse()),this.pushStack(r)}});var Ct=/\S+/g;lt.Callbacks=function(t){t="string"==typeof t?u(t):lt.extend({},t);var e,i,n,r,a=[],o=[],s=-1,l=function(){for(r=t.once,n=e=!0;o.length;s=-1)for(i=o.shift();++s<a.length;)!1===a[s].apply(i[0],i[1])&&t.stopOnFalse&&(s=a.length,i=!1);t.memory||(i=!1),e=!1,r&&(a=i?[]:"")},c={add:function(){return a&&(i&&!e&&(s=a.length-1,o.push(i)),function e(i){lt.each(i,function(i,n){lt.isFunction(n)?t.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==lt.type(n)&&e(n)})}(arguments),i&&!e&&l()),this},remove:function(){return lt.each(arguments,function(t,e){for(var i;(i=lt.inArray(e,a,i))>-1;)a.splice(i,1),i<=s&&s--}),this},has:function(t){return t?lt.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return r=o=[],a=i="",this},disabled:function(){return!a},lock:function(){return r=o=[],i||(a=i=""),this},locked:function(){return!!r},fireWith:function(t,i){return r||(i=i||[],i=[t,i.slice?i.slice():i],o.push(i),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},lt.extend({Deferred:function(t){var e=[["resolve","done",lt.Callbacks("once memory"),"resolved"],["reject","fail",lt.Callbacks("once memory"),"rejected"],["notify","progress",lt.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return lt.Deferred(function(i){lt.each(e,function(e,a){var o=lt.isFunction(t[e])&&t[e];r[a[1]](function(){var t=o&&o.apply(this,arguments);t&&lt.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[a[0]+"With"](this===n?i.promise():this,o?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?lt.extend(t,n):n}},r={};return n.pipe=n.then,lt.each(e,function(t,a){var o=a[2],s=a[3];n[a[1]]=o.add,s&&o.add(function(){i=s},e[1^t][2].disable,e[2][2].lock),r[a[0]]=function(){return r[a[0]+"With"](this===r?n:this,arguments),this},r[a[0]+"With"]=o.fireWith}),n.promise(r),t&&t.call(r,r),r},when:function(t){var e,i,n,r=0,a=tt.call(arguments),o=a.length,s=1!==o||t&&lt.isFunction(t.promise)?o:0,l=1===s?t:lt.Deferred(),u=function(t,i,n){return function(r){i[t]=this,n[t]=arguments.length>1?tt.call(arguments):r,n===e?l.notifyWith(i,n):--s||l.resolveWith(i,n)}};if(o>1)for(e=new Array(o),i=new Array(o),n=new Array(o);r<o;r++)a[r]&&lt.isFunction(a[r].promise)?a[r].promise().progress(u(r,i,e)).done(u(r,n,a)).fail(l.reject):--s;return s||l.resolveWith(n,a),l.promise()}});var kt;lt.fn.ready=function(t){return lt.ready.promise().done(t),this},lt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?lt.readyWait++:lt.ready(!0)},ready:function(t){(!0===t?--lt.readyWait:lt.isReady)||(lt.isReady=!0,!0!==t&&--lt.readyWait>0||(kt.resolveWith(Z,[lt]),lt.fn.triggerHandler&&(lt(Z).triggerHandler("ready"),lt(Z).off("ready"))))}}),lt.ready.promise=function(t){return kt||(kt=lt.Deferred(),"complete"===Z.readyState||"loading"!==Z.readyState&&!Z.documentElement.doScroll?i.setTimeout(lt.ready):(Z.addEventListener("DOMContentLoaded",c),i.addEventListener("load",c))),kt.promise(t)},lt.ready.promise();var St=function(t,e,i,n,r,a,o){var s=0,l=t.length,u=null==i;if("object"===lt.type(i)){r=!0;for(s in i)St(t,e,s,i[s],!0,a,o)}else if(void 0!==n&&(r=!0,lt.isFunction(n)||(o=!0),u&&(o?(e.call(t,n),e=null):(u=e,e=function(t,e,i){return u.call(lt(t),i)})),e))for(;s<l;s++)e(t[s],i,o?n:n.call(t[s],s,e(t[s],i)));return r?t:u?e.call(t):l?e(t[0],i):a},Tt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};h.uid=1,h.prototype={register:function(t,e){var i=e||{};return t.nodeType?t[this.expando]=i:Object.defineProperty(t,this.expando,{value:i,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!Tt(t))return{};var e=t[this.expando];return e||(e={},Tt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,r=this.cache(t);if("string"==typeof e)r[e]=i;else for(n in e)r[n]=e[n];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,i){var n;return void 0===e||e&&"string"==typeof e&&void 0===i?(n=this.get(t,e),void 0!==n?n:this.get(t,lt.camelCase(e))):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n,r,a=t[this.expando];if(void 0!==a){if(void 0===e)this.register(t);else{lt.isArray(e)?n=e.concat(e.map(lt.camelCase)):(r=lt.camelCase(e),e in a?n=[e,r]:(n=r,n=n in a?[n]:n.match(Ct)||[])),i=n.length;for(;i--;)delete a[n[i]]}(void 0===e||lt.isEmptyObject(a))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!lt.isEmptyObject(e)}};var At=new h,Mt=new h,Et=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ot=/[A-Z]/g;lt.extend({hasData:function(t){return Mt.hasData(t)||At.hasData(t)},data:function(t,e,i){return Mt.access(t,e,i)},removeData:function(t,e){Mt.remove(t,e)},_data:function(t,e,i){return At.access(t,e,i)},_removeData:function(t,e){At.remove(t,e)}}),lt.fn.extend({data:function(t,e){var i,n,r,a=this[0],o=a&&a.attributes;if(void 0===t){if(this.length&&(r=Mt.get(a),1===a.nodeType&&!At.get(a,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&(n=o[i].name,0===n.indexOf("data-")&&(n=lt.camelCase(n.slice(5)),d(a,n,r[n])));At.set(a,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Mt.set(this,t)}):St(this,function(e){var i,n;if(a&&void 0===e){if(void 0!==(i=Mt.get(a,t)||Mt.get(a,t.replace(Ot,"-$&").toLowerCase())))return i;if(n=lt.camelCase(t),void 0!==(i=Mt.get(a,n)))return i;if(void 0!==(i=d(a,n,void 0)))return i}else n=lt.camelCase(t),this.each(function(){var i=Mt.get(this,n);Mt.set(this,n,e),t.indexOf("-")>-1&&void 0!==i&&Mt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Mt.remove(this,t)})}}),lt.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=At.get(t,e),i&&(!n||lt.isArray(i)?n=At.access(t,e,lt.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=lt.queue(t,e),n=i.length,r=i.shift(),a=lt._queueHooks(t,e),o=function(){lt.dequeue(t,e)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete a.stop,r.call(t,o,a)),!n&&a&&a.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return At.get(t,i)||At.access(t,i,{empty:lt.Callbacks("once memory").add(function(){At.remove(t,[e+"queue",i])})})}}),lt.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?lt.queue(this[0],t):void 0===e?this:this.each(function(){var i=lt.queue(this,t,e);lt._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&lt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){lt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=lt.Deferred(),a=this,o=this.length,s=function(){--n||r.resolveWith(a,[a])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(i=At.get(a[o],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(s));return s(),r.promise(e)}});var Dt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,$t=new RegExp("^(?:([+-])=|)("+Dt+")([a-z%]*)$","i"),jt=["Top","Right","Bottom","Left"],Pt=function(t,e){return t=e||t,"none"===lt.css(t,"display")||!lt.contains(t.ownerDocument,t)},Rt=/^(?:checkbox|radio)$/i,It=/<([\w:-]+)/,Nt=/^$|\/(?:java|ecma)script/i,Lt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Lt.optgroup=Lt.option,Lt.tbody=Lt.tfoot=Lt.colgroup=Lt.caption=Lt.thead,Lt.th=Lt.td;var zt=/<|&#?\w+;/;!function(){var t=Z.createDocumentFragment(),e=t.appendChild(Z.createElement("div")),i=Z.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),st.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",st.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Ht=/^key/,qt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ft=/^([^.]*)(?:\.(.+)|)/;lt.event={global:{},add:function(t,e,i,n,r){var a,o,s,l,u,c,h,d,f,p,g,m=At.get(t);if(m)for(i.handler&&(a=i,i=a.handler,r=a.selector),i.guid||(i.guid=lt.guid++),(l=m.events)||(l=m.events={}),(o=m.handle)||(o=m.handle=function(e){return void 0!==lt&&lt.event.triggered!==e.type?lt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Ct)||[""],u=e.length;u--;)s=Ft.exec(e[u])||[],f=g=s[1],p=(s[2]||"").split(".").sort(),f&&(h=lt.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=lt.event.special[f]||{},c=lt.extend({type:f,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&lt.expr.match.needsContext.test(r),namespace:p.join(".")},a),(d=l[f])||(d=l[f]=[],d.delegateCount=0,h.setup&&!1!==h.setup.call(t,n,p,o)||t.addEventListener&&t.addEventListener(f,o)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=i.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),lt.event.global[f]=!0)},remove:function(t,e,i,n,r){var a,o,s,l,u,c,h,d,f,p,g,m=At.hasData(t)&&At.get(t);if(m&&(l=m.events)){for(e=(e||"").match(Ct)||[""],u=e.length;u--;)if(s=Ft.exec(e[u])||[],f=g=s[1],p=(s[2]||"").split(".").sort(),f){for(h=lt.event.special[f]||{},f=(n?h.delegateType:h.bindType)||f,d=l[f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=d.length;a--;)c=d[a],!r&&g!==c.origType||i&&i.guid!==c.guid||s&&!s.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(d.splice(a,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(t,c));o&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,p,m.handle)||lt.removeEvent(t,f,m.handle),delete l[f])}else for(f in l)lt.event.remove(t,f+e[u],i,n,!0);lt.isEmptyObject(l)&&At.remove(t,"handle events")}},dispatch:function(t){t=lt.event.fix(t);var e,i,n,r,a,o=[],s=tt.call(arguments),l=(At.get(this,"events")||{})[t.type]||[],u=lt.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,t)){for(o=lt.event.handlers.call(this,t,l),e=0;(r=o[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,i=0;(a=r.handlers[i++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(a.namespace)||(t.handleObj=a,t.data=a.data,void 0!==(n=((lt.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,s))&&!1===(t.result=n)&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,r,a,o=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(n=[],i=0;i<s;i++)a=e[i],r=a.selector+" ",void 0===n[r]&&(n[r]=a.needsContext?lt(r,this).index(l)>-1:lt.find(r,this,null,[l]).length),n[r]&&n.push(a);n.length&&o.push({elem:l,handlers:n})}return s<e.length&&o.push({elem:this,handlers:e.slice(s)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,r,a=e.button;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||Z,n=i.documentElement,r=i.body,t.pageX=e.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n&&n.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n&&n.clientTop||r&&r.clientTop||0)),t.which||void 0===a||(t.which=1&a?1:2&a?3:4&a?2:0),t}},fix:function(t){if(t[lt.expando])return t;var e,i,n,r=t.type,a=t,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=qt.test(r)?this.mouseHooks:Ht.test(r)?this.keyHooks:{}),n=o.props?this.props.concat(o.props):this.props,t=new lt.Event(a),e=n.length;e--;)i=n[e],t[i]=a[i];return t.target||(t.target=Z),3===t.target.nodeType&&(t.target=t.target.parentNode),o.filter?o.filter(t,a):t},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==y()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===y()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&lt.nodeName(this,"input"))return this.click(),!1},_default:function(t){return lt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},lt.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},lt.Event=function(t,e){if(!(this instanceof lt.Event))return new lt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?v:_):this.type=t,e&&lt.extend(this,e),this.timeStamp=t&&t.timeStamp||lt.now(),this[lt.expando]=!0},lt.Event.prototype={constructor:lt.Event,isDefaultPrevented:_,isPropagationStopped:_,isImmediatePropagationStopped:_,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=v,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=v,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=v,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},lt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){lt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,a=t.handleObj;return r&&(r===n||lt.contains(n,r))||(t.type=a.origType,i=a.handler.apply(this,arguments),t.type=e),i}}}),lt.fn.extend({on:function(t,e,i,n){return b(this,t,e,i,n)},one:function(t,e,i,n){return b(this,t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,lt(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=_),this.each(function(){lt.event.remove(this,t,i,e)})}});var Bt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Vt=/<script|<style|<link/i,Ut=/checked\s*(?:[^=]|=\s*.checked.)/i,Wt=/^true\/(.*)/,Gt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;lt.extend({htmlPrefilter:function(t){return t.replace(Bt,"<$1></$2>")},clone:function(t,e,i){var n,r,a,o,s=t.cloneNode(!0),l=lt.contains(t.ownerDocument,t);if(!(st.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||lt.isXMLDoc(t)))for(o=p(s),a=p(t),n=0,r=a.length;n<r;n++)S(a[n],o[n]);if(e)if(i)for(a=a||p(t),o=o||p(s),n=0,r=a.length;n<r;n++)k(a[n],o[n]);else k(t,s);return o=p(s,"script"),o.length>0&&g(o,!l&&p(t,"script")),s},cleanData:function(t){for(var e,i,n,r=lt.event.special,a=0;void 0!==(i=t[a]);a++)if(Tt(i)){if(e=i[At.expando]){if(e.events)for(n in e.events)r[n]?lt.event.remove(i,n):lt.removeEvent(i,n,e.handle);i[At.expando]=void 0}i[Mt.expando]&&(i[Mt.expando]=void 0)}}}),lt.fn.extend({domManip:T,detach:function(t){return A(this,t,!0)},remove:function(t){return A(this,t)},text:function(t){return St(this,function(t){return void 0===t?lt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return T(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){w(this,t).appendChild(t)}})},prepend:function(){return T(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=w(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return T(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return T(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(lt.cleanData(p(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return lt.clone(this,t,e)})},html:function(t){return St(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Vt.test(t)&&!Lt[(It.exec(t)||["",""])[1].toLowerCase()]){t=lt.htmlPrefilter(t);try{for(;i<n;i++)e=this[i]||{},1===e.nodeType&&(lt.cleanData(p(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return T(this,arguments,function(e){var i=this.parentNode;lt.inArray(this,t)<0&&(lt.cleanData(p(this)),i&&i.replaceChild(e,this))},t)}}),lt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){lt.fn[t]=function(t){for(var i,n=[],r=lt(t),a=r.length-1,o=0;o<=a;o++)i=o===a?this:this.clone(!0),lt(r[o])[e](i),it.apply(n,i.get());return this.pushStack(n)}});var Xt,Yt={HTML:"block",BODY:"block"},Jt=/^margin/,Kt=new RegExp("^("+Dt+")(?!px)[a-z%]+$","i"),Qt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=i),e.getComputedStyle(t)},Zt=function(t,e,i,n){var r,a,o={};for(a in e)o[a]=t.style[a],t.style[a]=e[a];r=i.apply(t,n||[]);for(a in e)t.style[a]=o[a];return r},te=Z.documentElement;!function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",te.appendChild(o);var t=i.getComputedStyle(s);e="1%"!==t.top,a="2px"===t.marginLeft,n="4px"===t.width,s.style.marginRight="50%",r="4px"===t.marginRight,te.removeChild(o)}var e,n,r,a,o=Z.createElement("div"),s=Z.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",st.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",o.appendChild(s),lt.extend(st,{pixelPosition:function(){return t(),e},boxSizingReliable:function(){return null==n&&t(),n},pixelMarginRight:function(){return null==n&&t(),r},reliableMarginLeft:function(){return null==n&&t(),a},reliableMarginRight:function(){var t,e=s.appendChild(Z.createElement("div"));return e.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",s.style.width="1px",te.appendChild(o),t=!parseFloat(i.getComputedStyle(e).marginRight),te.removeChild(o),s.removeChild(e),t}}))}();var ee=/^(none|table(?!-c[ea]).+)/,ie={position:"absolute",visibility:"hidden",display:"block"},ne={letterSpacing:"0",fontWeight:"400"},re=["Webkit","O","Moz","ms"],ae=Z.createElement("div").style;lt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=O(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,a,o,s=lt.camelCase(e),l=t.style;if(e=lt.cssProps[s]||(lt.cssProps[s]=$(s)||s),o=lt.cssHooks[e]||lt.cssHooks[s],void 0===i)return o&&"get"in o&&void 0!==(r=o.get(t,!1,n))?r:l[e];a=typeof i,"string"===a&&(r=$t.exec(i))&&r[1]&&(i=f(t,e,r),a="number"),null!=i&&i===i&&("number"===a&&(i+=r&&r[3]||(lt.cssNumber[s]?"":"px")),st.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),o&&"set"in o&&void 0===(i=o.set(t,i,n))||(l[e]=i))}},css:function(t,e,i,n){var r,a,o,s=lt.camelCase(e);return e=lt.cssProps[s]||(lt.cssProps[s]=$(s)||s),o=lt.cssHooks[e]||lt.cssHooks[s],o&&"get"in o&&(r=o.get(t,!0,i)),void 0===r&&(r=O(t,e,n)),"normal"===r&&e in ne&&(r=ne[e]),""===i||i?(a=parseFloat(r),!0===i||isFinite(a)?a||0:r):r}}),lt.each(["height","width"],function(t,e){lt.cssHooks[e]={get:function(t,i,n){if(i)return ee.test(lt.css(t,"display"))&&0===t.offsetWidth?Zt(t,ie,function(){return R(t,e,n)}):R(t,e,n)},set:function(t,i,n){var r,a=n&&Qt(t),o=n&&P(t,e,n,"border-box"===lt.css(t,"boxSizing",!1,a),a);return o&&(r=$t.exec(i))&&"px"!==(r[3]||"px")&&(t.style[e]=i,i=lt.css(t,e)),j(t,i,o)}}}),lt.cssHooks.marginLeft=D(st.reliableMarginLeft,function(t,e){if(e)return(parseFloat(O(t,"marginLeft"))||t.getBoundingClientRect().left-Zt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),lt.cssHooks.marginRight=D(st.reliableMarginRight,function(t,e){if(e)return Zt(t,{display:"inline-block"},O,[t,"marginRight"])}),lt.each({margin:"",padding:"",border:"Width"},function(t,e){lt.cssHooks[t+e]={expand:function(i){for(var n=0,r={},a="string"==typeof i?i.split(" "):[i];n<4;n++)r[t+jt[n]+e]=a[n]||a[n-2]||a[0];return r}},Jt.test(t)||(lt.cssHooks[t+e].set=j)}),lt.fn.extend({css:function(t,e){return St(this,function(t,e,i){var n,r,a={},o=0;if(lt.isArray(e)){for(n=Qt(t),r=e.length;o<r;o++)a[e[o]]=lt.css(t,e[o],!1,n);return a}return void 0!==i?lt.style(t,e,i):lt.css(t,e)},t,e,arguments.length>1)},show:function(){return I(this,!0)},hide:function(){return I(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Pt(this)?lt(this).show():lt(this).hide()})}}),lt.Tween=N,N.prototype={constructor:N,init:function(t,e,i,n,r,a){this.elem=t,this.prop=i,this.easing=r||lt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=a||(lt.cssNumber[i]?"":"px")},cur:function(){var t=N.propHooks[this.prop];return t&&t.get?t.get(this):N.propHooks._default.get(this)},run:function(t){var e,i=N.propHooks[this.prop];return this.options.duration?this.pos=e=lt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):N.propHooks._default.set(this),this}},N.prototype.init.prototype=N.prototype,N.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=lt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){lt.fx.step[t.prop]?lt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[lt.cssProps[t.prop]]&&!lt.cssHooks[t.prop]?t.elem[t.prop]=t.now:lt.style(t.elem,t.prop,t.now+t.unit)}}},N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},lt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},lt.fx=N.prototype.init,lt.fx.step={};var oe,se,le=/^(?:toggle|show|hide)$/,ue=/queueHooks$/;lt.Animation=lt.extend(B,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return f(i.elem,t,$t.exec(e),i),i}]},tweener:function(t,e){lt.isFunction(t)?(e=t,t=["*"]):t=t.match(Ct);for(var i,n=0,r=t.length;n<r;n++)i=t[n],B.tweeners[i]=B.tweeners[i]||[],B.tweeners[i].unshift(e)},prefilters:[q],prefilter:function(t,e){e?B.prefilters.unshift(t):B.prefilters.push(t)}}),lt.speed=function(t,e,i){var n=t&&"object"==typeof t?lt.extend({},t):{complete:i||!i&&e||lt.isFunction(t)&&t,duration:t,easing:i&&e||e&&!lt.isFunction(e)&&e};return n.duration=lt.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in lt.fx.speeds?lt.fx.speeds[n.duration]:lt.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){lt.isFunction(n.old)&&n.old.call(this),n.queue&&lt.dequeue(this,n.queue)},n},lt.fn.extend({fadeTo:function(t,e,i,n){return this.filter(Pt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=lt.isEmptyObject(t),a=lt.speed(e,i,n),o=function(){var e=B(this,lt.extend({},t),a);(r||At.get(this,"finish"))&&e.stop(!0)};return o.finish=o,r||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",a=lt.timers,o=At.get(this);if(r)o[r]&&o[r].stop&&n(o[r]);else for(r in o)o[r]&&o[r].stop&&ue.test(r)&&n(o[r]);for(r=a.length;r--;)a[r].elem!==this||null!=t&&a[r].queue!==t||(a[r].anim.stop(i),e=!1,a.splice(r,1));!e&&i||lt.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,i=At.get(this),n=i[t+"queue"],r=i[t+"queueHooks"],a=lt.timers,o=n?n.length:0;for(i.finish=!0,lt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=a.length;e--;)a[e].elem===this&&a[e].queue===t&&(a[e].anim.stop(!0),a.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),lt.each(["toggle","show","hide"],function(t,e){var i=lt.fn[e];lt.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(z(e,!0),t,n,r)}}),lt.each({slideDown:z("show"),slideUp:z("hide"),slideToggle:z("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){lt.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),lt.timers=[],lt.fx.tick=function(){var t,e=0,i=lt.timers;for(oe=lt.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||lt.fx.stop(),oe=void 0},lt.fx.timer=function(t){lt.timers.push(t),t()?lt.fx.start():lt.timers.pop()},lt.fx.interval=13,lt.fx.start=function(){se||(se=i.setInterval(lt.fx.tick,lt.fx.interval))},lt.fx.stop=function(){i.clearInterval(se),se=null},lt.fx.speeds={slow:600,fast:200,_default:400},lt.fn.delay=function(t,e){return t=lt.fx?lt.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var r=i.setTimeout(e,t);n.stop=function(){i.clearTimeout(r)}})},function(){var t=Z.createElement("input"),e=Z.createElement("select"),i=e.appendChild(Z.createElement("option"));t.type="checkbox",st.checkOn=""!==t.value,st.optSelected=i.selected,e.disabled=!0,st.optDisabled=!i.disabled,t=Z.createElement("input"),t.value="t",t.type="radio",st.radioValue="t"===t.value}();var ce,he=lt.expr.attrHandle;lt.fn.extend({attr:function(t,e){return St(this,lt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){lt.removeAttr(this,t)})}}),lt.extend({attr:function(t,e,i){var n,r,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===t.getAttribute?lt.prop(t,e,i):(1===a&&lt.isXMLDoc(t)||(e=e.toLowerCase(),r=lt.attrHooks[e]||(lt.expr.match.bool.test(e)?ce:void 0)),void 0!==i?null===i?void lt.removeAttr(t,e):r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:(t.setAttribute(e,i+""),i):r&&"get"in r&&null!==(n=r.get(t,e))?n:(n=lt.find.attr(t,e),null==n?void 0:n))},attrHooks:{type:{set:function(t,e){if(!st.radioValue&&"radio"===e&&lt.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n,r=0,a=e&&e.match(Ct);if(a&&1===t.nodeType)for(;i=a[r++];)n=lt.propFix[i]||i,lt.expr.match.bool.test(i)&&(t[n]=!1),t.removeAttribute(i)}}),ce={set:function(t,e,i){return!1===e?lt.removeAttr(t,i):t.setAttribute(i,i),i}},lt.each(lt.expr.match.bool.source.match(/\w+/g),function(t,e){var i=he[e]||lt.find.attr;he[e]=function(t,e,n){var r,a;return n||(a=he[e],he[e]=r,r=null!=i(t,e,n)?e.toLowerCase():null,he[e]=a),r}});var de=/^(?:input|select|textarea|button)$/i,fe=/^(?:a|area)$/i;lt.fn.extend({prop:function(t,e){return St(this,lt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[lt.propFix[t]||t]})}}),lt.extend({prop:function(t,e,i){var n,r,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&lt.isXMLDoc(t)||(e=lt.propFix[e]||e,r=lt.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=lt.find.attr(t,"tabindex");return e?parseInt(e,10):de.test(t.nodeName)||fe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),st.optSelected||(lt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),lt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){lt.propFix[this.toLowerCase()]=this});var pe=/[\t\r\n\f]/g;lt.fn.extend({addClass:function(t){var e,i,n,r,a,o,s,l=0;if(lt.isFunction(t))return this.each(function(e){lt(this).addClass(t.call(this,e,V(this)))});if("string"==typeof t&&t)for(e=t.match(Ct)||[];i=this[l++];)if(r=V(i),n=1===i.nodeType&&(" "+r+" ").replace(pe," ")){for(o=0;a=e[o++];)n.indexOf(" "+a+" ")<0&&(n+=a+" ");s=lt.trim(n),r!==s&&i.setAttribute("class",s)}return this},removeClass:function(t){var e,i,n,r,a,o,s,l=0;if(lt.isFunction(t))return this.each(function(e){lt(this).removeClass(t.call(this,e,V(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Ct)||[];i=this[l++];)if(r=V(i),n=1===i.nodeType&&(" "+r+" ").replace(pe," ")){for(o=0;a=e[o++];)for(;n.indexOf(" "+a+" ")>-1;)n=n.replace(" "+a+" "," ");s=lt.trim(n),r!==s&&i.setAttribute("class",s)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):lt.isFunction(t)?this.each(function(i){lt(this).toggleClass(t.call(this,i,V(this),e),e)}):this.each(function(){var e,n,r,a;if("string"===i)for(n=0,r=lt(this),a=t.match(Ct)||[];e=a[n++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==i||(e=V(this),e&&At.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":At.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+V(i)+" ").replace(pe," ").indexOf(e)>-1)return!0;return!1}});var ge=/\r/g,me=/[\x20\t\r\n\f]+/g;lt.fn.extend({val:function(t){var e,i,n,r=this[0];{if(arguments.length)return n=lt.isFunction(t),this.each(function(i){var r;1===this.nodeType&&(r=n?t.call(this,i,lt(this).val()):t,null==r?r="":"number"==typeof r?r+="":lt.isArray(r)&&(r=lt.map(r,function(t){return null==t?"":t+""})),(e=lt.valHooks[this.type]||lt.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return(e=lt.valHooks[r.type]||lt.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(ge,""):null==i?"":i)}}}),lt.extend({valHooks:{option:{get:function(t){var e=lt.find.attr(t,"value");return null!=e?e:lt.trim(lt.text(t)).replace(me," ")}},select:{get:function(t){for(var e,i,n=t.options,r=t.selectedIndex,a="select-one"===t.type||r<0,o=a?null:[],s=a?r+1:n.length,l=r<0?s:a?r:0;l<s;l++)if(i=n[l],(i.selected||l===r)&&(st.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!lt.nodeName(i.parentNode,"optgroup"))){if(e=lt(i).val(),a)return e;o.push(e)}return o},set:function(t,e){for(var i,n,r=t.options,a=lt.makeArray(e),o=r.length;o--;)n=r[o],(n.selected=lt.inArray(lt.valHooks.option.get(n),a)>-1)&&(i=!0);return i||(t.selectedIndex=-1),a}}}}),lt.each(["radio","checkbox"],function(){lt.valHooks[this]={set:function(t,e){if(lt.isArray(e))return t.checked=lt.inArray(lt(t).val(),e)>-1}},st.checkOn||(lt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var ve=/^(?:focusinfocus|focusoutblur)$/;lt.extend(lt.event,{trigger:function(t,e,n,r){var a,o,s,l,u,c,h,d=[n||Z],f=ot.call(t,"type")?t.type:t,p=ot.call(t,"namespace")?t.namespace.split("."):[];if(o=s=n=n||Z,3!==n.nodeType&&8!==n.nodeType&&!ve.test(f+lt.event.triggered)&&(f.indexOf(".")>-1&&(p=f.split("."),f=p.shift(),p.sort()),u=f.indexOf(":")<0&&"on"+f,t=t[lt.expando]?t:new lt.Event(f,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:lt.makeArray(e,[t]),h=lt.event.special[f]||{},r||!h.trigger||!1!==h.trigger.apply(n,e))){if(!r&&!h.noBubble&&!lt.isWindow(n)){for(l=h.delegateType||f,ve.test(l+f)||(o=o.parentNode);o;o=o.parentNode)d.push(o),s=o;s===(n.ownerDocument||Z)&&d.push(s.defaultView||s.parentWindow||i)}for(a=0;(o=d[a++])&&!t.isPropagationStopped();)t.type=a>1?l:h.bindType||f,c=(At.get(o,"events")||{})[t.type]&&At.get(o,"handle"),c&&c.apply(o,e),(c=u&&o[u])&&c.apply&&Tt(o)&&(t.result=c.apply(o,e),!1===t.result&&t.preventDefault());return t.type=f,r||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(d.pop(),e)||!Tt(n)||u&&lt.isFunction(n[f])&&!lt.isWindow(n)&&(s=n[u],s&&(n[u]=null),lt.event.triggered=f,n[f](),lt.event.triggered=void 0,s&&(n[u]=s)),t.result}},simulate:function(t,e,i){var n=lt.extend(new lt.Event,i,{type:t,isSimulated:!0});lt.event.trigger(n,null,e)}}),lt.fn.extend({trigger:function(t,e){return this.each(function(){lt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return lt.event.trigger(t,e,i,!0)}}),lt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){lt.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),lt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),st.focusin="onfocusin"in i,st.focusin||lt.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){lt.event.simulate(e,t.target,lt.event.fix(t))};lt.event.special[e]={setup:function(){var n=this.ownerDocument||this,r=At.access(n,e);r||n.addEventListener(t,i,!0),At.access(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=At.access(n,e)-1;r?At.access(n,e,r):(n.removeEventListener(t,i,!0),At.remove(n,e))}}});var _e=i.location,ye=lt.now(),be=/\?/;lt.parseJSON=function(t){return JSON.parse(t+"")},lt.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new i.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||lt.error("Invalid XML: "+t),e};var we=/#.*$/,xe=/([?&])_=[^&]*/,Ce=/^(.*?):[ \t]*([^\r\n]*)$/gm,ke=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Se=/^(?:GET|HEAD)$/,Te=/^\/\//,Ae={},Me={},Ee="*/".concat("*"),Oe=Z.createElement("a");Oe.href=_e.href,lt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_e.href,type:"GET",isLocal:ke.test(_e.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ee,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":lt.parseJSON,"text xml":lt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?G(G(t,lt.ajaxSettings),e):G(lt.ajaxSettings,t)},ajaxPrefilter:U(Ae),ajaxTransport:U(Me),ajax:function(t,e){function n(t,e,n,s){var u,h,_,y,w,C=e;2!==b&&(b=2,l&&i.clearTimeout(l),r=void 0,o=s||"",x.readyState=t>0?4:0,u=t>=200&&t<300||304===t,n&&(y=X(d,x,n)),y=Y(d,y,x,u),u?(d.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(lt.lastModified[a]=w),(w=x.getResponseHeader("etag"))&&(lt.etag[a]=w)),204===t||"HEAD"===d.type?C="nocontent":304===t?C="notmodified":(C=y.state,h=y.data,_=y.error,u=!_)):(_=C,!t&&C||(C="error",t<0&&(t=0))),x.status=t,x.statusText=(e||C)+"",u?g.resolveWith(f,[h,C,x]):g.rejectWith(f,[x,C,_]),x.statusCode(v),v=void 0,c&&p.trigger(u?"ajaxSuccess":"ajaxError",[x,d,u?h:_]),m.fireWith(f,[x,C]),c&&(p.trigger("ajaxComplete",[x,d]),--lt.active||lt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,a,o,s,l,u,c,h,d=lt.ajaxSetup({},e),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?lt(f):lt.event,g=lt.Deferred(),m=lt.Callbacks("once memory"),v=d.statusCode||{},_={},y={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!s)for(s={};e=Ce.exec(o);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return b||(t=y[i]=y[i]||t,_[t]=e),this},overrideMimeType:function(t){return b||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(b<2)for(e in t)v[e]=[v[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||w;return r&&r.abort(e),n(0,e),this}};if(g.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,d.url=((t||d.url||_e.href)+"").replace(we,"").replace(Te,_e.protocol+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=lt.trim(d.dataType||"*").toLowerCase().match(Ct)||[""],null==d.crossDomain){u=Z.createElement("a");try{u.href=d.url,u.href=u.href,d.crossDomain=Oe.protocol+"//"+Oe.host!=u.protocol+"//"+u.host}catch(t){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=lt.param(d.data,d.traditional)),W(Ae,d,e,x),2===b)return x;c=lt.event&&d.global,c&&0==lt.active++&&lt.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Se.test(d.type),a=d.url,d.hasContent||(d.data&&(a=d.url+=(be.test(a)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=xe.test(a)?a.replace(xe,"$1_="+ye++):a+(be.test(a)?"&":"?")+"_="+ye++)),d.ifModified&&(lt.lastModified[a]&&x.setRequestHeader("If-Modified-Since",lt.lastModified[a]),lt.etag[a]&&x.setRequestHeader("If-None-Match",lt.etag[a])),(d.data&&d.hasContent&&!1!==d.contentType||e.contentType)&&x.setRequestHeader("Content-Type",d.contentType),x.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ee+"; q=0.01":""):d.accepts["*"]);for(h in d.headers)x.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(!1===d.beforeSend.call(f,x,d)||2===b))return x.abort();w="abort";for(h in{success:1,error:1,complete:1})x[h](d[h]);if(r=W(Me,d,e,x)){if(x.readyState=1,c&&p.trigger("ajaxSend",[x,d]),2===b)return x;d.async&&d.timeout>0&&(l=i.setTimeout(function(){x.abort("timeout")},d.timeout));try{b=1,r.send(_,n)}catch(t){if(!(b<2))throw t;n(-1,t)}}else n(-1,"No Transport");return x},getJSON:function(t,e,i){return lt.get(t,e,i,"json")},getScript:function(t,e){return lt.get(t,void 0,e,"script")}}),lt.each(["get","post"],function(t,e){lt[e]=function(t,i,n,r){return lt.isFunction(i)&&(r=r||n,n=i,i=void 0),lt.ajax(lt.extend({url:t,type:e,dataType:r,data:i,success:n},lt.isPlainObject(t)&&t))}}),lt._evalUrl=function(t){return lt.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},lt.fn.extend({wrapAll:function(t){var e;return lt.isFunction(t)?this.each(function(e){lt(this).wrapAll(t.call(this,e))}):(this[0]&&(e=lt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return lt.isFunction(t)?this.each(function(e){lt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=lt(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=lt.isFunction(t);return this.each(function(i){lt(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){lt.nodeName(this,"body")||lt(this).replaceWith(this.childNodes)}).end()}}),lt.expr.filters.hidden=function(t){return!lt.expr.filters.visible(t)},lt.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var De=/%20/g,$e=/\[\]$/,je=/\r?\n/g,Pe=/^(?:submit|button|image|reset|file)$/i,Re=/^(?:input|select|textarea|keygen)/i;lt.param=function(t,e){var i,n=[],r=function(t,e){e=lt.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=lt.ajaxSettings&&lt.ajaxSettings.traditional),lt.isArray(t)||t.jquery&&!lt.isPlainObject(t))lt.each(t,function(){r(this.name,this.value)});else for(i in t)J(i,t[i],e,r);return n.join("&").replace(De,"+")},lt.fn.extend({serialize:function(){return lt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=lt.prop(this,"elements");return t?lt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!lt(this).is(":disabled")&&Re.test(this.nodeName)&&!Pe.test(t)&&(this.checked||!Rt.test(t))}).map(function(t,e){var i=lt(this).val();return null==i?null:lt.isArray(i)?lt.map(i,function(t){return{name:e.name,value:t.replace(je,"\r\n")}}):{name:e.name,value:i.replace(je,"\r\n")}}).get()}}),lt.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(t){}};var Ie={0:200,1223:204},Ne=lt.ajaxSettings.xhr();st.cors=!!Ne&&"withCredentials"in Ne,st.ajax=Ne=!!Ne,lt.ajaxTransport(function(t){var e,n;if(st.cors||Ne&&!t.crossDomain)return{send:function(r,a){var o,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)s[o]=t.xhrFields[o];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(o in r)s.setRequestHeader(o,r[o]);e=function(t){return function(){e&&(e=n=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?a(0,"error"):a(s.status,s.statusText):a(Ie[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),n=s.onerror=e("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&i.setTimeout(function(){e&&n()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),lt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return lt.globalEval(t),t}}}),lt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),lt.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,r){e=lt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&r("error"===t.type?404:200,t.type)}),Z.head.appendChild(e[0])},abort:function(){i&&i()}}}});var Le=[],ze=/(=)\?(?=&|$)|\?\?/;lt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Le.pop()||lt.expando+"_"+ye++;return this[t]=!0,t}}),lt.ajaxPrefilter("json jsonp",function(t,e,n){var r,a,o,s=!1!==t.jsonp&&(ze.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ze.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=lt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ze,"$1"+r):!1!==t.jsonp&&(t.url+=(be.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||lt.error(r+" was not called"),o[0]},t.dataTypes[0]="json",a=i[r],i[r]=function(){o=arguments},n.always(function(){void 0===a?lt(i).removeProp(r):i[r]=a,t[r]&&(t.jsonpCallback=e.jsonpCallback,Le.push(r)),o&&lt.isFunction(a)&&a(o[0]),o=a=void 0}),"script"}),lt.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||Z;var n=vt.exec(t),r=!i&&[];return n?[e.createElement(n[1])]:(n=m([t],e,r),r&&r.length&&lt(r).remove(),lt.merge([],n.childNodes))};var He=lt.fn.load;lt.fn.load=function(t,e,i){if("string"!=typeof t&&He)return He.apply(this,arguments);var n,r,a,o=this,s=t.indexOf(" ");return s>-1&&(n=lt.trim(t.slice(s)),t=t.slice(0,s)),lt.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),o.length>0&&lt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){a=arguments,o.html(n?lt("<div>").append(lt.parseHTML(t)).find(n):t)}).always(i&&function(t,e){o.each(function(){i.apply(this,a||[t.responseText,e,t])})}),this},lt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){lt.fn[e]=function(t){return this.on(e,t)}}),lt.expr.filters.animated=function(t){return lt.grep(lt.timers,function(e){return t===e.elem}).length},lt.offset={setOffset:function(t,e,i){var n,r,a,o,s,l,u,c=lt.css(t,"position"),h=lt(t),d={};"static"===c&&(t.style.position="relative"),s=h.offset(),a=lt.css(t,"top"),l=lt.css(t,"left"),u=("absolute"===c||"fixed"===c)&&(a+l).indexOf("auto")>-1,u?(n=h.position(),o=n.top,r=n.left):(o=parseFloat(a)||0,r=parseFloat(l)||0),lt.isFunction(e)&&(e=e.call(t,i,lt.extend({},s))),null!=e.top&&(d.top=e.top-s.top+o),null!=e.left&&(d.left=e.left-s.left+r),"using"in e?e.using.call(t,d):h.css(d)}},lt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){lt.offset.setOffset(this,t,e)});var e,i,n=this[0],r={top:0,left:0},a=n&&n.ownerDocument;if(a)return e=a.documentElement,lt.contains(e,n)?(r=n.getBoundingClientRect(),i=K(a),{top:r.top+i.pageYOffset-e.clientTop,left:r.left+i.pageXOffset-e.clientLeft}):r},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===lt.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),lt.nodeName(t[0],"html")||(n=t.offset()),n.top+=lt.css(t[0],"borderTopWidth",!0),n.left+=lt.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-lt.css(i,"marginTop",!0),left:e.left-n.left-lt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===lt.css(t,"position");)t=t.offsetParent;return t||te})}}),lt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;lt.fn[t]=function(n){return St(this,function(t,n,r){var a=K(t);if(void 0===r)return a?a[e]:t[n];a?a.scrollTo(i?a.pageXOffset:r,i?r:a.pageYOffset):t[n]=r},t,n,arguments.length)}}),lt.each(["top","left"],function(t,e){lt.cssHooks[e]=D(st.pixelPosition,function(t,i){if(i)return i=O(t,e),Kt.test(i)?lt(t).position()[e]+"px":i})}),lt.each({Height:"height",Width:"width"},function(t,e){lt.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){lt.fn[n]=function(n,r){var a=arguments.length&&(i||"boolean"!=typeof n),o=i||(!0===n||!0===r?"margin":"border");return St(this,function(e,i,n){var r;return lt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===n?lt.css(e,i,o):lt.style(e,i,n,o)},e,a?n:void 0,a,null)}})}),lt.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},size:function(){return this.length}}),lt.fn.andSelf=lt.fn.addBack,n=[],void 0!==(r=function(){return lt}.apply(e,n))&&(t.exports=r);var qe=i.jQuery,Fe=i.$;return lt.noConflict=function(t){return i.$===lt&&(i.$=Fe),t&&i.jQuery===lt&&(i.jQuery=qe),lt},a||(i.jQuery=i.$=lt),lt})},function(t,e,i){var n,r;(function(){function i(t){function e(e,i,n,r,a,o){for(;a>=0&&a<o;a+=t){var s=r?r[a]:a;n=i(n,e[s],s,e)}return n}return function(i,n,r,a){n=C(n,a,4);var o=!O(i)&&x.keys(i),s=(o||i).length,l=t>0?0:s-1;return arguments.length<3&&(r=i[o?o[l]:l],l+=t),e(i,n,r,o,l,s)}}function a(t){return function(e,i,n){i=k(i,n);for(var r=E(e),a=t>0?0:r-1;a>=0&&a<r;a+=t)if(i(e[a],a,e))return a;return-1}}function o(t,e,i){return function(n,r,a){var o=0,s=E(n);if("number"==typeof a)t>0?o=a>=0?a:Math.max(a+s,o):s=a>=0?Math.min(a+1,s):a+s+1;else if(i&&a&&s)return a=i(n,r),n[a]===r?a:-1;if(r!==r)return a=e(p.call(n,o,s),x.isNaN),a>=0?a+o:-1;for(a=t>0?o:s-1;a>=0&&a<s;a+=t)if(n[a]===r)return a;return-1}}function s(t,e){var i=R.length,n=t.constructor,r=x.isFunction(n)&&n.prototype||h,a="constructor";for(x.has(t,a)&&!x.contains(e,a)&&e.push(a);i--;)(a=R[i])in t&&t[a]!==r[a]&&!x.contains(e,a)&&e.push(a)}var l=this,u=l._,c=Array.prototype,h=Object.prototype,d=Function.prototype,f=c.push,p=c.slice,g=h.toString,m=h.hasOwnProperty,v=Array.isArray,_=Object.keys,y=d.bind,b=Object.create,w=function(){},x=function(t){return t instanceof x?t:this instanceof x?void(this._wrapped=t):new x(t)};void 0!==t&&t.exports&&(e=t.exports=x),e._=x,x.VERSION="1.8.3";var C=function(t,e,i){if(void 0===e)return t;switch(null==i?3:i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)};case 4:return function(i,n,r,a){return t.call(e,i,n,r,a)}}return function(){return t.apply(e,arguments)}},k=function(t,e,i){return null==t?x.identity:x.isFunction(t)?C(t,e,i):x.isObject(t)?x.matcher(t):x.property(t)};x.iteratee=function(t,e){return k(t,e,1/0)};var S=function(t,e){return function(i){var n=arguments.length;if(n<2||null==i)return i;for(var r=1;r<n;r++)for(var a=arguments[r],o=t(a),s=o.length,l=0;l<s;l++){var u=o[l];e&&void 0!==i[u]||(i[u]=a[u])}return i}},T=function(t){if(!x.isObject(t))return{};if(b)return b(t);w.prototype=t;var e=new w;return w.prototype=null,e},A=function(t){return function(e){return null==e?void 0:e[t]}},M=Math.pow(2,53)-1,E=A("length"),O=function(t){var e=E(t);return"number"==typeof e&&e>=0&&e<=M};x.each=x.forEach=function(t,e,i){e=C(e,i);var n,r;if(O(t))for(n=0,r=t.length;n<r;n++)e(t[n],n,t);else{var a=x.keys(t);for(n=0,r=a.length;n<r;n++)e(t[a[n]],a[n],t)}return t},x.map=x.collect=function(t,e,i){e=k(e,i);for(var n=!O(t)&&x.keys(t),r=(n||t).length,a=Array(r),o=0;o<r;o++){var s=n?n[o]:o;a[o]=e(t[s],s,t)}return a},x.reduce=x.foldl=x.inject=i(1),x.reduceRight=x.foldr=i(-1),x.find=x.detect=function(t,e,i){var n;if(void 0!==(n=O(t)?x.findIndex(t,e,i):x.findKey(t,e,i))&&-1!==n)return t[n]},x.filter=x.select=function(t,e,i){var n=[];return e=k(e,i),x.each(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n},x.reject=function(t,e,i){return x.filter(t,x.negate(k(e)),i)},x.every=x.all=function(t,e,i){e=k(e,i);for(var n=!O(t)&&x.keys(t),r=(n||t).length,a=0;a<r;a++){var o=n?n[a]:a;if(!e(t[o],o,t))return!1}return!0},x.some=x.any=function(t,e,i){e=k(e,i);for(var n=!O(t)&&x.keys(t),r=(n||t).length,a=0;a<r;a++){var o=n?n[a]:a;if(e(t[o],o,t))return!0}return!1},x.contains=x.includes=x.include=function(t,e,i,n){return O(t)||(t=x.values(t)),("number"!=typeof i||n)&&(i=0),x.indexOf(t,e,i)>=0},x.invoke=function(t,e){var i=p.call(arguments,2),n=x.isFunction(e);return x.map(t,function(t){var r=n?e:t[e];return null==r?r:r.apply(t,i)})},x.pluck=function(t,e){return x.map(t,x.property(e))},x.where=function(t,e){return x.filter(t,x.matcher(e))},x.findWhere=function(t,e){return x.find(t,x.matcher(e))},x.max=function(t,e,i){var n,r,a=-1/0,o=-1/0;if(null==e&&null!=t){t=O(t)?t:x.values(t);for(var s=0,l=t.length;s<l;s++)(n=t[s])>a&&(a=n)}else e=k(e,i),x.each(t,function(t,i,n){((r=e(t,i,n))>o||r===-1/0&&a===-1/0)&&(a=t,o=r)});return a},x.min=function(t,e,i){var n,r,a=1/0,o=1/0;if(null==e&&null!=t){t=O(t)?t:x.values(t);for(var s=0,l=t.length;s<l;s++)(n=t[s])<a&&(a=n)}else e=k(e,i),x.each(t,function(t,i,n){((r=e(t,i,n))<o||r===1/0&&a===1/0)&&(a=t,o=r)});return a},x.shuffle=function(t){for(var e,i=O(t)?t:x.values(t),n=i.length,r=Array(n),a=0;a<n;a++)e=x.random(0,a),e!==a&&(r[a]=r[e]),r[e]=i[a];return r},x.sample=function(t,e,i){return null==e||i?(O(t)||(t=x.values(t)),t[x.random(t.length-1)]):x.shuffle(t).slice(0,Math.max(0,e))},x.sortBy=function(t,e,i){return e=k(e,i),x.pluck(x.map(t,function(t,i,n){return{value:t,index:i,criteria:e(t,i,n)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(i<n||void 0===n)return-1}return t.index-e.index}),"value")};var D=function(t){return function(e,i,n){var r={};return i=k(i,n),x.each(e,function(n,a){var o=i(n,a,e);t(r,n,o)}),r}};x.groupBy=D(function(t,e,i){x.has(t,i)?t[i].push(e):t[i]=[e]}),x.indexBy=D(function(t,e,i){t[i]=e}),x.countBy=D(function(t,e,i){x.has(t,i)?t[i]++:t[i]=1}),x.toArray=function(t){return t?x.isArray(t)?p.call(t):O(t)?x.map(t,x.identity):x.values(t):[]},x.size=function(t){return null==t?0:O(t)?t.length:x.keys(t).length},x.partition=function(t,e,i){e=k(e,i);var n=[],r=[];return x.each(t,function(t,i,a){(e(t,i,a)?n:r).push(t)}),[n,r]},x.first=x.head=x.take=function(t,e,i){if(null!=t)return null==e||i?t[0]:x.initial(t,t.length-e)},x.initial=function(t,e,i){return p.call(t,0,Math.max(0,t.length-(null==e||i?1:e)))},x.last=function(t,e,i){if(null!=t)return null==e||i?t[t.length-1]:x.rest(t,Math.max(0,t.length-e))},x.rest=x.tail=x.drop=function(t,e,i){return p.call(t,null==e||i?1:e)},x.compact=function(t){return x.filter(t,x.identity)};var $=function(t,e,i,n){for(var r=[],a=0,o=n||0,s=E(t);o<s;o++){var l=t[o];if(O(l)&&(x.isArray(l)||x.isArguments(l))){e||(l=$(l,e,i));var u=0,c=l.length;for(r.length+=c;u<c;)r[a++]=l[u++]}else i||(r[a++]=l)}return r};x.flatten=function(t,e){return $(t,e,!1)},x.without=function(t){return x.difference(t,p.call(arguments,1))},x.uniq=x.unique=function(t,e,i,n){x.isBoolean(e)||(n=i,i=e,e=!1),null!=i&&(i=k(i,n));for(var r=[],a=[],o=0,s=E(t);o<s;o++){var l=t[o],u=i?i(l,o,t):l;e?(o&&a===u||r.push(l),a=u):i?x.contains(a,u)||(a.push(u),r.push(l)):x.contains(r,l)||r.push(l)}return r},x.union=function(){return x.uniq($(arguments,!0,!0))},x.intersection=function(t){for(var e=[],i=arguments.length,n=0,r=E(t);n<r;n++){var a=t[n];if(!x.contains(e,a)){for(var o=1;o<i&&x.contains(arguments[o],a);o++);o===i&&e.push(a)}}return e},x.difference=function(t){var e=$(arguments,!0,!0,1);return x.filter(t,function(t){return!x.contains(e,t)})},x.zip=function(){return x.unzip(arguments)},x.unzip=function(t){for(var e=t&&x.max(t,E).length||0,i=Array(e),n=0;n<e;n++)i[n]=x.pluck(t,n);return i},x.object=function(t,e){for(var i={},n=0,r=E(t);n<r;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i},x.findIndex=a(1),x.findLastIndex=a(-1),x.sortedIndex=function(t,e,i,n){i=k(i,n,1);for(var r=i(e),a=0,o=E(t);a<o;){var s=Math.floor((a+o)/2);i(t[s])<r?a=s+1:o=s}return a},x.indexOf=o(1,x.findIndex,x.sortedIndex),x.lastIndexOf=o(-1,x.findLastIndex),x.range=function(t,e,i){null==e&&(e=t||0,t=0),i=i||1;for(var n=Math.max(Math.ceil((e-t)/i),0),r=Array(n),a=0;a<n;a++,t+=i)r[a]=t;return r};var j=function(t,e,i,n,r){if(!(n instanceof e))return t.apply(i,r);var a=T(t.prototype),o=t.apply(a,r);return x.isObject(o)?o:a};x.bind=function(t,e){if(y&&t.bind===y)return y.apply(t,p.call(arguments,1));if(!x.isFunction(t))throw new TypeError("Bind must be called on a function");var i=p.call(arguments,2),n=function(){return j(t,n,e,this,i.concat(p.call(arguments)))};return n},x.partial=function(t){var e=p.call(arguments,1),i=function(){for(var n=0,r=e.length,a=Array(r),o=0;o<r;o++)a[o]=e[o]===x?arguments[n++]:e[o];for(;n<arguments.length;)a.push(arguments[n++]);return j(t,i,this,this,a)};return i},x.bindAll=function(t){var e,i,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(e=1;e<n;e++)i=arguments[e],t[i]=x.bind(t[i],t);return t},x.memoize=function(t,e){var i=function(n){var r=i.cache,a=""+(e?e.apply(this,arguments):n);return x.has(r,a)||(r[a]=t.apply(this,arguments)),r[a]};return i.cache={},i},x.delay=function(t,e){var i=p.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},x.defer=x.partial(x.delay,x,1),x.throttle=function(t,e,i){var n,r,a,o=null,s=0;i||(i={});var l=function(){s=!1===i.leading?0:x.now(),o=null,a=t.apply(n,r),o||(n=r=null)};return function(){var u=x.now();s||!1!==i.leading||(s=u);var c=e-(u-s);return n=this,r=arguments,c<=0||c>e?(o&&(clearTimeout(o),o=null),s=u,a=t.apply(n,r),o||(n=r=null)):o||!1===i.trailing||(o=setTimeout(l,c)),a}},x.debounce=function(t,e,i){var n,r,a,o,s,l=function(){var u=x.now()-o;u<e&&u>=0?n=setTimeout(l,e-u):(n=null,i||(s=t.apply(a,r),n||(a=r=null)))};return function(){a=this,r=arguments,o=x.now();var u=i&&!n;return n||(n=setTimeout(l,e)),u&&(s=t.apply(a,r),a=r=null),s}},x.wrap=function(t,e){return x.partial(e,t)},x.negate=function(t){return function(){return!t.apply(this,arguments)}},x.compose=function(){var t=arguments,e=t.length-1;return function(){for(var i=e,n=t[e].apply(this,arguments);i--;)n=t[i].call(this,n);return n}},x.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},x.before=function(t,e){var i;return function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=null),i}},x.once=x.partial(x.before,2);var P=!{toString:null}.propertyIsEnumerable("toString"),R=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];x.keys=function(t){if(!x.isObject(t))return[];if(_)return _(t);var e=[];for(var i in t)x.has(t,i)&&e.push(i);return P&&s(t,e),e},x.allKeys=function(t){if(!x.isObject(t))return[];var e=[];for(var i in t)e.push(i);return P&&s(t,e),e},x.values=function(t){for(var e=x.keys(t),i=e.length,n=Array(i),r=0;r<i;r++)n[r]=t[e[r]];return n},x.mapObject=function(t,e,i){e=k(e,i);for(var n,r=x.keys(t),a=r.length,o={},s=0;s<a;s++)n=r[s],o[n]=e(t[n],n,t);return o},x.pairs=function(t){for(var e=x.keys(t),i=e.length,n=Array(i),r=0;r<i;r++)n[r]=[e[r],t[e[r]]];return n},x.invert=function(t){for(var e={},i=x.keys(t),n=0,r=i.length;n<r;n++)e[t[i[n]]]=i[n];return e},x.functions=x.methods=function(t){var e=[];for(var i in t)x.isFunction(t[i])&&e.push(i);return e.sort()},x.extend=S(x.allKeys),x.extendOwn=x.assign=S(x.keys),x.findKey=function(t,e,i){e=k(e,i);for(var n,r=x.keys(t),a=0,o=r.length;a<o;a++)if(n=r[a],e(t[n],n,t))return n},x.pick=function(t,e,i){var n,r,a={},o=t;if(null==o)return a;x.isFunction(e)?(r=x.allKeys(o),n=C(e,i)):(r=$(arguments,!1,!1,1),n=function(t,e,i){return e in i},o=Object(o));for(var s=0,l=r.length;s<l;s++){var u=r[s],c=o[u];n(c,u,o)&&(a[u]=c)}return a},x.omit=function(t,e,i){if(x.isFunction(e))e=x.negate(e);else{var n=x.map($(arguments,!1,!1,1),String);e=function(t,e){return!x.contains(n,e)}}return x.pick(t,e,i)},x.defaults=S(x.allKeys,!0),x.create=function(t,e){var i=T(t);return e&&x.extendOwn(i,e),i},x.clone=function(t){return x.isObject(t)?x.isArray(t)?t.slice():x.extend({},t):t},x.tap=function(t,e){return e(t),t},x.isMatch=function(t,e){var i=x.keys(e),n=i.length;if(null==t)return!n;for(var r=Object(t),a=0;a<n;a++){var o=i[a];if(e[o]!==r[o]||!(o in r))return!1}return!0};var I=function(t,e,i,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof x&&(t=t._wrapped),e instanceof x&&(e=e._wrapped);var r=g.call(t);if(r!==g.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var a="[object Array]"===r;if(!a){if("object"!=typeof t||"object"!=typeof e)return!1;var o=t.constructor,s=e.constructor;if(o!==s&&!(x.isFunction(o)&&o instanceof o&&x.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}i=i||[],n=n||[];for(var l=i.length;l--;)if(i[l]===t)return n[l]===e;if(i.push(t),n.push(e),a){if((l=t.length)!==e.length)return!1;for(;l--;)if(!I(t[l],e[l],i,n))return!1}else{var u,c=x.keys(t);if(l=c.length,x.keys(e).length!==l)return!1;for(;l--;)if(u=c[l],!x.has(e,u)||!I(t[u],e[u],i,n))return!1}return i.pop(),n.pop(),!0};x.isEqual=function(t,e){return I(t,e)},x.isEmpty=function(t){return null==t||(O(t)&&(x.isArray(t)||x.isString(t)||x.isArguments(t))?0===t.length:0===x.keys(t).length)},x.isElement=function(t){return!(!t||1!==t.nodeType)},x.isArray=v||function(t){return"[object Array]"===g.call(t)},x.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},x.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){x["is"+t]=function(e){return g.call(e)==="[object "+t+"]"}}),x.isArguments(arguments)||(x.isArguments=function(t){return x.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(x.isFunction=function(t){return"function"==typeof t||!1}),x.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},x.isNaN=function(t){return x.isNumber(t)&&t!==+t},x.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===g.call(t)},x.isNull=function(t){return null===t},x.isUndefined=function(t){return void 0===t},x.has=function(t,e){return null!=t&&m.call(t,e)},x.noConflict=function(){return l._=u,this},x.identity=function(t){return t},x.constant=function(t){return function(){return t}},x.noop=function(){},x.property=A,x.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},x.matcher=x.matches=function(t){return t=x.extendOwn({},t),function(e){return x.isMatch(e,t)}},x.times=function(t,e,i){var n=Array(Math.max(0,t));e=C(e,i,1);for(var r=0;r<t;r++)n[r]=e(r);return n},x.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},x.now=Date.now||function(){return(new Date).getTime()};var N={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},L=x.invert(N),z=function(t){var e=function(e){return t[e]},i="(?:"+x.keys(t).join("|")+")",n=RegExp(i),r=RegExp(i,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(r,e):t}};x.escape=z(N),x.unescape=z(L),x.result=function(t,e,i){var n=null==t?void 0:t[e];return void 0===n&&(n=i),x.isFunction(n)?n.call(t):n};var H=0;x.uniqueId=function(t){var e=++H+"";return t?t+e:e},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\u2028|\u2029/g,V=function(t){return"\\"+F[t]};x.template=function(t,e,i){!e&&i&&(e=i),e=x.defaults({},e,x.templateSettings);var n=RegExp([(e.escape||q).source,(e.interpolate||q).source,(e.evaluate||q).source].join("|")+"|$","g"),r=0,a="__p+='";t.replace(n,function(e,i,n,o,s){return a+=t.slice(r,s).replace(B,V),r=s+e.length,i?a+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?a+="'+\n((__t=("+n+"))==null?'':__t)+\n'":o&&(a+="';\n"+o+"\n__p+='"),e}),a+="';\n",e.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var o=new Function(e.variable||"obj","_",a)}catch(t){throw t.source=a,t}var s=function(t){return o.call(this,t,x)};return s.source="function("+(e.variable||"obj")+"){\n"+a+"}",s},x.chain=function(t){var e=x(t);return e._chain=!0,e};var U=function(t,e){return t._chain?x(e).chain():e};x.mixin=function(t){x.each(x.functions(t),function(e){var i=x[e]=t[e];x.prototype[e]=function(){var t=[this._wrapped];return f.apply(t,arguments),U(this,i.apply(x,t))}})},x.mixin(x),x.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=c[t];x.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!==t&&"splice"!==t||0!==i.length||delete i[0],U(this,i)}}),x.each(["concat","join","slice"],function(t){var e=c[t];x.prototype[t]=function(){return U(this,e.apply(this._wrapped,arguments))}}),x.prototype.value=function(){return this._wrapped},x.prototype.valueOf=x.prototype.toJSON=x.prototype.value,x.prototype.toString=function(){return""+this._wrapped},n=[],void 0!==(r=function(){return x}.apply(e,n))&&(t.exports=r)}).call(this)},function(t,e,i){(function(n){var r,a;!function(o){var s="object"==typeof self&&self.self===self&&self||"object"==typeof n&&n.global===n&&n;r=[i(1),i(0),e],void 0!==(a=function(t,e,i){s.Backbone=o(s,i,t,e)}.apply(e,r))&&(t.exports=a)}(function(t,e,i,n){var r=t.Backbone,a=Array.prototype.slice;e.VERSION="1.3.3",e.$=n,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var o=function(t,e,n){switch(t){case 1:return function(){return i[e](this[n])};case 2:return function(t){return i[e](this[n],t)};case 3:return function(t,r){return i[e](this[n],l(t,this),r)};case 4:return function(t,r,a){return i[e](this[n],l(t,this),r,a)};default:return function(){var t=a.call(arguments);return t.unshift(this[n]),i[e].apply(i,t)}}},s=function(t,e,n){i.each(e,function(e,r){i[r]&&(t.prototype[r]=o(e,r,n))})},l=function(t,e){return i.isFunction(t)?t:i.isObject(t)&&!e._isModel(t)?u(t):i.isString(t)?function(e){return e.get(t)}:t},u=function(t){var e=i.matches(t);return function(t){return e(t.attributes)}},c=e.Events={},h=/\s+/,d=function(t,e,n,r,a){var o,s=0;if(n&&"object"==typeof n){void 0!==r&&"context"in a&&void 0===a.context&&(a.context=r);for(o=i.keys(n);s<o.length;s++)e=d(t,e,o[s],n[o[s]],a)}else if(n&&h.test(n))for(o=n.split(h);s<o.length;s++)e=t(e,o[s],r,a);else e=t(e,n,r,a);return e};c.on=function(t,e,i){return f(this,t,e,i)};var f=function(t,e,i,n,r){if(t._events=d(p,t._events||{},e,i,{context:n,ctx:t,listening:r}),r){(t._listeners||(t._listeners={}))[r.id]=r}return t};c.listenTo=function(t,e,n){if(!t)return this;var r=t._listenId||(t._listenId=i.uniqueId("l")),a=this._listeningTo||(this._listeningTo={}),o=a[r];if(!o){var s=this._listenId||(this._listenId=i.uniqueId("l"));o=a[r]={obj:t,objId:r,id:s,listeningTo:a,count:0}}return f(t,e,n,this,o),this};var p=function(t,e,i,n){if(i){var r=t[e]||(t[e]=[]),a=n.context,o=n.ctx,s=n.listening;s&&s.count++,r.push({callback:i,context:a,ctx:a||o,listening:s})}return t};c.off=function(t,e,i){return this._events?(this._events=d(g,this._events,t,e,{context:i,listeners:this._listeners}),this):this},c.stopListening=function(t,e,n){var r=this._listeningTo;if(!r)return this;for(var a=t?[t._listenId]:i.keys(r),o=0;o<a.length;o++){var s=r[a[o]];if(!s)break;s.obj.off(e,n,this)}return this};var g=function(t,e,n,r){if(t){var a,o=0,s=r.context,l=r.listeners;if(e||n||s){for(var u=e?[e]:i.keys(t);o<u.length;o++){e=u[o];var c=t[e];if(!c)break;for(var h=[],d=0;d<c.length;d++){var f=c[d];n&&n!==f.callback&&n!==f.callback._callback||s&&s!==f.context?h.push(f):(a=f.listening)&&0==--a.count&&(delete l[a.id],delete a.listeningTo[a.objId])}h.length?t[e]=h:delete t[e]}return t}for(var p=i.keys(l);o<p.length;o++)a=l[p[o]],delete l[a.id],delete a.listeningTo[a.objId]}};c.once=function(t,e,n){var r=d(m,{},t,e,i.bind(this.off,this));return"string"==typeof t&&null==n&&(e=void 0),this.on(r,e,n)},c.listenToOnce=function(t,e,n){var r=d(m,{},e,n,i.bind(this.stopListening,this,t));return this.listenTo(t,r)};var m=function(t,e,n,r){if(n){var a=t[e]=i.once(function(){r(e,a),n.apply(this,arguments)});a._callback=n}return t};c.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),i=Array(e),n=0;n<e;n++)i[n]=arguments[n+1];return d(v,this._events,t,void 0,i),this};var v=function(t,e,i,n){if(t){var r=t[e],a=t.all;r&&a&&(a=a.slice()),r&&_(r,n),a&&_(a,[e].concat(n))}return t},_=function(t,e){var i,n=-1,r=t.length,a=e[0],o=e[1],s=e[2];switch(e.length){case 0:for(;++n<r;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;++n<r;)(i=t[n]).callback.call(i.ctx,a);return;case 2:for(;++n<r;)(i=t[n]).callback.call(i.ctx,a,o);return;case 3:for(;++n<r;)(i=t[n]).callback.call(i.ctx,a,o,s);return;default:for(;++n<r;)(i=t[n]).callback.apply(i.ctx,e);return}};c.bind=c.on,c.unbind=c.off,i.extend(e,c);var y=e.Model=function(t,e){var n=t||{};e||(e={}),this.cid=i.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{});var r=i.result(this,"defaults");n=i.defaults(i.extend({},r,n),r),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};i.extend(y.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!i.iteratee(t,this)(this.attributes)},set:function(t,e,n){if(null==t)return this;var r;if("object"==typeof t?(r=t,n=e):(r={})[t]=e,n||(n={}),!this._validate(r,n))return!1;var a=n.unset,o=n.silent,s=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=i.clone(this.attributes),this.changed={});var u=this.attributes,c=this.changed,h=this._previousAttributes;for(var d in r)e=r[d],i.isEqual(u[d],e)||s.push(d),i.isEqual(h[d],e)?delete c[d]:c[d]=e,a?delete u[d]:u[d]=e;if(this.idAttribute in r&&(this.id=this.get(this.idAttribute)),!o){s.length&&(this._pending=n);for(var f=0;f<s.length;f++)this.trigger("change:"+s[f],this,u[s[f]],n)}if(l)return this;if(!o)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!i.isEmpty(this.changed):i.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&i.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,n={};for(var r in t){var a=t[r];i.isEqual(e[r],a)||(n[r]=a)}return!!i.size(n)&&n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){t=i.extend({parse:!0},t);var e=this,n=t.success;return t.success=function(i){var r=t.parse?e.parse(i,t):i;if(!e.set(r,t))return!1;n&&n.call(t.context,e,i,t),e.trigger("sync",e,i,t)},z(this,t),this.sync("read",this,t)},save:function(t,e,n){var r;null==t||"object"==typeof t?(r=t,n=e):(r={})[t]=e,n=i.extend({validate:!0,parse:!0},n);var a=n.wait;if(r&&!a){if(!this.set(r,n))return!1}else if(!this._validate(r,n))return!1;var o=this,s=n.success,l=this.attributes;n.success=function(t){o.attributes=l;var e=n.parse?o.parse(t,n):t;if(a&&(e=i.extend({},r,e)),e&&!o.set(e,n))return!1;s&&s.call(n.context,o,t,n),o.trigger("sync",o,t,n)},z(this,n),r&&a&&(this.attributes=i.extend({},l,r));var u=this.isNew()?"create":n.patch?"patch":"update";"patch"!==u||n.attrs||(n.attrs=r);var c=this.sync(u,this,n);return this.attributes=l,c},destroy:function(t){t=t?i.clone(t):{};var e=this,n=t.success,r=t.wait,a=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(i){r&&a(),n&&n.call(t.context,e,i,t),e.isNew()||e.trigger("sync",e,i,t)};var o=!1;return this.isNew()?i.defer(t.success):(z(this,t),o=this.sync("delete",this,t)),r||a(),o},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||L();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return!n||(this.trigger("invalid",this,n,i.extend(e,{validationError:n})),!1)}}),s(y,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var b=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,i.extend({silent:!0},e))},w={add:!0,remove:!0,merge:!0},x={add:!0,remove:!1},C=function(t,e,i){i=Math.min(Math.max(i,0),t.length);var n,r=Array(t.length-i),a=e.length;for(n=0;n<r.length;n++)r[n]=t[n+i];for(n=0;n<a;n++)t[n+i]=e[n];for(n=0;n<r.length;n++)t[n+a+i]=r[n]};i.extend(b.prototype,c,{model:y,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:!1},e,x))},remove:function(t,e){e=i.extend({},e);var n=!i.isArray(t);t=n?[t]:t.slice();var r=this._removeModels(t,e);return!e.silent&&r.length&&(e.changes={added:[],merged:[],removed:r},this.trigger("update",this,e)),n?r[0]:r},set:function(t,e){if(null!=t){e=i.extend({},w,e),e.parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var n=!i.isArray(t);t=n?[t]:t.slice();var r=e.at;null!=r&&(r=+r),r>this.length&&(r=this.length),r<0&&(r+=this.length+1);var a,o,s=[],l=[],u=[],c=[],h={},d=e.add,f=e.merge,p=e.remove,g=!1,m=this.comparator&&null==r&&!1!==e.sort,v=i.isString(this.comparator)?this.comparator:null;for(o=0;o<t.length;o++){a=t[o];var _=this.get(a);if(_){if(f&&a!==_){var y=this._isModel(a)?a.attributes:a;e.parse&&(y=_.parse(y,e)),_.set(y,e),u.push(_),m&&!g&&(g=_.hasChanged(v))}h[_.cid]||(h[_.cid]=!0,s.push(_)),t[o]=_}else d&&(a=t[o]=this._prepareModel(a,e))&&(l.push(a),this._addReference(a,e),h[a.cid]=!0,s.push(a))}if(p){for(o=0;o<this.length;o++)a=this.models[o],h[a.cid]||c.push(a);c.length&&this._removeModels(c,e)}var b=!1,x=!m&&d&&p;if(s.length&&x?(b=this.length!==s.length||i.some(this.models,function(t,e){return t!==s[e]}),this.models.length=0,C(this.models,s,0),this.length=this.models.length):l.length&&(m&&(g=!0),C(this.models,l,null==r?this.length:r),this.length=this.models.length),g&&this.sort({silent:!0}),!e.silent){for(o=0;o<l.length;o++)null!=r&&(e.index=r+o),a=l[o],a.trigger("add",a,this,e);(g||b)&&this.trigger("sort",this,e),(l.length||c.length||u.length)&&(e.changes={added:l,removed:c,merged:u},this.trigger("update",this,e))}return n?t[0]:t}},reset:function(t,e){e=e?i.clone(e):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,i.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return a.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var n=e.length;return i.isFunction(e)&&(e=i.bind(e,this)),1===n||i.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){t=i.extend({parse:!0},t);var e=t.success,n=this;return t.success=function(i){var r=t.reset?"reset":"set";n[r](i,t),e&&e.call(t.context,n,i,t),n.trigger("sync",n,i,t)},z(this,t),this.sync("read",this,t)},create:function(t,e){e=e?i.clone(e):{};var n=e.wait;if(!(t=this._prepareModel(t,e)))return!1;n||this.add(t,e);var r=this,a=e.success;return e.success=function(t,e,i){n&&r.add(t,i),a&&a.call(i.context,t,e,i)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?i.clone(e):{},e.collection=this;var n=new this.model(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_removeModels:function(t,e){for(var i=[],n=0;n<t.length;n++){var r=this.get(t[n]);if(r){var a=this.indexOf(r);this.models.splice(a,1),this.length--,delete this._byId[r.cid];var o=this.modelId(r.attributes);null!=o&&delete this._byId[o],e.silent||(e.index=a,r.trigger("remove",r,this,e)),i.push(r),this._removeReference(r,e)}}return i},_isModel:function(t){return t instanceof y},_addReference:function(t,e){this._byId[t.cid]=t;var i=this.modelId(t.attributes);null!=i&&(this._byId[i]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var i=this.modelId(t.attributes);null!=i&&delete this._byId[i],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){if(e){if(("add"===t||"remove"===t)&&i!==this)return;if("destroy"===t&&this.remove(e,n),"change"===t){var r=this.modelId(e.previousAttributes()),a=this.modelId(e.attributes);r!==a&&(null!=r&&delete this._byId[r],null!=a&&(this._byId[a]=e))}}this.trigger.apply(this,arguments)}}),s(b,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var k=e.View=function(t){this.cid=i.uniqueId("view"),i.extend(this,i.pick(t,T)),this._ensureElement(),this.initialize.apply(this,arguments)},S=/^(\S+)\s*(.*)$/,T=["model","collection","el","id","attributes","className","tagName","events"];i.extend(k.prototype,c,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=i.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var n=t[e];if(i.isFunction(n)||(n=this[n]),n){var r=e.match(S);this.delegate(r[1],r[2],i.bind(n,this))}}return this},delegate:function(t,e,i){return this.$el.on(t+".delegateEvents"+this.cid,e,i),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,i){return this.$el.off(t+".delegateEvents"+this.cid,e,i),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var t=i.extend({},i.result(this,"attributes"));this.id&&(t.id=i.result(this,"id")),this.className&&(t.class=i.result(this,"className")),this.setElement(this._createElement(i.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,n,r){var a=A[t];i.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var o={type:a,dataType:"json"};if(r.url||(o.url=i.result(n,"url")||L()),null!=r.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(r.attrs||n.toJSON(r))),r.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),r.emulateHTTP&&("PUT"===a||"DELETE"===a||"PATCH"===a)){o.type="POST",r.emulateJSON&&(o.data._method=a);var s=r.beforeSend;r.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",a),s)return s.apply(this,arguments)}}"GET"===o.type||r.emulateJSON||(o.processData=!1);var l=r.error;r.error=function(t,e,i){r.textStatus=e,r.errorThrown=i,l&&l.call(r.context,t,e,i)};var u=r.xhr=e.ajax(i.extend(o,r));return n.trigger("request",n,u,r),u};var A={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var M=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},E=/\((.*?)\)/g,O=/(\(\?)?:\w+/g,D=/\*\w+/g,$=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(M.prototype,c,{initialize:function(){},route:function(t,n,r){i.isRegExp(t)||(t=this._routeToRegExp(t)),i.isFunction(n)&&(r=n,n=""),r||(r=this[n]);var a=this;return e.history.route(t,function(i){var o=a._extractParameters(t,i);!1!==a.execute(r,o,n)&&(a.trigger.apply(a,["route:"+n].concat(o)),a.trigger("route",n,o),e.history.trigger("route",a,n,o))}),this},execute:function(t,e,i){t&&t.apply(this,e)},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var t,e=i.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace($,"\\$&").replace(E,"(?:$1)?").replace(O,function(t,e){return e?t:"([^/?]+)"}).replace(D,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return i.map(n,function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null})}});var j=e.History=function(){this.handlers=[],this.checkUrl=i.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},P=/^[#\/]|\s+$/g,R=/^\/+|\/+$/g,I=/#.*$/;j.started=!1,i.extend(j.prototype,c,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(P,"")},start:function(t){if(j.started)throw new Error("Backbone.history has already been started");if(j.started=!0,this.options=i.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(R,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var n=document.body,r=n.insertBefore(this.iframe,n.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var a=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?a("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?a("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),j.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),i.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!j.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var i=this.root;""!==t&&"?"!==t.charAt(0)||(i=i.slice(0,-1)||"/");var n=i+t;if(t=this.decodeFragment(t.replace(I,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;e.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),e.history=new j;var N=function(t,e){var n,r=this;return n=t&&i.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},i.extend(n,r,e),n.prototype=i.create(r.prototype,t),n.prototype.constructor=n,n.__super__=r.prototype,n};y.extend=b.extend=M.extend=k.extend=j.extend=N;var L=function(){throw new Error('A "url" property or function must be specified')},z=function(t,e){var i=e.error;e.error=function(n){i&&i.call(e.context,t,n,e),t.trigger("error",t,n,e)}};return e})}).call(e,i(109))},function(t,e,i){var n,r;n=[i(150)],void 0!==(r=function(t){if(t.hasOwnProperty("__root")){var e="undefined"==typeof navigator?"__root":(navigator.language||navigator.userLanguage||"__root").toLowerCase();t=t["__"+e]||t["__"+e.split("-")[0]]||t.__root}var i=function(e){return t[e]||e};return i.cacheNonLocalized=!1,i}.apply(e,n))&&(t.exports=r)},function(t,e,i){"use strict";(function(t){function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function a(t,e){var i=Array.prototype.slice.call(arguments,0),n=i.pop();return i.unshift(n),u.defaults.apply(u,i)}function o(t,e){e=e||"model";var i=u.template(t.join(""));return function(t,n){var r={view:n||{},_l:g.default};return r[e]=t||{},i(r)}}function s(t,e){e=e||{};var i=e.ascending?1:-1;return function(e,n){return e=e.get(t),n=n.get(t),(e<n?-1:e>n?1:0)*i}}Object.defineProperty(e,"__esModule",{value:!0});var l=i(1),u=r(l),c=i(2),h=r(c),d=i(66),f=n(d),p=i(3),g=n(p),m={logger:null,_logNamespace:"."};(0,f.default)(m);var v=h.Model.extend({initialize:function(t){if(this._checkEnabledSessionStorage(),!t.id)throw new Error("SessionStorageModel requires an id in the initial attributes");this.id=t.id;var e=this.isNew()?{}:this._read(this);this.clear({silent:!0}),this.save(u.extend({},this.defaults,e,t),{silent:!0}),this.on("change",function(){this.save()})},_checkEnabledSessionStorage:function(){try{return window.sessionStorage.length>=0}catch(t){return alert("Please enable cookies in your browser for this Galaxy site"),!1}},sync:function(t,e,i){i.silent||e.trigger("request",e,{},i);var n={};switch(t){case"create":n=this._create(e);break;case"read":n=this._read(e);break;case"update":n=this._update(e);break;case"delete":n=this._delete(e)}return void 0!==n||null!==n?i.success&&i.success():i.error&&i.error(),n},_create:function(t){try{var e=t.toJSON(),i=sessionStorage.setItem(t.id,JSON.stringify(e));return null===i?i:e}catch(t){if(!(t instanceof DOMException&&navigator.userAgent.indexOf("Safari")>-1))throw t}return null},_read:function(t){return JSON.parse(sessionStorage.getItem(t.id))},_update:function(t){return t._create(t)},_delete:function(t){return sessionStorage.removeItem(t.id)},isNew:function(){return!sessionStorage.hasOwnProperty(this.id)},_log:function(){return JSON.stringify(this.toJSON(),null,"  ")},toString:function(){return"SessionStorageModel("+this.id+")"}});!function(){v.prototype=u.omit(v.prototype,"url","urlRoot")}();var _={searchAttributes:[],searchAliases:{},searchAttribute:function(t,e){var i=this.get(t);return!(!e||void 0===i||null===i)&&(u.isArray(i)?this._searchArrayAttribute(i,e):-1!==i.toString().toLowerCase().indexOf(e.toLowerCase()))},_searchArrayAttribute:function(t,e){return e=e.toLowerCase(),u.any(t,function(t){return-1!==t.toString().toLowerCase().indexOf(e.toLowerCase())})},search:function(t){var e=this;return u.filter(this.searchAttributes,function(i){return e.searchAttribute(i,t)})},matches:function(t){var e=t.split("=");if(e.length>=2){var i=e[0];return i=this.searchAliases[i]||i,this.searchAttribute(i,e[1])}return!!this.search(t).length},matchesAll:function(t){var e=this;return t=t.match(/(".*"|\w*=".*"|\S*)/g).filter(function(t){return!!t}),u.all(t,function(t){return t=t.replace(/"/g,""),e.matches(t)})}},y={hiddenUntilActivated:function(e,i){if(i=i||{},this.HUAVOptions={$elementShown:this.$el,showFn:t.prototype.toggle,showSpeed:"fast"},u.extend(this.HUAVOptions,i||{}),this.HUAVOptions.hasBeenShown=this.HUAVOptions.$elementShown.is(":visible"),this.hidden=this.isHidden(),e){var n=this;e.on("click",function(t){n.toggle(n.HUAVOptions.showSpeed)})}},isHidden:function(){return this.HUAVOptions.$elementShown.is(":hidden")},toggle:function(){return this.hidden?(this.HUAVOptions.hasBeenShown||u.isFunction(this.HUAVOptions.onshowFirstTime)&&(this.HUAVOptions.hasBeenShown=!0,this.HUAVOptions.onshowFirstTime.call(this)),u.isFunction(this.HUAVOptions.onshow)&&(this.HUAVOptions.onshow.call(this),this.trigger("hiddenUntilActivated:shown",this)),this.hidden=!1):(u.isFunction(this.HUAVOptions.onhide)&&(this.HUAVOptions.onhide.call(this),this.trigger("hiddenUntilActivated:hidden",this)),this.hidden=!0),this.HUAVOptions.showFn.apply(this.HUAVOptions.$elementShown,arguments)}},b={initialize:function(t){this.draggable=t.draggable||!1},$dragHandle:function(){return this.$(".title-bar")},toggleDraggable:function(){this.draggable?this.draggableOff():this.draggableOn()},draggableOn:function(){this.draggable=!0,this.dragStartHandler=u.bind(this._dragStartHandler,this),this.dragEndHandler=u.bind(this._dragEndHandler,this);var t=this.$dragHandle().attr("draggable",!0).get(0);t.addEventListener("dragstart",this.dragStartHandler,!1),t.addEventListener("dragend",this.dragEndHandler,!1)},draggableOff:function(){this.draggable=!1;var t=this.$dragHandle().attr("draggable",!1).get(0);t.removeEventListener("dragstart",this.dragStartHandler,!1),t.removeEventListener("dragend",this.dragEndHandler,!1)},_dragStartHandler:function(t){return t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text",JSON.stringify(this.model.toJSON())),this.trigger("draggable:dragstart",t,this),!1},_dragEndHandler:function(t){return this.trigger("draggable:dragend",t,this),!1}},w={initialize:function(t){this.selectable=t.selectable||!1,this.selected=t.selected||!1},$selector:function(){return this.$(".selector")},_renderSelected:function(){this.$selector().find("span").toggleClass("fa-check-square-o",this.selected).toggleClass("fa-square-o",!this.selected)},toggleSelector:function(){this.$selector().is(":visible")?this.hideSelector():this.showSelector()},showSelector:function(t){t=void 0!==t?t:this.fxSpeed,this.selectable=!0,this.trigger("selectable",!0,this),this._renderSelected(),t?this.$selector().show(t):this.$selector().show()},hideSelector:function(t){t=void 0!==t?t:this.fxSpeed,this.selectable=!1,this.trigger("selectable",!1,this),t?this.$selector().hide(t):this.$selector().hide()},toggleSelect:function(t){this.selected?this.deselect(t):this.select(t)},select:function(t){return this.selected||(this.trigger("selected",this,t),this.selected=!0,this._renderSelected()),!1},deselect:function(t){return this.selected&&(this.trigger("de-selected",this,t),this.selected=!1,this._renderSelected()),!1}};e.default={LoggableMixin:m,SessionStorageModel:v,mixin:a,SearchableModelMixin:_,HiddenUntilActivatedViewMixin:y,DraggableViewMixin:b,SelectableViewMixin:w,wrapTemplate:o,buildComparator:s}}).call(e,i(0))},function(t,e,i){"use strict";(function(t,n,r){function a(t){return'<iframe src="'+t+'" frameborder="0" style="width: 100%; height: 100%;"/>'}function o(e,i){for(var n in e){var r=e[n];if(t.isObject(r)){var a=i(r);a&&(e[n]=a),o(r,i)}}}function s(t){var e,i,n,r;return i=/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim,e=t.replace(i,'<a href="$1" target="_blank">$1</a>'),n=/(^|[^\/])(www\.[\S]+(\b|$))/gim,e=e.replace(n,'$1<a href="http://$2" target="_blank">$2</a>'),r=/(([a-zA-Z0-9\-\_\.])+@[a-zA-Z\_]+?(\.[a-zA-Z]{2,6})+)/gim,e=e.replace(r,'<a href="mailto:$1">$1</a>')}function l(t){return JSON.parse(JSON.stringify(t)||null)}function u(t){return/^[\],:{}\s]*$/.test(t.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))}function c(t){return n("<div/>").text(t).html()}function h(t){if(t instanceof Array||(t=[t]),0===t.length)return!0;for(var e in t)if(["__null__","__undefined__",null,void 0].indexOf(t[e])>-1)return!0;return!1}function d(t){if(n.isArray(t)){t=t.toString().replace(/,/g,", ");var e=t.lastIndexOf(", ");return-1!=e&&(t=t.substr(0,e)+" or "+t.substr(e+2)),t}return""}function f(t){top.__utils__get__=top.__utils__get__||{};var e=JSON.stringify(t);t.cache&&top.__utils__get__[e]?(t.success&&t.success(top.__utils__get__[e]),window.console.debug("utils.js::get() - Fetching from cache ["+t.url+"].")):p({url:t.url,data:t.data,success:function(i){top.__utils__get__[e]=i,t.success&&t.success(i)},error:function(e,i){t.error&&t.error(e,i)}})}function p(t){var e={contentType:"application/json",type:t.type||"GET",data:t.data||{},url:t.url};"GET"==e.type||"DELETE"==e.type?(n.isEmptyObject(e.data)||(e.url+=-1==e.url.indexOf("?")?"?":"&",e.url+=n.param(e.data,!0)),e.data=null):(e.dataType="json",e.url=e.url,e.data=JSON.stringify(e.data)),n.ajax(e).done(function(e){if("string"==typeof e)try{e=e.replace("Infinity,",'"Infinity",'),e=r.parseJSON(e)}catch(t){console.debug(t)}t.success&&t.success(e)}).fail(function(e){var i=null;try{i=r.parseJSON(e.responseText)}catch(t){i=e.responseText}t.error&&t.error(i,e.status)}).always(function(){t.complete&&t.complete()})}function g(t,e){var i=n('<div class="'+t+'"></div>');i.appendTo(":eq(0)");var r=i.css(e);return i.remove(),r}function m(t){n('link[href^="'+t+'"]').length||n('<link href="'+Galaxy.root+t+'" rel="stylesheet">').appendTo("head")}function v(e,i){return e?t.defaults(e,i):i}function _(t,e){for(var i=1,n=0;n<e;n++)i*=10;return Math.round(t*i)/i}function y(t,e,i){i=void 0!==i?i:1;var n="";if(t>=O)t/=O,n="TB";else if(t>=E)t/=E,n="GB";else if(t>=M)t/=M,n="MB";else if(t>=A)t/=A,n="KB";else{if(!(t>0))return e?"0 b":"<strong>-</strong>";n="b"}var r="b"==n?t:_(t,i);return e?r+" "+n:"<strong>"+r+"</strong> "+n}function b(){return top.__utils__uid__=top.__utils__uid__||0,"uid-"+top.__utils__uid__++}function w(){var t=new Date,e=(t.getHours()<10?"0":"")+t.getHours(),i=(t.getMinutes()<10?"0":"")+t.getMinutes();return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()+", "+e+":"+i}function x(t){t.script&&""!==t.script&&n("<script/>",{type:"text/javascript"}).text(t.script).appendTo("head"),t.styles&&""!==t.styles&&n("<style/>",{type:"text/css"}).text(t.styles).appendTo("head")}function C(t){return decodeURIComponent(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(t).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))}function k(t){window.document.title=t?"Galaxy "+(window.Galaxy.config.brand?" | "+window.Galaxy.config.brand:"")+" | "+(0,T.default)(t):"Galaxy "+(window.Galaxy.config.brand?" | "+window.Galaxy.config.brand:"")}Object.defineProperty(e,"__esModule",{value:!0}),e.iframe=a,e.deepeach=o,e.linkify=s,e.clone=l,e.isJSON=u,e.sanitize=c,e.isEmpty=h,e.textify=d,e.get=f,e.request=p,e.cssGetAttribute=g,e.cssLoadFile=m,e.merge=v,e.roundToDecimalPlaces=_,e.bytesToString=y,e.uid=b,e.time=w,e.appendScriptStyle=x,e.getQueryString=C,e.setWindowTitle=k;var S=i(3),T=function(t){return t&&t.__esModule?t:{default:t}}(S),A=1024,M=A*A,E=M*A,O=E*A;e.default={cssLoadFile:m,cssGetAttribute:g,get:f,merge:v,iframe:a,bytesToString:y,uid:b,time:w,request:p,sanitize:c,textify:d,isEmpty:h,deepeach:o,isJSON:u,clone:l,linkify:s,appendScriptStyle:x,getQueryString:C,setWindowTitle:k}}).call(e,i(1),i(0),i(0))},function(t,e,i){"use strict";(function(t,n,r){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Drilldown=e.Slider=e.Select=e.Radio=e.RadioButton=e.Checkbox=e.ButtonLink=e.ButtonMenu=e.ButtonCheck=e.ButtonIcon=e.Button=e.Upload=e.Hidden=e.Input=e.UnescapedMessage=e.Message=e.Label=void 0;var o=i(114),s=a(o),l=i(159),u=a(l),c=i(115),h=a(c),d=i(160),f=a(d),p=i(79),g=a(p),m=i(9),v=a(m),_=e.Label=t.View.extend({tagName:"label",initialize:function(e){this.model=e&&e.model||new t.Model(e),this.tagName=e.tagName||this.tagName,this.setElement(n("<"+this.tagName+"/>")),this.listenTo(this.model,"change",this.render,this),this.render()},title:function(t){this.model.set("title",t)},value:function(){return this.model.get("title")},render:function(){return this.$el.removeClass().addClass("ui-label").addClass(this.model.get("cls")).html(this.model.get("title")),this}}),y=e.Message=t.View.extend({initialize:function(e){this.model=e&&e.model||new t.Model({message:null,status:"info",cls:"",persistent:!1,fade:!0}).set(e),this.listenTo(this.model,"change",this.render,this),this.render()},update:function(t){this.model.set(t)},render:function(){this.$el.removeClass().addClass("ui-message").addClass(this.model.get("cls"));var t=this.model.get("status");if(this.model.get("large")?this.$el.addClass(("success"==t&&"done"||"danger"==t&&"error"||t)+"messagelarge"):this.$el.addClass("alert").addClass("alert-"+t),this.model.get("message")){if(this.$el.html(this.messageForDisplay()),this.$el[this.model.get("fade")?"fadeIn":"show"](),this.timeout&&window.clearTimeout(this.timeout),!this.model.get("persistent")){var e=this;this.timeout=window.setTimeout(function(){e.model.set("message","")},3e3)}}else this.$el.fadeOut();return this},messageForDisplay:function(){return r.escape(this.model.get("message"))}}),b=e.UnescapedMessage=y.extend({messageForDisplay:function(){return this.model.get("message")}}),w=e.Input=t.View.extend({initialize:function(e){this.model=e&&e.model||new t.Model({type:"text",placeholder:"",disabled:!1,readonly:!1,visible:!0,cls:"",area:!1,color:null,style:null}).set(e),this.tagName=this.model.get("area")?"textarea":"input",this.setElement(n("<"+this.tagName+"/>")),this.listenTo(this.model,"change",this.render,this),this.render()},events:{input:"_onchange"},value:function(t){return void 0!==t&&this.model.set("value","string"==typeof t?t:""),this.model.get("value")},render:function(){var t=this;this.$el.removeClass().addClass("ui-"+this.tagName).addClass(this.model.get("cls")).addClass(this.model.get("style")).attr("id",this.model.id).attr("type",this.model.get("type")).attr("placeholder",this.model.get("placeholder")).css("color",this.model.get("color")||"").css("border-color",this.model.get("color")||"");var e=this.model.get("datalist");return n.isArray(e)&&e.length>0&&this.$el.autocomplete({source:function(e,i){i(t.model.get("datalist"))},change:function(){t._onchange()}}),this.model.get("value")!==this.$el.val()&&this.$el.val(this.model.get("value")),r.each(["readonly","disabled"],function(e){t.model.get(e)?t.$el.attr(e,!0):t.$el.removeAttr(e)}),this.$el[this.model.get("visible")?"show":"hide"](),this},_onchange:function(){this.value(this.$el.val()),this.model.get("onchange")&&this.model.get("onchange")(this.model.get("value"))}}),x=e.Hidden=t.View.extend({initialize:function(e){this.model=e&&e.model||new t.Model(e),this.setElement(n("<div/>").append(this.$info=n("<div/>")).append(this.$hidden=n("<div/>"))),this.listenTo(this.model,"change",this.render,this),this.render()},value:function(t){return void 0!==t&&this.model.set("value",t),this.model.get("value")},render:function(){return this.$el.attr("id",this.model.id),this.$hidden.val(this.model.get("value")),this.model.get("info")?this.$info.show().text(this.model.get("info")):this.$info.hide(),this}}),C=e.Upload=t.View.extend({initialize:function(e){var i=this;this.model=e&&e.model||new t.Model(e),this.setElement(n("<div/>").append(this.$info=n("<div/>")).append(this.$file=n("<input/>").attr("type","file").addClass("ui-margin-bottom")).append(this.$text=n("<textarea/>").addClass("ui-textarea").attr("disabled",!0)).append(this.$wait=n("<i/>").addClass("fa fa-spinner fa-spin"))),this.listenTo(this.model,"change",this.render,this),this.$file.on("change",function(t){i._readFile(t)}),this.render()},value:function(t){return void 0!==t&&this.model.set("value",t),this.model.get("value")},render:function(){return this.$el.attr("id",this.model.id),this.model.get("info")?this.$info.show().text(this.model.get("info")):this.$info.hide(),this.model.get("value")?this.$text.text(this.model.get("value")).show():this.$text.hide(),this.model.get("wait")?this.$wait.show():this.$wait.hide(),this},_readFile:function(t){var e=this,i=t.target.files&&t.target.files[0];if(i){var n=new FileReader;n.onload=function(){e.model.set({wait:!1,value:this.result})},this.model.set({wait:!0,value:null}),n.readAsText(i)}}});e.Button=g.default.ButtonDefault,e.ButtonIcon=g.default.ButtonIcon,e.ButtonCheck=g.default.ButtonCheck,e.ButtonMenu=g.default.ButtonMenu,e.ButtonLink=g.default.ButtonLink,e.Checkbox=h.default.Checkbox,e.RadioButton=h.default.RadioButton,e.Radio=h.default.Radio;e.Select=s.default,e.Slider=u.default,e.Drilldown=f.default,e.default={Button:g.default.ButtonDefault,ButtonIcon:g.default.ButtonIcon,ButtonCheck:g.default.ButtonCheck,ButtonMenu:g.default.ButtonMenu,ButtonLink:g.default.ButtonLink,Input:w,Label:_,Message:y,UnescapedMessage:b,Upload:C,Modal:v.default,RadioButton:h.default.RadioButton,Checkbox:h.default.Checkbox,Radio:h.default.Radio,Select:s.default,Hidden:x,Slider:u.default,Drilldown:f.default}}).call(e,i(2),i(0),i(1))},function(t,e,i){(function(n,r){var a,o;!function(i){a=[],void 0!==(o=function(){var t=n;return function(){function e(t,e,i){return u({type:m.error,iconClass:h().iconClasses.error,message:t,optionsOverride:i,title:e})}function i(t,e,i){return u({type:m.info,iconClass:h().iconClasses.info,message:t,optionsOverride:i,title:e})}function n(t){p=t}function r(t,e,i){return u({type:m.success,iconClass:h().iconClasses.success,message:t,optionsOverride:i,title:e})}function a(t,e,i){return u({type:m.warning,iconClass:h().iconClasses.warning,message:t,optionsOverride:i,title:e})}function o(e){var i=h();if(f||c(i),e&&0===t(":focus",e).length)return void e[i.hideMethod]({duration:i.hideDuration,easing:i.hideEasing,complete:function(){d(e)}});f.children().length&&f[i.hideMethod]({duration:i.hideDuration,easing:i.hideEasing,complete:function(){f.remove()}})}function s(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:"<button>&times;</button>",newestOnTop:!0}}function l(t){p&&p(t)}function u(e){function i(e){if(!t(":focus",u).length||e)return u[a.hideMethod]({duration:a.hideDuration,easing:a.hideEasing,complete:function(){d(u),a.onHidden&&a.onHidden(),_.state="hidden",_.endTime=new Date,l(_)}})}function n(){(a.timeOut>0||a.extendedTimeOut>0)&&(s=setTimeout(i,a.extendedTimeOut))}function r(){clearTimeout(s),u.stop(!0,!0)[a.showMethod]({duration:a.showDuration,easing:a.showEasing})}var a=h(),o=e.iconClass||a.iconClass;void 0!==e.optionsOverride&&(a=t.extend(a,e.optionsOverride),o=e.optionsOverride.iconClass||o),g++,f=c(a);var s=null,u=t("<div/>"),p=t("<div/>"),m=t("<div/>"),v=t(a.closeHtml),_={toastId:g,state:"visible",startTime:new Date,options:a,map:e};return e.iconClass&&u.addClass(a.toastClass).addClass(o),e.title&&(p.append(e.title).addClass(a.titleClass),u.append(p)),e.message&&(m.append(e.message).addClass(a.messageClass),u.append(m)),a.closeButton&&(v.addClass("toast-close-button"),u.prepend(v)),u.hide(),a.newestOnTop?f.prepend(u):f.append(u),u[a.showMethod]({duration:a.showDuration,easing:a.showEasing,complete:a.onShown}),a.timeOut>0&&(s=setTimeout(i,a.timeOut)),u.hover(r,n),!a.onclick&&a.tapToDismiss&&u.click(i),a.closeButton&&v&&v.click(function(t){t.stopPropagation(),i(!0)}),a.onclick&&u.click(function(){a.onclick(),i()}),l(_),a.debug&&console&&console.log(_),u}function c(e){return e||(e=h()),f=t("#"+e.containerId),f.length?f:(f=t("<div/>").attr("id",e.containerId).addClass(e.positionClass),f.appendTo(t(e.target)),f)}function h(){return t.extend({},s(),v.options)}function d(t){f||(f=c()),t.is(":visible")||(t.remove(),t=null,0===f.children().length&&f.remove())}var f,p,g=0,m={error:"error",info:"info",success:"success",warning:"warning"},v={clear:o,error:e,getContainer:c,info:i,options:{},subscribe:n,success:r,version:"2.0.1",warning:a};return v}()}.apply(e,a))&&(t.exports=o)}(i(147))}).call(e,i(0),i(0))},,function(t,e,i){"use strict";(function(t,i,n){Object.defineProperty(e,"__esModule",{value:!0});var r=e.View=t.View.extend({className:"ui-modal",optionsDefault:{container:"body",title:"ui-modal",cls:"ui-modal",body:"",backdrop:!0,height:null,width:null,closing_events:!1,closing_callback:null,title_separator:!0},buttonList:{},initialize:function(t){this.options=i.defaults(t||{},this.optionsDefault),n(this.options.container).prepend(this.el),t&&this.render()},show:function(t){var e=this;t&&(this.options=i.defaults(t,this.optionsDefault),this.render()),this.visible||(this.visible=!0,this.$el.fadeIn("fast")),this.options.closing_events&&(n(document).on("keyup.ui-modal",function(t){27==t.keyCode&&e.hide(!0)}),this.$backdrop.on("click",function(){e.hide(!0)}))},hide:function(t){this.visible=!1,this.$el.fadeOut("fast"),this.options.closing_callback&&this.options.closing_callback(t),n(document).off("keyup.ui-modal"),this.$backdrop.off("click")},render:function(){var t=this;if(this.$el.html(this._template()),this.$header=this.$(".modal-header"),this.$dialog=this.$(".modal-dialog"),this.$body=this.$(".modal-body"),this.$footer=this.$(".modal-footer"),this.$backdrop=this.$(".modal-backdrop"),this.$buttons=this.$(".buttons"),"progress"==this.options.body&&(this.options.body=n('<div class="progress progress-striped active"><div class="progress-bar progress-bar-info" style="width:100%"/></div>')),this.$el.removeClass().addClass("modal").addClass(this.options.cls),this.$header.find(".title").html(this.options.title),this.$body.html(this.options.body),this.$buttons.empty(),this.buttonList={},this.options.buttons){var e=0;n.each(this.options.buttons,function(i,r){var a=n("<button/>").attr("id","button-"+e++).text(i).click(r);t.$buttons.append(a).append("&nbsp;"),t.buttonList[i]=a})}else this.$footer.hide();this.$backdrop[this.options.backdrop&&"addClass"||"removeClass"]("in"),this.$header[!this.options.title_separator&&"addClass"||"removeClass"]("no-separator"),this.$body.removeAttr("style"),this.options.height?(this.$body.css("height",this.options.height),this.$body.css("overflow","hidden")):this.$body.css("max-height",n(window).height()/2),this.options.width&&this.$dialog.css("width",this.options.width)},getButton:function(t){return this.buttonList[t]},enableButton:function(t){this.getButton(t).prop("disabled",!1)},disableButton:function(t){this.getButton(t).prop("disabled",!0)},showButton:function(t){this.getButton(t).show()},hideButton:function(t){this.getButton(t).hide()},scrollTop:function(){return this.$body.scrollTop()},_template:function(){return'<div class="modal-backdrop fade"/><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h4 class="title"/></div><div class="modal-body"/><div class="modal-footer"><div class="buttons"/></div></div></div>'}});e.default={View:r}}).call(e,i(2),i(1),i(0))},,function(t,e,i){"use strict";function n(t){return"[object Array]"===k.call(t)}function r(t){return"[object ArrayBuffer]"===k.call(t)}function a(t){return"undefined"!=typeof FormData&&t instanceof FormData}function o(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer}function s(t){return"string"==typeof t}function l(t){return"number"==typeof t}function u(t){return void 0===t}function c(t){return null!==t&&"object"==typeof t}function h(t){return"[object Date]"===k.call(t)}function d(t){return"[object File]"===k.call(t)}function f(t){return"[object Blob]"===k.call(t)}function p(t){return"[object Function]"===k.call(t)}function g(t){return c(t)&&p(t.pipe)}function m(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}function v(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function _(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function y(t,e){if(null!==t&&void 0!==t)if("object"==typeof t||n(t)||(t=[t]),n(t))for(var i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.call(null,t[a],a,t)}function b(){function t(t,i){"object"==typeof e[i]&&"object"==typeof t?e[i]=b(e[i],t):e[i]=t}for(var e={},i=0,n=arguments.length;i<n;i++)y(arguments[i],t);return e}function w(t,e,i){return y(e,function(e,n){t[n]=i&&"function"==typeof e?x(e,i):e}),t}var x=i(123),C=i(180),k=Object.prototype.toString;t.exports={isArray:n,isArrayBuffer:r,isBuffer:C,isFormData:a,isArrayBufferView:o,isString:s,isNumber:l,isObject:c,isUndefined:u,isDate:h,isFile:d,isBlob:f,isFunction:p,isStream:g,isURLSearchParams:m,isStandardBrowserEnv:_,forEach:y,merge:b,extend:w,trim:v}},,function(t,e,i){"use strict";(function(t,n,r){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;var o=i(69),s=a(o),l=i(6),u=a(l),c=i(165),h=a(c),d=i(121),f=a(d),p=e.View=t.View.extend({initialize:function(e){this.model=new t.Model({initial_errors:!1,cls:"ui-portlet-limited",icon:null,always_refresh:!0,status:"warning",hide_operations:!1,onchange:function(){}}).set(e),this.setElement("<div/>"),this.render()},update:function(t){var e=this;this.data.matchModel(t,function(t,i){var r=e.input_list[i];if(r&&r.options&&!n.isEqual(r.options,t.options)){r.options=t.options;var a=e.field_list[i];if(a.update){var o=[];if(-1!=["data","data_collection","drill_down"].indexOf(r.type))o=r.options;else for(var s in t.options){var l=t.options[s];l.length>2&&o.push({label:l[0],value:l[1]})}a.update(o),a.trigger("change"),Galaxy.emit.debug("form-view::update()","Updating options for "+i)}}})},wait:function(t){for(var e in this.input_list){var i=this.field_list[e];this.input_list[e].is_dynamic&&i.wait&&i.unwait&&i[t?"wait":"unwait"]()}},highlight:function(t,e,i){var n=this.element_list[t];if(n&&(n.error(e||"Please verify this parameter."),this.portlet.expand(),this.trigger("expand",t),!i)){var a=this.$el.parents().filter(function(){return-1!=["auto","scroll"].indexOf(r(this).css("overflow"))}).first();a.animate({scrollTop:a.scrollTop()+n.$el.offset().top-120},500)}},errors:function(t){if(this.trigger("reset"),t&&t.errors){var e=this.data.matchResponse(t.errors);for(var i in this.element_list)e[i]&&this.highlight(i,e[i],!0)}},render:function(){var t=this;this.off("change"),this.off("reset"),this.field_list={},this.input_list={},this.element_list={},this.data=new f.default.Manager(this),this._renderForm(),this.data.create(),this.model.get("initial_errors")&&this.errors(this.model.attributes);var e=this.data.checksum();return this.on("change",function(i){var n=t.input_list[i];if(!n||n.refresh_on_change||t.model.get("always_refresh")){var r=t.data.checksum();r!=e&&(e=r,t.model.get("onchange")())}}),this.on("reset",function(){n.each(t.element_list,function(t){t.reset()})}),this},_renderForm:function(){r(".tooltip").remove();var t=this.model.attributes;this.message=new u.default.UnescapedMessage,this.section=new h.default.View(this,{inputs:t.inputs}),this.portlet=new s.default.View({icon:t.icon,title:t.title,cls:t.cls,operations:!t.hide_operations&&t.operations,buttons:t.buttons,collapsible:t.collapsible,collapsed:t.collapsed,onchange_title:t.onchange_title}),this.portlet.append(this.message.$el),this.portlet.append(this.section.$el),this.$el.empty(),t.inputs&&this.$el.append(this.portlet.$el),t.message&&this.message.update({persistent:!0,status:t.status,message:t.message}),Galaxy.emit.debug("form-view::initialize()","Completed")}});e.default=p}).call(e,i(2),i(1),i(0))},function(t,e,i){"use strict";function n(t,e){return function(i){if(t.hasOwnProperty(i))return t[i];if(!e)throw new Error("I do not know how to modify the following string: "+i+". Change your TeX file or submit a feature request at https://github.com/digitalheir/tex-to-unicode/issues.");return i+e}}Object.defineProperty(e,"__esModule",{value:!0}),e.lookupOrAppend=n},function(t,e,i){"use strict";var n=i(0),r=function(t){return t&&t.__esModule?t:{default:t}}(n),a=r.default;a.fn.make_text_editable=function(t){var e="num_cols"in t?t.num_cols:30,i="num_rows"in t?t.num_rows:4,n="use_textarea"in t&&t.use_textarea,r="on_finish"in t?t.on_finish:null,o="help_text"in t?t.help_text:null,s=a(this);return s.addClass("editable-text").click(function(o){if(!(a(this).children(":input").length>0)){s.removeClass("editable-text");var l,u,c=function(t){s.find(":input").remove(),""!==t?s.text(t):s.html("<br>"),s.addClass("editable-text"),r&&r(t)},h="cur_text"in t?t.cur_text:s.text();n?(l=a("<textarea/>").attr({rows:i,cols:e}).text(a.trim(h)).keyup(function(t){27===t.keyCode&&c(h)}),u=a("<button/>").text("Done").click(function(){return c(l.val()),!1})):l=a("<input type='text'/>").attr({value:a.trim(h),size:e}).blur(function(){c(h)}).keyup(function(t){27===t.keyCode?a(this).trigger("blur"):13===t.keyCode&&c(a(this).val()),t.stopPropagation()}),s.text(""),s.append(l),u&&s.append(u),l.focus(),l.select(),o.stopPropagation()}}),o&&s.attr("title",o).tooltip(),s}},,,,function(t,e){t.exports=function(t,e,i,n,r,a){var o,s=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(o=t,s=t.default);var u="function"==typeof s?s.options:s;e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0),i&&(u.functional=!0),r&&(u._scopeId=r);var c;if(a?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=c):n&&(c=n),c){var h=u.functional,d=h?u.render:u.beforeCreate;h?(u._injectStyles=c,u.render=function(t,e){return c.call(e),d(t,e)}):u.beforeCreate=d?[].concat(d,c):[c]}return{esModule:o,exports:s,options:u}}},,,,,function(t,e,i){"use strict";(function(t,n,r){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=a(o),l=i(44),u=a(l),c=t.Model.extend({}),h=t.Model.extend({defaults:{id:"",type:"",name:"",hda_ldda:"hda",metadata:null},initialize:function(){this.get("metadata")||this._set_metadata(),this.on("change",this._set_metadata,this)},_set_metadata:function(){var t=new c;n.each(n.keys(this.attributes),function(e){if(0===e.indexOf("metadata_")){var i=e.split("metadata_")[1];t.set(i,this.attributes[e]),delete this.attributes[e]}},this),this.set("metadata",t,{silent:!0})},get_metadata:function(t){return this.attributes.metadata.get(t)},urlRoot:Galaxy.root+"api/datasets"}),d=h.extend({defaults:n.extend({},h.prototype.defaults,{chunk_url:null,first_data_chunk:null,offset:0,at_eof:!1}),initialize:function(t){h.prototype.initialize.call(this),this.attributes.first_data_chunk&&(this.attributes.offset=this.attributes.first_data_chunk.offset),this.attributes.chunk_url=Galaxy.root+"dataset/display?dataset_id="+this.id,this.attributes.url_viz=Galaxy.root+"visualization"},get_next_chunk:function(){if(this.attributes.at_eof)return null;var t=this,e=r.Deferred();return r.getJSON(this.attributes.chunk_url,{offset:t.attributes.offset}).success(function(i){var n;""!==i.ck_data?(n=i,t.attributes.offset=i.offset):(t.attributes.at_eof=!0,n=null),e.resolve(n)}),e}}),f=t.Collection.extend({model:h}),p=t.View.extend({initialize:function(t){this.row_count=0,this.loading_chunk=!1,new v({model:t.model,$el:this.$el})},expand_to_container:function(){this.$el.height()<this.scroll_elt.height()&&this.attempt_to_fetch()},attempt_to_fetch:function(t){var e=this;!this.loading_chunk&&this.scrolled_to_bottom()&&(this.loading_chunk=!0,this.loading_indicator.show(),r.when(e.model.get_next_chunk()).then(function(t){t&&(e._renderChunk(t),e.loading_chunk=!1),e.loading_indicator.hide(),e.expand_to_container()}))},render:function(){this.loading_indicator=r("<div/>").attr("id","loading_indicator"),this.$el.append(this.loading_indicator);var t=r("<table/>").attr({id:"content_table",cellpadding:0});this.$el.append(t);var e=this.model.get_metadata("column_names"),i=r("<thead/>").appendTo(t),n=r("<tr/>").appendTo(i);if(e)n.append("<th>"+e.join("</th><th>")+"</th>");else for(var a=1;a<=this.model.get_metadata("columns");a++)n.append("<th>"+a+"</th>");var o=this,s=this.model.get("first_data_chunk");s?this._renderChunk(s):r.when(o.model.get_next_chunk()).then(function(t){o._renderChunk(t)}),this.scroll_elt.scroll(function(){o.attempt_to_fetch()})},scrolled_to_bottom:function(){return!1},_renderCell:function(t,e,i){var n=r("<td>").text(t),a=this.model.get_metadata("column_types");return void 0!==i?n.attr("colspan",i).addClass("stringalign"):a&&e<a.length&&("str"!==a[e]&&"list"!==a[e]||n.addClass("stringalign")),n},_renderRow:function(t){var e=t.split("\t"),i=r("<tr>"),a=this.model.get_metadata("columns");return this.row_count%2!=0&&i.addClass("dark_row"),e.length===a?n.each(e,function(t,e){i.append(this._renderCell(t,e))},this):e.length>a?(n.each(e.slice(0,a-1),function(t,e){i.append(this._renderCell(t,e))},this),i.append(this._renderCell(e.slice(a-1).join("\t"),a-1))):1===e.length?i.append(this._renderCell(t,0,a)):(n.each(e,function(t,e){i.append(this._renderCell(t,e))},this),n.each(n.range(a-e.length),function(){i.append(r("<td>"))})),this.row_count++,i},_renderChunk:function(t){var e=this.$el.find("table");n.each(t.ck_data.split("\n"),function(t,i){""!==t&&e.append(this._renderRow(t))},this)}}),g=p.extend({initialize:function(t){p.prototype.initialize.call(this,t);var e=n.find(this.$el.parents(),function(t){return"auto"===r(t).css("overflow")});e||(e=window),this.scroll_elt=r(e)},scrolled_to_bottom:function(){return this.$el.height()-this.scroll_elt.scrollTop()-this.scroll_elt.height()<=0}}),m=p.extend({initialize:function(t){p.prototype.initialize.call(this,t),this.scroll_elt=this.$el.css({position:"relative",overflow:"scroll",height:t.height||"500px"})},scrolled_to_bottom:function(){return this.$el.scrollTop()+this.$el.innerHeight()>=this.el.scrollHeight}}),v=t.View.extend({col:{chrom:null,start:null,end:null},url_viz:null,dataset_id:null,genome_build:null,file_ext:null,initialize:function(t){var e=parent.Galaxy;if(e&&e.modal&&(this.modal=e.modal),e&&e.frame&&(this.frame=e.frame),this.modal&&this.frame){var i=t.model,n=i.get("metadata");if(i.get("file_ext")){if(this.file_ext=i.get("file_ext"),"bed"==this.file_ext){if(!(n.get("chromCol")&&n.get("startCol")&&n.get("endCol")))return void console.log("TabularButtonTrackster : Bed-file metadata incomplete.");this.col.chrom=n.get("chromCol")-1,this.col.start=n.get("startCol")-1,this.col.end=n.get("endCol")-1}if("vcf"==this.file_ext){var r=function(t,e){for(var i=0;i<e.length;i++)if(e[i].match(t))return i;return-1};if(this.col.chrom=r("Chrom",n.get("column_names")),this.col.start=r("Pos",n.get("column_names")),this.col.end=null,-1==this.col.chrom||-1==this.col.start)return void console.log("TabularButtonTrackster : VCF-file metadata incomplete.")}if(void 0!==this.col.chrom){if(!i.id)return void console.log("TabularButtonTrackster : Dataset identification is missing.");if(this.dataset_id=i.id,!i.get("url_viz"))return void console.log("TabularButtonTrackster : Url for visualization controller is missing.");this.url_viz=i.get("url_viz"),i.get("genome_build")&&(this.genome_build=i.get("genome_build"));var a=new u.default.IconButtonView({model:new u.default.IconButton({title:(0,s.default)("Visualize"),icon_class:"chart_curve",id:"btn_viz"})});this.setElement(t.$el),this.$el.append(a.render().$el),this.hide()}}}},events:{"mouseover tr":"show",mouseleave:"hide"},show:function(t){var e=this;if(null!==this.col.chrom){var i=r(t.target).parent(),n=i.children().eq(this.col.chrom).html(),a=i.children().eq(this.col.start).html(),o=this.col.end?i.children().eq(this.col.end).html():a;if(!n.match("^#")&&""!==n&&function(t){return!isNaN(parseFloat(t))&&isFinite(t)}(a)){var l={dataset_id:this.dataset_id,gene_region:n+":"+a+"-"+o},u=i.offset(),c=u.left-10,h=u.top-r(window).scrollTop()+3;r("#btn_viz").css({position:"fixed",top:h+"px",left:c+"px"}),r("#btn_viz").off("click"),r("#btn_viz").click(function(){e.frame.add({title:(0,s.default)("Trackster"),url:e.url_viz+"/trackster?"+r.param(l)})}),r("#btn_viz").show()}else r("#btn_viz").hide()}},hide:function(){this.$("#btn_viz").hide()}}),_=function(t){t.model||(t.model=new d(t.dataset_config));var e=t.parent_elt,i=t.embedded;delete t.embedded,delete t.parent_elt,delete t.dataset_config;var n=i?new m(t):new g(t);return n.render(),e&&(e.append(n.$el),n.expand_to_container()),n};e.default={Dataset:h,TabularDataset:d,DatasetCollection:f,TabularDatasetChunkedView:p,createTabularDatasetChunkedView:_}}).call(e,i(2),i(1),i(0))},function(t,e,i){"use strict";(function(t,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(3),o=r(a),s=i(1),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(s),u=i(24),c=r(u),h=i(45),d=r(h),f=i(46),p=r(f),g=i(26),m=r(g),v=i(78),_=r(v),y=i(6),b=(r(y),{toJSON:function(){var t=this,e={};return l.each(t.constructor.to_json_keys,function(i){var n=t.get(i);i in t.constructor.to_json_mappers&&(n=t.constructor.to_json_mappers[i](n,t)),e[i]=n}),e}}),w=function(e,i){var n=new m.default({url_base:Galaxy.root+"visualization/list_history_datasets",filters:e,embedded:!0}),r=new m.default({url_base:Galaxy.root+"visualization/list_library_datasets",embedded:!0}),a=new _.default.View;a.add({id:"histories",title:(0,o.default)("Histories"),$el:t("<div/>").append(n.$el)}),a.add({id:"libraries",title:(0,o.default)("Libraries"),$el:t("<div/>").append(r.$el)}),Galaxy.modal.show({title:(0,o.default)("Select datasets for new tracks"),body:a.$el,closing_events:!0,buttons:{Cancel:function(){Galaxy.modal.hide()},Add:function(){var e=[];a.$("input.grid-row-select-checkbox[name=id]:checked").each(function(){window.console.log(t(this).val()),e[e.length]=t.ajax({url:Galaxy.root+"api/datasets/"+t(this).val(),dataType:"json",data:{data_type:"track_config",hda_ldda:"histories"==a.current()?"hda":"ldda"}})}),t.when.apply(t,e).then(function(){var e=arguments[0]instanceof Array?t.map(arguments,function(t){return t[0]}):[arguments[0]];i(e)}),Galaxy.modal.hide()}}})},x=function(t){this.default_font=void 0!==t?t:"9px Monaco, Lucida Console, monospace",this.dummy_canvas=this.new_canvas(),this.dummy_context=this.dummy_canvas.getContext("2d"),this.dummy_context.font=this.default_font,this.char_width_px=this.dummy_context.measureText("A").width,this.patterns={},this.load_pattern("right_strand","/visualization/strand_right.png"),this.load_pattern("left_strand","/visualization/strand_left.png"),this.load_pattern("right_strand_inv","/visualization/strand_right_inv.png"),this.load_pattern("left_strand_inv","/visualization/strand_left_inv.png")};l.extend(x.prototype,{load_pattern:function(t,e){var i=this.patterns,n=this.dummy_context,r=new Image;r.src=Galaxy.root+"static/images"+e,r.onload=function(){i[t]=n.createPattern(r,"repeat")}},get_pattern:function(t){return this.patterns[t]},new_canvas:function(){var e=t("<canvas/>")[0];return e.manager=this,e}});var C=n.Model.extend({defaults:{num_elements:20,obj_cache:null,key_ary:null},initialize:function(t){this.clear()},get_elt:function(t){var e=this.attributes.obj_cache,i=this.attributes.key_ary,n=t.toString(),r=l.indexOf(i,function(t){return t.toString()===n});return-1!==r&&(e[n].stale?(i.splice(r,1),delete e[n]):this.move_key_to_end(t,r)),e[n]},set_elt:function(t,e){var i=this.attributes.obj_cache,n=this.attributes.key_ary,r=t.toString(),a=this.attributes.num_elements;if(!i[r]){if(n.length>=a){delete i[n.shift().toString()]}n.push(t)}return i[r]=e,e},move_key_to_end:function(t,e){this.attributes.key_ary.splice(e,1),this.attributes.key_ary.push(t)},clear:function(){this.attributes.obj_cache={},this.attributes.key_ary=[]},size:function(){return this.attributes.key_ary.length},most_recently_added:function(){return 0===this.size()?null:this.attributes.key_ary[this.attributes.key_ary.length-1]}}),k=C.extend({defaults:l.extend({},C.prototype.defaults,{dataset:null,genome:null,init_data:null,min_region_size:200,filters_manager:null,data_type:"data",data_mode_compatible:function(t,e){return!0},can_subset:function(t){return!1}}),initialize:function(t){C.prototype.initialize.call(this);var e=this.get("init_data");e&&this.add_data(e)},add_data:function(t){this.get("num_elements")<t.length&&this.set("num_elements",t.length);var e=this;l.each(t,function(t){e.set_data(t.region,t)})},data_is_ready:function(){var e=this.get("dataset"),i=t.Deferred(),n="raw_data"===this.get("data_type")?"state":"data"===this.get("data_type")?"converted_datasets_state":"error",r=new d.default.ServerStateDeferred({ajax_settings:{url:this.get("dataset").url(),data:{hda_ldda:e.get("hda_ldda"),data_type:n},dataType:"json"},interval:5e3,success_fn:function(t){return"pending"!==t}});return t.when(r.go()).then(function(t){i.resolve("ok"===t||"data"===t)}),i},search_features:function(e){var i=this.get("dataset"),n={query:e,hda_ldda:i.get("hda_ldda"),data_type:"features"};return t.getJSON(i.url(),n)},load_data:function(e,i,n,r){var a=this.get("dataset"),o={data_type:this.get("data_type"),chrom:e.get("chrom"),low:e.get("start"),high:e.get("end"),mode:i,resolution:n,hda_ldda:a.get("hda_ldda")};t.extend(o,r);var s=this.get("filters_manager");if(s){for(var l=[],u=s.filters,c=0;c<u.length;c++)l.push(u[c].name);o.filter_cols=JSON.stringify(l)}var h=this,d=t.getJSON(a.url(),o,function(t){t.region=e,h.set_data(e,t)});return this.set_data(e,d),d},get_data:function(t,e,i,n){var r=this.get_elt(t);if(r&&(d.default.is_deferred(r)||this.get("data_mode_compatible")(r,e)))return r;for(var a,o,s=this.get("key_ary"),l=this.get("obj_cache"),u=0;u<s.length;u++)if(a=s[u],a.contains(t)&&(o=!0,r=l[a.toString()],d.default.is_deferred(r)||this.get("data_mode_compatible")(r,e)&&this.get("can_subset")(r))){if(this.move_key_to_end(a,u),!d.default.is_deferred(r)){var c=this.subset_entry(r,t);this.set_data(t,c),r=c}return r}if(!o&&t.length()<this.attributes.min_region_size){t=t.copy();var h=this.most_recently_added();!h||t.get("start")>h.get("start")?t.set("end",t.get("start")+this.attributes.min_region_size):t.set("start",t.get("end")-this.attributes.min_region_size),t.set("genome",this.attributes.genome),t.trim()}return this.load_data(t,e,i,n)},set_data:function(t,e){this.set_elt(t,e)},DEEP_DATA_REQ:"deep",BROAD_DATA_REQ:"breadth",get_more_data:function(e,i,n,r,a){var o=this._mark_stale(e);if(!o||!this.get("data_mode_compatible")(o,i))return void console.log("ERROR: problem with getting more data: current data is not compatible");var s=e.get("start");a===this.DEEP_DATA_REQ?t.extend(r,{start_val:o.data.length+1}):a===this.BROAD_DATA_REQ&&(s=(o.max_high?o.max_high:o.data[o.data.length-1][2])+1);var l=e.copy().set("start",s),u=this,c=this.load_data(l,i,n,r),h=t.Deferred();return this.set_data(e,h),t.when(c).then(function(t){t.data&&(t.data=o.data.concat(t.data),t.max_low&&(t.max_low=o.max_low),t.message&&(t.message=t.message.replace(/[0-9]+/,t.data.length))),u.set_data(e,t),h.resolve(t)}),h},can_get_more_detailed_data:function(t){var e=this.get_elt(t);return"bigwig"===e.dataset_type&&e.data.length<8e3},get_more_detailed_data:function(t,e,i,n,r){var a=this._mark_stale(t);return a?(r||(r={}),"bigwig"===a.dataset_type&&(r.num_samples=1e3*n),this.load_data(t,e,i,r)):void console.log("ERROR getting more detailed data: no current data")},_mark_stale:function(t){var e=this.get_elt(t);return e||console.log("ERROR: no data to mark as stale: ",this.get("dataset"),t.toString()),e.stale=!0,e},get_genome_wide_data:function(e){var i=this,n=!0,r=l.map(e.get("chroms_info").chrom_info,function(t){var e=i.get_elt(new A({chrom:t.chrom,start:0,end:t.len}));return e||(n=!1),e});if(n)return r;var a=t.Deferred();return t.getJSON(this.get("dataset").url(),{data_type:"genome_data"},function(t){i.add_data(t.data),a.resolve(t.data)}),a},subset_entry:function(t,e){var i={bigwig:function(t,e){return l.filter(t,function(t){return t[0]>=e.get("start")&&t[0]<=e.get("end")})},refseq:function(e,i){var n=i.get("start")-t.region.get("start");return t.data.slice(n,n+i.length())}},n=t.data;return!t.region.same(e)&&t.dataset_type in i&&(n=i[t.dataset_type](t.data,e)),{region:e,data:n,dataset_type:t.dataset_type}}}),S=k.extend({initialize:function(t){var e=new n.Model;e.urlRoot=t.data_url,this.set("dataset",e)},load_data:function(t,e,i,n){return t.length()<=1e5?k.prototype.load_data.call(this,t,e,i,n):{data:null,region:t}}}),T=n.Model.extend({defaults:{name:null,key:null,chroms_info:null},initialize:function(t){this.id=t.dbkey},get_chroms_info:function(){return this.attributes.chroms_info.chrom_info},get_chrom_region:function(t){var e=l.find(this.get_chroms_info(),function(e){return e.chrom===t});return new A({chrom:e.chrom,end:e.len})},get_chrom_len:function(t){return l.find(this.get_chroms_info(),function(e){return e.chrom===t}).len}}),A=n.Model.extend({defaults:{chrom:null,start:0,end:0,str_val:null,genome:null},same:function(t){return this.attributes.chrom===t.get("chrom")&&this.attributes.start===t.get("start")&&this.attributes.end===t.get("end")},initialize:function(t){if(t.from_str){var e=t.from_str.split(":"),i=e[0],n=e[1].split("-");this.set({chrom:i,start:parseInt(n[0],10),end:parseInt(n[1],10)})}this.attributes.str_val=this.get("chrom")+":"+this.get("start")+"-"+this.get("end"),this.on("change",function(){this.attributes.str_val=this.get("chrom")+":"+this.get("start")+"-"+this.get("end")},this)},copy:function(){return new A({chrom:this.get("chrom"),start:this.get("start"),end:this.get("end")})},length:function(){return this.get("end")-this.get("start")},toString:function(){return this.attributes.str_val},toJSON:function(){return{chrom:this.get("chrom"),start:this.get("start"),end:this.get("end")}},compute_overlap:function(t){var e=this.get("chrom"),i=t.get("chrom"),n=this.get("start"),r=t.get("start"),a=this.get("end"),o=t.get("end");return e&&i&&e!==i?A.overlap_results.DIF_CHROMS:n<r?a<r?A.overlap_results.BEFORE:a<o?A.overlap_results.OVERLAP_START:A.overlap_results.CONTAINS:n>r?n>o?A.overlap_results.AFTER:a<=o?A.overlap_results.CONTAINED_BY:A.overlap_results.OVERLAP_END:a>=o?A.overlap_results.CONTAINS:A.overlap_results.CONTAINED_BY},trim:function(t){if(this.attributes.start<0&&(this.attributes.start=0),this.attributes.genome){var e=this.attributes.genome.get_chrom_len(this.attributes.chrom);this.attributes.end>e&&(this.attributes.end=e-1)}return this},contains:function(t){return this.compute_overlap(t)===A.overlap_results.CONTAINS},overlaps:function(t){return 0===l.intersection([this.compute_overlap(t)],[A.overlap_results.DIF_CHROMS,A.overlap_results.BEFORE,A.overlap_results.AFTER]).length}},{overlap_results:{DIF_CHROMS:1e3,BEFORE:1001,CONTAINS:1002,OVERLAP_START:1003,OVERLAP_END:1004,CONTAINED_BY:1005,AFTER:1006}}),M=n.Collection.extend({model:A}),E=n.Model.extend({defaults:{region:null,note:""},initialize:function(t){this.set("region",new A(t.region))}}),O=n.Collection.extend({model:E}),D=n.Model.extend(b).extend({defaults:{mode:"Auto"},initialize:function(t){this.set("dataset",new c.default.Dataset(t.dataset));var e=[{key:"name",default_value:this.get("dataset").get("name")},{key:"color"},{key:"min_value",label:"Min Value",type:"float",default_value:0},{key:"max_value",label:"Max Value",type:"float",default_value:1}];this.set("config",p.default.ConfigSettingCollection.from_models_and_saved_values(e,t.prefs));var i=this.get("preloaded_data");i=i?i.data:[],this.set("data_manager",new k({dataset:this.get("dataset"),init_data:i}))}},{to_json_keys:["track_type","dataset","prefs","mode","filters","tool_state"],to_json_mappers:{prefs:function(t,e){return 0===l.size(t)&&(t={name:e.get("config").get("name").get("value"),color:e.get("config").get("color").get("value")}),t},dataset:function(t){return{id:t.id,hda_ldda:t.get("hda_ldda")}}}}),$=n.Collection.extend({model:D}),j=n.Model.extend({defaults:{title:"",type:""},urlRoot:Galaxy.root+"api/visualizations",save:function(){return t.ajax({url:this.url(),type:"POST",dataType:"json",data:{vis_json:JSON.stringify(this)}})}}),P=j.extend(b).extend({defaults:l.extend({},j.prototype.defaults,{dbkey:"",drawables:null,bookmarks:null,viewport:null}),initialize:function(t){this.set("drawables",new $(t.tracks));var e=[];this.set("config",p.default.ConfigSettingCollection.from_models_and_saved_values(e,t.prefs)),this.unset("tracks"),this.get("drawables").each(function(t){t.unset("preloaded_data")})},add_tracks:function(t){this.get("drawables").add(t)}},{to_json_keys:["view","viewport","bookmarks"],to_json_mappers:{view:function(t,e){return{obj_type:"View",prefs:{name:e.get("title"),content_visible:!0},drawables:e.get("drawables")}}}}),R=n.Router.extend({initialize:function(t){this.view=t.view,this.route(/([\w]+)$/,"change_location"),this.route(/([\w\+]+\:[\d,]+-[\d,]+)$/,"change_location");var e=this;e.view.on("navigate",function(t){e.navigate(t)})},change_location:function(t){this.view.go_to(t)}});e.default={BackboneTrack:D,BrowserBookmark:E,BrowserBookmarkCollection:O,Cache:C,CanvasManager:x,Genome:T,GenomeDataManager:k,GenomeRegion:A,GenomeRegionCollection:M,GenomeVisualization:P,GenomeReferenceDataManager:S,TrackBrowserRouter:R,Visualization:j,select_datasets:w}}).call(e,i(0),i(2))},function(t,e,i){"use strict";(function(t,n,r,a){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(5),l=o(s),u=i(157),c=o(u),h=i(158),d=o(h),f=i(47),p=o(f);t.ajaxSettings.traditional=!0,e.default=n.View.extend({grid:null,initialize:function(t){this.grid=new c.default,this.title=t.title;var e=this;if(window.add_tag_to_grid_filter=function(t,i){var n=t+(void 0!==i&&""!==i?":"+i:"");r("#advanced-search").is(":visible")||(r("#standard-search").slideToggle("fast"),r("#advanced-search").slideToggle("fast")),e.add_filter_condition("tags",n)},this.setElement("<div/>"),t.url_base&&!t.items){var i=t.url_data||{};a.each(t.filters,function(t,e){i["f-"+e]=t}),r.ajax({url:t.url_base+"?"+r.param(i),success:function(i){i.embedded=t.embedded,i.filters=t.filters||{},e.init_grid(i)}})}else this.init_grid(t);t.use_panels&&r("#center").css({padding:"10px",overflow:"auto"})},handle_refresh:function(t){t&&r.inArray("history",t)>-1&&window.top.Galaxy&&window.top.Galaxy.currHistoryPanel&&window.top.Galaxy.currHistoryPanel.loadCurrentHistory()},init_grid:function(t){this.grid.set(t);var e=this.grid.attributes;this.allow_title_display&&e.title&&l.default.setWindowTitle(e.title),this.handle_refresh(e.refresh_frames);var i=this.grid.get("url_base");if(i=i.replace(/^.*\/\/[^\/]+/,""),this.grid.set("url_base",i),this.$el.html(d.default.grid(e)),this.$el.find("#grid-table-header").html(d.default.header(e)),this.$el.find("#grid-table-body").html(d.default.body(e)),this.$el.find("#grid-table-footer").html(d.default.footer(e)),e.message){this.$el.find("#grid-message").html(d.default.message(e));var n=this;e.use_hide_message&&setTimeout(function(){n.$el.find("#grid-message").html("")},5e3)}this.init_grid_elements(),this.init_grid_controls(),window.init_refresh_on_change&&window.init_refresh_on_change()},init_grid_controls:function(){var t=this;this.$el.find(".operation-button").each(function(){r(this).off(),r(this).click(function(){return t.submit_operation(this),!1})}),this.$el.find("input[type=text]").each(function(){r(this).off(),r(this).click(function(){r(this).select()}).keyup(function(){r(this).css("font-style","normal")})}),this.$el.find(".sort-link").each(function(){r(this).off(),r(this).click(function(){return t.set_sort_condition(r(this).attr("sort_key")),!1})}),this.$el.find(".text-filter-form").each(function(){r(this).off(),r(this).submit(function(){var e=r(this).attr("column_key"),i=r("#input-"+e+"-filter"),n=i.val();return i.val(""),t.add_filter_condition(e,n),!1})}),this.$el.find(".text-filter-val > a").each(function(){r(this).off(),r(this).click(function(){return r(this).parent().remove(),t.remove_filter_condition(r(this).attr("filter_key"),r(this).attr("filter_val")),!1})}),this.$el.find(".categorical-filter > a").each(function(){r(this).off(),r(this).click(function(){return t.set_categorical_filter(r(this).attr("filter_key"),r(this).attr("filter_val")),!1})}),this.$el.find(".advanced-search-toggle").each(function(){r(this).off(),r(this).click(function(){return t.$el.find("#standard-search").slideToggle("fast"),t.$el.find("#advanced-search").slideToggle("fast"),!1})}),this.$el.find("#check_all").off(),this.$el.find("#check_all").on("click",function(){t.check_all_items()})},init_grid_elements:function(){this.$el.find(".grid").each(function(){var t=r(this).find("input.grid-row-select-checkbox"),e=r(this).find("span.grid-selected-count"),i=function(){e.text(r(t).filter(":checked").length)};r(t).each(function(){r(this).change(i)}),i()}),0!==this.$el.find(".community_rating_star").length&&this.$el.find(".community_rating_star").rating({});var t=this.grid.attributes,e=this;this.$el.find(".page-link > a").each(function(){r(this).click(function(){return e.set_page(r(this).attr("page_num")),!1})}),this.$el.find(".use-target").each(function(){r(this).click(function(){return e.execute({href:r(this).attr("href"),target:r(this).attr("target")}),!1})}),0!==t.items.length&&a.each(t.items,function(i,n){var r=e.$("#grid-"+i.encode_id+"-popup").off(),o=new p.default(r);a.each(t.operations,function(t){e._add_operation(o,t,i)})})},_add_operation:function(t,e,i){var n=this,a=i.operation_config[e.label];a.allowed&&e.allow_popup&&t.addItem({html:e.label,href:a.url_args,target:a.target,confirmation_text:e.confirm,func:function(t){t.preventDefault();var a=r(t.target).html();e.onclick?e.onclick(i.encode_id):n.execute(this.findItemByHtml(a))}})},add_filter_condition:function(t,e){if(""===e)return!1;this.grid.add_filter(t,e,!0);var i=r(d.default.filter_element(t,e)),n=this;i.click(function(){r(this).remove(),n.remove_filter_condition(t,e)}),this.$el.find("#"+t+"-filtering-criteria").append(i),this.go_page_one(),this.execute()},remove_filter_condition:function(t,e){this.grid.remove_filter(t,e),this.go_page_one(),this.execute()},set_sort_condition:function(t){var e=this.grid.get("sort_key"),i=t;-1!==e.indexOf(t)&&"-"!==e.substring(0,1)&&(i="-"+t),this.$el.find(".sort-arrow").remove();var n="-"==i.substring(0,1)?"&uarr;":"&darr;",a=r("<span>"+n+"</span>").addClass("sort-arrow");this.$el.find("#"+t+"-header").append(a),this.grid.set("sort_key",i),this.go_page_one(),this.execute()},set_categorical_filter:function(t,e){var i=this.grid.get("categorical_filters")[t],n=this.grid.get("filters")[t],a=this;this.$el.find("."+t+"-filter").each(function(){var o=r.trim(r(this).text()),s=i[o],l=s[t];if(l==e)r(this).empty(),r(this).addClass("current-filter"),r(this).append(o);else if(l==n){r(this).empty();var u=r('<a href="#">'+o+"</a>");u.click(function(){a.set_categorical_filter(t,l)}),r(this).removeClass("current-filter"),r(this).append(u)}}),this.grid.add_filter(t,e),this.go_page_one(),this.execute()},set_page:function(t){var e=this;this.$el.find(".page-link").each(function(){var i,n=r(this).attr("id"),a=parseInt(n.split("-")[2],10),o=e.grid.get("cur_page");if(a===t)i=r(this).children().text(),r(this).empty(),r(this).addClass("inactive-link"),r(this).text(i);else if(a===o){i=r(this).text(),r(this).empty(),r(this).removeClass("inactive-link");var s=r('<a href="#">'+i+"</a>");s.click(function(){e.set_page(a)}),r(this).append(s)}}),"all"===t?this.grid.set("cur_page",t):this.grid.set("cur_page",parseInt(t,10)),this.execute()},submit_operation:function(t,e){var i=r(t).val();if(this.$el.find('input[name="id"]:checked').length<1)return!1;var n=a.findWhere(this.grid.attributes.operations,{label:i});n&&!e&&(e=n.confirm||"");var o=[];this.$el.find("input[name=id]:checked").each(function(){o.push(r(this).val())});var s={operation:i,id:o,confirmation_text:e};return"top"!=n.target&&"center"!=n.target||(s=a.extend(s,{href:n.href,target:n.target})),this.execute(s),!0},check_all_items:function(){var t=this.$(".grid-row-select-checkbox"),e=this.$("#check_all").prop("checked");a.each(t,function(t){r(t).prop("checked",e)}),this.init_grid_elements()},go_page_one:function(){var t=this.grid.get("cur_page");null!==t&&void 0!==t&&"all"!==t&&this.grid.set("cur_page",1)},execute:function(t){var e=null,i=null,n=null,a=null,o=null;if(t&&(i=t.href,n=t.operation,e=t.id,a=t.confirmation_text,o=t.target,void 0!==i&&-1!=i.indexOf("operation="))){var s=i.split("?");if(s.length>1)for(var l=s[1],u=l.split("&"),c=0;c<u.length;c++)-1!=u[c].indexOf("operation")?(n=u[c].split("=")[1],n=n.replace(/\+/g," ")):-1!=u[c].indexOf("id")&&(e=u[c].split("=")[1])}return n&&e?!(a&&""!==a&&"None"!=a&&"null"!=a&&!confirm(a))&&(n=n.toLowerCase(),this.grid.set({operation:n,item_ids:e}),"top"==o?window.top.location=i+"?"+r.param(this.grid.get_url_data()):"center"==o?r("#galaxy_main").attr("src",i+"?"+r.param(this.grid.get_url_data())):this.update_grid(),!1):i?(this.go_to(o,i),!1):(this.update_grid(),!1)},go_to:function(t,e){var i=this.$el.find("#advanced-search").is(":visible");switch(this.grid.set("advanced_search",i),e||(e=this.grid.get("url_base")+"?"+r.param(this.grid.get_url_data())),this.grid.set({operation:void 0,item_ids:void 0}),t){case"center":r("#galaxy_main").attr("src",e);break;case"top":window.top.location=e;break;default:window.location=e}},update_grid:function(){var t=this.grid.get("operation")?"POST":"GET";this.$el.find(".loading-elt-overlay").show();var e=this;r.ajax({type:t,url:e.grid.get("url_base"),data:e.grid.get_url_data(),error:function(){alert("Grid refresh failed")},success:function(t){var i=e.grid.get("embedded"),n=e.grid.get("insert"),r=e.$el.find("#advanced-search").is(":visible"),a=t;a.embedded=i,a.insert=n,a.advanced_search=r,e.init_grid(a),e.$el.find(".loading-elt-overlay").hide()},complete:function(){e.grid.set({operation:void 0,item_ids:void 0})}})}})}).call(e,i(0),i(2),i(0),i(1))},function(t,e,i){"use strict";(function(t){function i(e,i){i=i||window.location.search.substr(1);var n=new RegExp(e+"=([^&#$]+)","g"),r=i.match(n);if(r&&r.length)return r=t.map(r,function(t){return decodeURIComponent(t.substr(e.length+1).replace(/\+/g," "))}),1===r.length?r[0]:r}function n(t){if(!t)return{};var e={};return t.split("&").forEach(function(t){var i=t.split("=");e[i[0]]=decodeURI(i[1])}),e}Object.defineProperty(e,"__esModule",{value:!0}),e.default={get:i,parse:n}}).call(e,i(1))},,,,,,,,function(t,e,i){"use strict";(function(t){function n(t,e){return t.models.filter(function(t){var i=t.get("type");return!!i&&-1!==i.indexOf(e)})}function r(t){var e=t.pluck("weight"),i=e.reduce(function(t,e){return t+e}),n=new Map;e.forEach(function(t,e){n.set(e,parseFloat((t/i).toFixed(2)))});var r=[],o=!0,s=!1,l=void 0;try{for(var u,c=n[Symbol.iterator]();!(o=(u=c.next()).done);o=!0)for(var h=u.value,d=a(h,2),f=d[0],p=d[1],g=0;g<100*p;g++)r.push(f)}catch(t){s=!0,l=t}finally{try{!o&&c.return&&c.return()}finally{if(s)throw l}}return t.at(r[Math.floor(Math.random()*r.length)])}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){var i=[],n=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){r=!0,a=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw a}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=i(5),s=function(t){return t&&t.__esModule?t:{default:t}}(o),l=t.Collection.extend({url:function(){return Galaxy.root+"api/webhooks"}}),u=t.View.extend({el:"#webhook-view",initialize:function(t){var e=this,i=t.toolId||"",a=t.toolVersion||"";this.$el.attr("tool_id",i),this.$el.attr("tool_version",a),(new l).fetch({success:function(i){t.type&&i.reset(n(i,t.type)),i.length>0&&e.render(r(i))}})},render:function(t){var e=t.toJSON();return this.$el.html('<div id="'+e.id+'"></div>'),s.default.appendScriptStyle(e),this}}),c=function(t){(new l).fetch({async:void 0===t.async||t.async,success:function(e){t.type&&e.reset(n(e,t.type)),t.callback(e)}})};e.default={WebhookView:u,load:c}}).call(e,i(2))},,,,,,,function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),a=function(t){return t&&t.__esModule?t:{default:t}}(r),o=i(1),s=n(o),l=i(2),u=n(l),c=160,h=800,d=u.View.extend({initialize:function(t){this.view=t.view,this.hidden=!1,this.saved_size=null,this.hiddenByTool=!1},$center:function(){return this.$el.siblings("#center")},$toggleButton:function(){return this.$(".unified-panel-footer > .panel-collapse")},render:function(){var t=this,e=this.view,i=this.view.model.attributes||{};this.$el.html(this._templatePanel(this.id)),s.each(i.buttons,function(e){t.$(".panel-header-buttons").append(e.$el)}),this.$el.addClass(i.cls),this.$(".panel-header-text").html(s.escape(i.title)),this.$(".unified-panel-body").append(e.$el),e.render()},_templatePanel:function(){return[this._templateHeader(),this._templateBody(),this._templateFooter()].join("")},_templateHeader:function(t){return['<div class="unified-panel-header" unselectable="on">','<div class="unified-panel-header-inner">','<div class="panel-header-buttons" style="float: right"/>','<div class="panel-header-text"/>',"</div>","</div>"].join("")},_templateBody:function(t){return'<div class="unified-panel-body"/>'},_templateFooter:function(t){return['<div class="unified-panel-footer">','<div class="panel-collapse ',s.escape(this.id),'"/>','<div class="drag"/>',"</div>"].join("")},events:{"mousedown .unified-panel-footer > .drag":"_mousedownDragHandler","click .unified-panel-footer > .panel-collapse":"toggle"},_mousedownDragHandler:function(t){function e(t){var e=t.pageX-r;r=t.pageX;var a=i.$el.width(),o=n?a+e:a-e;o=Math.min(h,Math.max(c,o)),i.resize(o)}var i=this,n="left"===this.id,r=t.pageX;(0,a.default)("#dd-helper").show().on("mousemove",e).one("mouseup",function(t){(0,a.default)(this).hide().off("mousemove",e)})},resize:function(t){return this.$el.css("width",t),this.$center().css(this.id,t),this},show:function(){if(this.hidden){var t=this,e={},i=this.id;return e[i]=0,t.$el.css(i,-this.saved_size).show().animate(e,"fast",function(){t.resize(t.saved_size)}),t.hidden=!1,t.$toggleButton().removeClass("hidden"),this}},hide:function(){if(!this.hidden){var t={},e=this.id;return this.saved_size=this.$el.width(),t[e]=-this.saved_size,this.$el.animate(t,"fast"),this.$center().css(e,0),this.hidden=!0,this.$toggleButton().addClass("hidden"),this}},toggle:function(t){return this.hidden?this.show():this.hide(),this.hiddenByTool=!1,this},handle_minwidth_hint:function(t){return this.$center().width()-(this.hidden?this.saved_size:0)<t?this.hidden||(this.toggle(),this.hiddenByTool=!0):this.hiddenByTool&&(this.toggle(),this.hiddenByTool=!1),self},force_panel:function(t){return"show"==t?this.show():"hide"==t?this.hide():self},toString:function(){return"SidePanel("+this.id+")"}}),f=d.extend({id:"left"}),p=d.extend({id:"right"}),g=u.View.extend({initialize:function(t){this.setElement((0,a.default)(this.template())),this.$frame=this.$(".center-frame"),this.$panel=this.$(".center-panel"),this.$frame.on("load",s.bind(this._iframeChangeHandler,this))},_iframeChangeHandler:function(t){var e=t.currentTarget,i=e.contentWindow&&e.contentWindow.location;i&&i.host&&((0,a.default)(e).show(),this.$panel.empty().hide(),Galaxy.trigger("center-frame:load",{fullpath:i.pathname+i.search+i.hash,pathname:i.pathname,search:i.search,hash:i.hash}))},display:function(t){var e=this.$frame[0].contentWindow||{},i=e.onbeforeunload&&e.onbeforeunload();i&&!confirm(i)||(e.onbeforeunload=void 0,this.$frame.attr("src","about:blank").hide(),this.$panel.empty().scrollTop(0).append(t.$el||t).show(),Galaxy.trigger("center-panel:load",t))},template:function(){return'<div class="center-container"><iframe id="galaxy_main" name="galaxy_main" frameborder="0" class="center-frame" /><div class="center-panel" /></div>'},toString:function(){return"CenterPanel"}});e.default={SidePanel:d,LeftPanel:f,RightPanel:p,CenterPanel:g}},,function(t,e,i){"use strict";(function(t,i,n){Object.defineProperty(e,"__esModule",{value:!0});var r=t.Model.extend({defaults:{title:"",icon_class:"",on_click:null,menu_options:null,is_menu_button:!0,id:null,href:null,target:null,enabled:!0,visible:!0,tooltip_config:{}}}),a=t.View.extend({initialize:function(){this.model.attributes.tooltip_config={placement:"bottom"},this.model.bind("change",this.render,this)},render:function(){this.$el.tooltip("hide");var t=this.template(this.model.toJSON());return t.tooltip(this.model.get("tooltip_config")),this.$el.replaceWith(t),this.setElement(t),this},events:{click:"click"},click:function(t){return!i.isFunction(this.model.get("on_click"))||(this.model.get("on_click")(t),!1)},template:function(t){var e='title="'+t.title+'" class="icon-button';return t.is_menu_button&&(e+=" menu-button"),e+=" "+t.icon_class,t.enabled||(e+="_disabled"),e+='"',t.id&&(e+=' id="'+t.id+'"'),e+=' href="'+t.href+'"',t.target&&(e+=' target="'+t.target+'"'),t.visible||(e+=' style="display: none;"'),e=t.enabled?"<a "+e+"/>":"<span "+e+"/>",n(e)}}),o=t.Collection.extend({model:r}),s=t.View.extend({tagName:"div",initialize:function(){this.render()},render:function(){var t=this;return this.collection.each(function(e){var i=n("<a/>").attr("href","javascript:void(0)").attr("title",e.attributes.title).addClass("icon-button menu-button").addClass(e.attributes.icon_class).appendTo(t.$el).click(e.attributes.on_click);e.attributes.tooltip_config&&i.tooltip(e.attributes.tooltip_config);var r=e.get("options");r&&make_popupmenu(i,r)}),this}}),l=function(t,e){e||(e={});var n=new o(i.map(t,function(t){return new r(i.extend(t,e))}));return new s({collection:n})};e.default={IconButton:r,IconButtonView:a,IconButtonCollection:o,IconButtonMenuView:s,create_icon_buttons_menu:l}}).call(e,i(2),i(1),i(0))},function(t,e,i){"use strict";(function(t,i){function n(t){t+="";for(var e=/(\d+)(\d{3})/;e.test(t);)t=t.replace(e,"$1,$2");return t}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return"promise"in t},a=t.Model.extend({defaults:{ajax_settings:{},interval:1e3,success_fn:function(t){return!0}},go:function(){var t=i.Deferred(),e=this,n=e.get("ajax_settings"),r=e.get("success_fn"),a=e.get("interval");return function e(){i.ajax(n).success(function(i){r(i)?t.resolve(i):setTimeout(e,a)})}(),t}}),o=function(t){t||(t="#ffffff"),"string"==typeof t&&(t=[t]);for(var e=0;e<t.length;e++)t[e]=parseInt(t[e].slice(1),16);var i,n,r,a,o,s,l,u,c,h,d,f=function(t,e,i){return(299*t+587*e+114*i)/1e3},p=!1,g=0;do{for(i=Math.round(16777215*Math.random()),n=(16711680&i)>>16,r=(65280&i)>>8,a=255&i,c=f(n,r,a),p=!0,e=0;e<t.length;e++)if(o=t[e],s=(16711680&o)>>16,l=(65280&o)>>8,u=255&o,h=f(s,l,u),d=function(t,e,i,n,r,a){return Math.max(t,n)-Math.min(t,n)+(Math.max(e,r)-Math.min(e,r))+(Math.max(i,a)-Math.min(i,a))}(n,r,a,s,l,u),Math.abs(c-h)<40||d<200){p=!1;break}g++}while(!p&&g<=10);return"#"+(16777216+i).toString(16).substr(1,6)};e.default={commatize:n,is_deferred:r,ServerStateDeferred:a,get_random_color:o}}).call(e,i(2),i(0))},function(t,e,i){"use strict";(function(t,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(1),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(a),s=i(45),l=r(s),u=i(46),c=(r(u),t.Model.extend({initialize:function(t){var e=this.get("key");this.set("id",e);var i=o.find([{key:"name",label:"Name",type:"text",default_value:""},{key:"color",label:"Color",type:"color",default_value:null},{key:"min_value",label:"Min Value",type:"float",default_value:null},{key:"max_value",label:"Max Value",type:"float",default_value:null},{key:"mode",type:"string",default_value:this.mode,hidden:!0},{key:"height",type:"int",default_value:32,hidden:!0},{key:"pos_color",label:"Positive Color",type:"color",default_value:"#FF8C00"},{key:"neg_color",label:"Negative Color",type:"color",default_value:"#4169E1"},{key:"block_color",label:"Block color",type:"color",default_value:null},{key:"label_color",label:"Label color",type:"color",default_value:"black"},{key:"show_insertions",label:"Show insertions",type:"bool",default_value:!1},{key:"show_counts",label:"Show summary counts",type:"bool",default_value:!0},{key:"reverse_strand_color",label:"Antisense strand color",type:"color",default_value:null},{key:"show_differences",label:"Show differences only",type:"bool",default_value:!0}],function(t){return t.key===e});i&&this.set(o.extend({},i,t)),void 0===this.get("value")&&void 0!==this.get("default_value")&&(this.set_value(this.get("default_value")),this.get("value")||"color"!==this.get("type")||this.set("value",l.default.get_random_color()))},set_value:function(t,e){var i=this.get("type");"float"===i?t=parseFloat(t):"int"===i&&(t=parseInt(t,10)),this.set({value:t},e)}})),h=t.Collection.extend({model:c,to_key_value_dict:function(){var t={};return this.each(function(e){t[e.get("key")]=e.get("value")}),t},get_value:function(t){var e=this.get(t);if(e)return e.get("value")},set_value:function(t,e,i){var n=this.get(t);if(n)return n.set_value(e,i)},set_default_value:function(t,e){var i=this.get(t);if(i)return i.set("default_value",e)}},{from_models_and_saved_values:function(t,e){return e&&(t=o.map(t,function(t){return o.extend({},t,{value:e[t.key]})})),new h(t)}}),d=t.View.extend({className:"config-settings-view",render:function(){var t=this.$el;return this.collection.each(function(e,i){if(!e.get("hidden")){var r="param_"+i,a=e.get("type"),s=e.get("value"),u=n("<div class='form-row' />").appendTo(t);if(u.append(n("<label />").attr("for",r).text(e.get("label")+":")),"bool"===a)u.append(n('<input type="checkbox" />').attr("id",r).attr("name",r).attr("checked",s));else if("text"===a)u.append(n('<input type="text"/>').attr("id",r).val(s).click(function(){n(this).select()}));else if("select"===a){var c=n("<select />").attr("id",r);o.each(e.get("options"),function(t){n("<option/>").text(t.label).attr("value",t.value).appendTo(c)}),c.val(s),u.append(c)}else if("color"===a){var h=n("<div/>").appendTo(u),d=n("<input />").attr("id",r).attr("name",r).val(s).css("float","left").appendTo(h).click(function(t){n(".tooltip").removeClass("in");var e=n(this).siblings(".tooltip").addClass("in");e.css({left:n(this).position().left+n(this).width()+5,top:n(this).position().top-n(e).height()/2+n(this).height()/2}).show(),e.click(function(t){t.stopPropagation()}),n(document).bind("click.color-picker",function(){e.hide(),n(document).unbind("click.color-picker")}),t.stopPropagation()}),f=n("<a href='javascript:void(0)'/>").addClass("icon-button arrow-circle").appendTo(h).attr("title","Set new random color").tooltip(),p=n("<div class='tooltip right' style='position: absolute;' />").appendTo(h).hide(),g=n("<div class='tooltip-inner' style='text-align: inherit'></div>").appendTo(p),m=(n("<div class='tooltip-arrow'></div>").appendTo(p),n.farbtastic(g,{width:100,height:100,callback:d,color:s}));h.append(n("<div/>").css("clear","both")),function(t){f.click(function(){t.setColor(l.default.get_random_color())})}(m)}else u.append(n("<input />").attr("id",r).attr("name",r).val(s));e.help&&u.append(n("<div class='help'/>").text(e.help))}}),this},render_in_modal:function(t){var e=this,i=function(){Galaxy.modal.hide(),n(window).unbind("keypress.check_enter_esc")},r=function(){Galaxy.modal.hide(),n(window).unbind("keypress.check_enter_esc"),e.update_from_form()},a=function(t){27===(t.keyCode||t.which)?i():13===(t.keyCode||t.which)&&r()};n(window).bind("keypress.check_enter_esc",a),0===this.$el.children().length&&this.render(),Galaxy.modal.show({title:t||"Configure",body:this.$el,buttons:{Cancel:i,OK:r}})},update_from_form:function(){var t=this;this.collection.each(function(e,i){if(!e.get("hidden")){var n="param_"+i,r=t.$el.find("#"+n).val();"bool"===e.get("type")&&(r=t.$el.find("#"+n).is(":checked")),e.set_value(r)}})}});e.default={ConfigSetting:c,ConfigSettingCollection:h,ConfigSettingCollectionView:d}}).call(e,i(2),i(0))},function(t,e,i){"use strict";(function(t,i,n,r){Object.defineProperty(e,"__esModule",{value:!0});var a=t.View.extend({initialize:function(t,e){this.$button=t,this.$button.length||(this.$button=i("<div/>")),this.options=e||[],this.$button.data("popupmenu",this);var n=this;this.$button.click(function(t){return i(".popmenu-wrapper").remove(),n._renderAndShow(t),!1})},_renderAndShow:function(t){this.render(),this.$el.appendTo("body").css(this._getShownPosition(t)).show(),this._setUpCloseBehavior()},render:function(){if(this.$el.addClass("popmenu-wrapper").hide().css({position:"absolute"}).html(this.template(this.$button.attr("id"),this.options)),this.options.length){var t=this;this.$el.find("li").each(function(e,n){var r=t.options[e];r.func&&i(this).children("a.popupmenu-option").click(function(e){r.func.call(t,e,r),e.preventDefault()})})}return this},template:function(t,e){return['<ul id="',t,'-menu" class="dropdown-menu">',this._templateOptions(e),"</ul>"].join("")},_templateOptions:function(t){return t.length?n.map(t,function(t){return t.divider?'<li class="divider"></li>':t.header?['<li class="head"><a href="javascript:void(0);">',t.html,"</a></li>"].join(""):['<li><a class="popupmenu-option" href="',t.href||"javascript:void(0);",'"',t.target?' target="'+t.target+'"':"",">",t.checked?'<span class="fa fa-check"></span>':"",t.html,"</a></li>"].join("")}).join(""):"<li>(no options)</li>"},_getShownPosition:function(t){var e=this.$el.width(),n=t.pageX-e/2;return n=Math.min(n,i(document).scrollLeft()+i(window).width()-e-5),n=Math.max(n,i(document).scrollLeft()+5),{top:t.pageY,left:n}},_setUpCloseBehavior:function(){function t(t){if(i(document).off("click.close_popup"),window&&window.parent!==window)try{i(window.parent.document).off("click.close_popup")}catch(t){}else try{i("iframe#galaxy_main").contents().off("click.close_popup")}catch(t){}e.remove()}var e=this;if(i("html").one("click.close_popup",t),window&&window.parent!==window)try{i(window.parent.document).find("html").one("click.close_popup",t)}catch(t){}else try{i("iframe#galaxy_main").contents().one("click.close_popup",t)}catch(t){}},addItem:function(t,e){return e=e>=0?e:this.options.length,this.options.splice(e,0,t),this},removeItem:function(t){return t>=0&&this.options.splice(t,1),this},findIndexByHtml:function(t){for(var e=0;e<this.options.length;e++)if(n.has(this.options[e],"html")&&this.options[e].html===t)return e;return null},findItemByHtml:function(t){return this.options[this.findIndexByHtml(t)]},toString:function(){return"PopupMenu"}});a.create=function(t,e){return new a(t,e)},a.make_popupmenu=function(t,e){var o=[];return n.each(e,function(t,e){var i={html:e};null===t?i.header=!0:"function"===r.type(t)&&(i.func=t),o.push(i)}),new a(i(t),o)},a.convertLinksToOptions=function(t,e){t=i(t),e=e||"a";var n=[];return t.find(e).each(function(t,e){var r={},a=i(t);if(r.html=a.text(),a.attr("href")){var o=a.attr("href"),s=a.attr("target"),l=a.attr("confirm");r.func=function(){if(!l||confirm(l))switch(s){case"_parent":window.parent.location=o;break;case"_top":window.top.location=o;break;default:window.location=o}}}n.push(r)}),n},a.fromExistingDom=function(t,e,n){t=i(t),e=i(e);var r=a.convertLinksToOptions(e,n);return e.remove(),new a(t,r)},a.make_popup_menus=function(t,e,n){t=t||document,e=e||"div[popupmenu]",n=n||function(t,e){return"#"+t.attr("popupmenu")};var r=[];return i(t).find(e).each(function(){var e=i(this),o=i(t).find(n(e,t));r.push(a.fromDom(o,e)),o.addClass("popup")}),r},e.default=a}).call(e,i(2),i(0),i(1),i(0))},function(t,e,i){"use strict";function n(t){return"("+t+")"}Object.defineProperty(e,"__esModule",{value:!0}),e.simpleSuffix=function(t){return function(e){return e+t}},e.isSingleTerm=/^.$|^[0-9]+$/,e.addParenthesis=n},,,,,,,,,,,,,,,function(t,e,i){(function(t){/*! jQuery UI - v1.9.1 - 2012-10-29
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.menu.js, jquery.ui.slider.js
* Copyright (c) 2012 jQuery Foundation and other contributors Licensed MIT */
!function(t,e){function i(e,i){var r,a,o,s=e.nodeName.toLowerCase();return"area"===s?(r=e.parentNode,a=r.name,!(!e.href||!a||"map"!==r.nodeName.toLowerCase())&&(!!(o=t("img[usemap=#"+a+"]")[0])&&n(o))):(/input|select|textarea|button|object/.test(s)?!e.disabled:"a"===s?e.href||i:i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().andSelf().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var r=0,a=/^ui-id-\d+$/;t.ui=t.ui||{},t.ui.version||(t.extend(t.ui,{version:"1.9.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({_focus:t.fn.focus,focus:function(e,i){return"number"==typeof e?this.each(function(){var n=this;setTimeout(function(){t(n).focus(),i&&i.call(n)},e)}):this._focus.apply(this,arguments)},scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length)for(var n,r,a=t(this[0]);a.length&&a[0]!==document;){if(("absolute"===(n=a.css("position"))||"relative"===n||"fixed"===n)&&(r=parseInt(a.css("zIndex"),10),!isNaN(r)&&0!==r))return r;a=a.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){a.test(this.id)&&t(this).removeAttr("id")})}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(i,n){function r(e,i,n,r){return t.each(a,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),r&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var a="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(i){return i===e?s["inner"+n].call(this):this.each(function(){t(this).css(o,r(this,i)+"px")})},t.fn["outer"+n]=function(e,i){return"number"!=typeof e?s["outer"+n].call(this,e):this.each(function(){t(this).css(o,r(this,e,!0,i)+"px")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var n=t.attr(e,"tabindex"),r=isNaN(n);return(r||n>=0)&&i(e,!r)}}),t(function(){var e=document.body,i=e.appendChild(i=document.createElement("div"));i.offsetHeight,t.extend(i.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),t.support.minHeight=100===i.offsetHeight,t.support.selectstart="onselectstart"in i,e.removeChild(i).style.display="none"}),function(){var e=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];t.ui.ie=!!e.length,t.ui.ie6=6===parseFloat(e[1],10)}(),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,i,n){var r,a=t.ui[e].prototype;for(r in n)a.plugins[r]=a.plugins[r]||[],a.plugins[r].push([i,n[r]])},call:function(t,e,i){var n,r=t.plugins[e];if(r&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(n=0;n<r.length;n++)t.options[r[n][0]]&&r[n][1].apply(t.element,i)}},contains:t.contains,hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",r=!1;return e[n]>0||(e[n]=1,r=e[n]>0,e[n]=0,r)},isOverAxis:function(t,e,i){return t>e&&t<e+i},isOver:function(e,i,n,r,a,o){return t.ui.isOverAxis(e,n,a)&&t.ui.isOverAxis(i,r,o)}}))}(t),function(t,e){var i=0,n=Array.prototype.slice,r=t.cleanData;t.cleanData=function(e){for(var i,n=0;null!=(i=e[n]);n++)try{t(i).triggerHandler("remove")}catch(t){}r(e)},t.widget=function(e,i,n){var r,a,o,s,l=e.split(".")[0];e=e.split(".")[1],r=l+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[l]=t[l]||{},a=t[l][e],o=t[l][e]=function(t,e){if(!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},t.extend(o,a,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),s=new i,s.options=t.widget.extend({},s.options),t.each(n,function(e,r){t.isFunction(r)&&(n[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},n=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,a=this._superApply;return this._super=t,this._superApply=n,e=r.apply(this,arguments),this._super=i,this._superApply=a,e}}())}),o.prototype=t.widget.extend(s,{widgetEventPrefix:s.widgetEventPrefix||e},n,{constructor:o,namespace:l,widgetName:e,widgetBaseClass:r,widgetFullName:r}),a?(t.each(a._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,o,i._proto)}),delete a._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o)},t.widget.extend=function(i){for(var r,a,o=n.call(arguments,1),s=0,l=o.length;s<l;s++)for(r in o[s])a=o[s][r],o[s].hasOwnProperty(r)&&a!==e&&(t.isPlainObject(a)?i[r]=t.isPlainObject(i[r])?t.widget.extend({},i[r],a):t.widget.extend({},a):i[r]=a);return i},t.widget.bridge=function(i,r){var a=r.prototype.widgetFullName;t.fn[i]=function(o){var s="string"==typeof o,l=n.call(arguments,1),u=this;return o=!s&&l.length?t.widget.extend.apply(null,[o].concat(l)):o,s?this.each(function(){var n,r=t.data(this,a);return r?t.isFunction(r[o])&&"_"!==o.charAt(0)?(n=r[o].apply(r,l),n!==r&&n!==e?(u=n&&n.jquery?u.pushStack(n.get()):n,!1):void 0):t.error("no such method '"+o+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+o+"'")}):this.each(function(){var e=t.data(this,a);e?e.option(o||{})._init():new r(o,this)}),u}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetName,this),t.data(n,this.widgetFullName,this),this._on(this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,n){var r,a,o,s=i;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof i)if(s={},r=i.split("."),i=r.shift(),r.length){for(a=s[i]=t.widget.extend({},this.options[i]),o=0;o<r.length-1;o++)a[r[o]]=a[r[o]]||{},a=a[r[o]];if(i=r.pop(),n===e)return a[i]===e?null:a[i];a[i]=n}else{if(n===e)return this.options[i]===e?null:this.options[i];s[i]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,i){var n,r=this;i?(e=n=t(e),this.bindings=this.bindings.add(e)):(i=e,e=this.element,n=this.widget()),t.each(i,function(i,a){function o(){if(!0!==r.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?r[a]:a).apply(r,arguments)}"string"!=typeof a&&(o.guid=a.guid=a.guid||o.guid||t.guid++);var s=i.match(/^(\w+)\s*(.*)$/),l=s[1]+r.eventNamespace,u=s[2];u?n.delegate(u,l,o):e.bind(l,o)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var r,a,o=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],a=i.originalEvent,a)for(r in a)r in i||(i[r]=a[r]);return this.element.trigger(i,n),!(t.isFunction(o)&&!1===o.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,r,a){"string"==typeof r&&(r={effect:r});var o,s=r?!0===r||"number"==typeof r?i:r.effect||i:e;r=r||{},"number"==typeof r&&(r={duration:r}),o=!t.isEmptyObject(r),r.complete=a,r.delay&&n.delay(r.delay),o&&t.effects&&(t.effects.effect[s]||!1!==t.uiBackCompat&&t.effects[s])?n[e](r):s!==e&&n[s]?n[s](r.duration,r.easing,a):n.queue(function(i){t(this)[e](),a&&a.call(n[0]),i()})}}),!1!==t.uiBackCompat&&(t.Widget.prototype._getCreateOptions=function(){return t.metadata&&t.metadata.get(this.element[0])[this.widgetName]})}(t),function(t,e){var i=!1;t(document).mouseup(function(t){i=!1}),t.widget("ui.mouse",{version:"1.9.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){if(!0===t.data(i.target,e.widgetName+".preventClickEvent"))return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!i){this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,r=1===e.which,a=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(r&&!a&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),i=!0,!0))}},_mouseMove:function(e){return!t.ui.ie||document.documentMode>=9||e.button?this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted):this._mouseUp(e)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(t){return this.mouseDelayMet},_mouseStart:function(t){},_mouseDrag:function(t){},_mouseStop:function(t){},_mouseCapture:function(t){return!0}})}(t),function(e,i){function n(t,e,i){return[parseInt(t[0],10)*(f.test(t[0])?e/100:1),parseInt(t[1],10)*(f.test(t[1])?i/100:1)]}function r(t,i){return parseInt(e.css(t,i),10)||0}e.ui=e.ui||{};var a,o=Math.max,s=Math.abs,l=Math.round,u=/left|center|right/,c=/top|center|bottom/,h=/[\+\-]\d+%?/,d=/^\w+/,f=/%$/,p=e.fn.position;e.position={scrollbarWidth:function(){if(a!==i)return a;var t,n,r=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=r.children()[0];return e("body").append(r),t=o.offsetWidth,r.css("overflow","scroll"),n=o.offsetWidth,t===n&&(n=r[0].clientWidth),r.remove(),a=t-n},getScrollInfo:function(t){var i=t.isWindow?"":t.element.css("overflow-x"),n=t.isWindow?"":t.element.css("overflow-y"),r="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,a="scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight;return{width:r?e.position.scrollbarWidth():0,height:a?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]);return{element:i,isWindow:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return p.apply(this,arguments);t=e.extend({},t);var i,a,f,g,m,v=e(t.of),_=e.position.getWithinInfo(t.within),y=e.position.getScrollInfo(_),b=v[0],w=(t.collision||"flip").split(" "),x={};return 9===b.nodeType?(a=v.width(),f=v.height(),g={top:0,left:0}):e.isWindow(b)?(a=v.width(),f=v.height(),g={top:v.scrollTop(),left:v.scrollLeft()}):b.preventDefault?(t.at="left top",a=f=0,g={top:b.pageY,left:b.pageX}):(a=v.outerWidth(),f=v.outerHeight(),g=v.offset()),m=e.extend({},g),e.each(["my","at"],function(){var e,i,n=(t[this]||"").split(" ");1===n.length&&(n=u.test(n[0])?n.concat(["center"]):c.test(n[0])?["center"].concat(n):["center","center"]),n[0]=u.test(n[0])?n[0]:"center",n[1]=c.test(n[1])?n[1]:"center",e=h.exec(n[0]),i=h.exec(n[1]),x[this]=[e?e[0]:0,i?i[0]:0],t[this]=[d.exec(n[0])[0],d.exec(n[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===t.at[0]?m.left+=a:"center"===t.at[0]&&(m.left+=a/2),"bottom"===t.at[1]?m.top+=f:"center"===t.at[1]&&(m.top+=f/2),i=n(x.at,a,f),m.left+=i[0],m.top+=i[1],this.each(function(){var u,c,h=e(this),d=h.outerWidth(),p=h.outerHeight(),b=r(this,"marginLeft"),C=r(this,"marginTop"),k=d+b+r(this,"marginRight")+y.width,S=p+C+r(this,"marginBottom")+y.height,T=e.extend({},m),A=n(x.my,h.outerWidth(),h.outerHeight());"right"===t.my[0]?T.left-=d:"center"===t.my[0]&&(T.left-=d/2),"bottom"===t.my[1]?T.top-=p:"center"===t.my[1]&&(T.top-=p/2),T.left+=A[0],T.top+=A[1],e.support.offsetFractions||(T.left=l(T.left),T.top=l(T.top)),u={marginLeft:b,marginTop:C},e.each(["left","top"],function(n,r){e.ui.position[w[n]]&&e.ui.position[w[n]][r](T,{targetWidth:a,targetHeight:f,elemWidth:d,elemHeight:p,collisionPosition:u,collisionWidth:k,collisionHeight:S,offset:[i[0]+A[0],i[1]+A[1]],my:t.my,at:t.at,within:_,elem:h})}),e.fn.bgiframe&&h.bgiframe(),t.using&&(c=function(e){var i=g.left-T.left,n=i+a-d,r=g.top-T.top,l=r+f-p,u={target:{element:v,left:g.left,top:g.top,width:a,height:f},element:{element:h,left:T.left,top:T.top,width:d,height:p},horizontal:n<0?"left":i>0?"right":"center",vertical:l<0?"top":r>0?"bottom":"middle"};a<d&&s(i+n)<a&&(u.horizontal="center"),f<p&&s(r+l)<f&&(u.vertical="middle"),o(s(i),s(n))>o(s(r),s(l))?u.important="horizontal":u.important="vertical",t.using.call(this,e,u)}),h.offset(e.extend(T,{using:c}))})},e.ui.position={fit:{left:function(t,e){var i,n=e.within,r=n.isWindow?n.scrollLeft:n.offset.left,a=n.width,s=t.left-e.collisionPosition.marginLeft,l=r-s,u=s+e.collisionWidth-a-r;e.collisionWidth>a?l>0&&u<=0?(i=t.left+l+e.collisionWidth-a-r,t.left+=l-i):t.left=u>0&&l<=0?r:l>u?r+a-e.collisionWidth:r:l>0?t.left+=l:u>0?t.left-=u:t.left=o(t.left-s,t.left)},top:function(t,e){var i,n=e.within,r=n.isWindow?n.scrollTop:n.offset.top,a=e.within.height,s=t.top-e.collisionPosition.marginTop,l=r-s,u=s+e.collisionHeight-a-r;e.collisionHeight>a?l>0&&u<=0?(i=t.top+l+e.collisionHeight-a-r,t.top+=l-i):t.top=u>0&&l<=0?r:l>u?r+a-e.collisionHeight:r:l>0?t.top+=l:u>0?t.top-=u:t.top=o(t.top-s,t.top)}},flip:{left:function(t,e){var i,n,r=e.within,a=r.offset.left+r.scrollLeft,o=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,u=t.left-e.collisionPosition.marginLeft,c=u-l,h=u+e.collisionWidth-o-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,f="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];c<0?((i=t.left+d+f+p+e.collisionWidth-o-a)<0||i<s(c))&&(t.left+=d+f+p):h>0&&((n=t.left-e.collisionPosition.marginLeft+d+f+p-l)>0||s(n)<h)&&(t.left+=d+f+p)},top:function(t,e){var i,n,r=e.within,a=r.offset.top+r.scrollTop,o=r.height,l=r.isWindow?r.scrollTop:r.offset.top,u=t.top-e.collisionPosition.marginTop,c=u-l,h=u+e.collisionHeight-o-l,d="top"===e.my[1],f=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];c<0?(n=t.top+f+p+g+e.collisionHeight-o-a,t.top+f+p+g>c&&(n<0||n<s(c))&&(t.top+=f+p+g)):h>0&&(i=t.top-e.collisionPosition.marginTop+f+p+g-l,t.top+f+p+g>h&&(i>0||s(i)<h)&&(t.top+=f+p+g))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,n,r,a,o=document.getElementsByTagName("body")[0],s=document.createElement("div");t=document.createElement(o?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&e.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in n)t.style[a]=n[a];t.appendChild(s),i=o||document.documentElement,i.insertBefore(t,i.firstChild),s.style.cssText="position: absolute; left: 10.7432222px;",r=e(s).offset().left,e.support.offsetFractions=r>10&&r<11,t.innerHTML="",i.removeChild(t)}(),!1!==e.uiBackCompat&&function(t){var e=t.fn.position;t.fn.position=function(n){if(!n||!n.offset)return e.call(this,n);var r=n.offset.split(" "),a=n.at.split(" ");return 1===r.length&&(r[1]=r[0]),/^\d/.test(r[0])&&(r[0]="+"+r[0]),/^\d/.test(r[1])&&(r[1]="+"+r[1]),1===a.length&&(/left|center|right/.test(a[0])?a[1]="center":(a[1]=a[0],a[0]="center")),e.call(this,t.extend(n,{at:a[0]+r[0]+" "+a[1]+r[1],offset:i}))}}(t)}(t),function(t,e){var i=0;t.widget("ui.autocomplete",{version:"1.9.1",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var e,i,n;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,n=!0,i=!0,void 0;e=!1,n=!1,i=!1;var a=t.ui.keyCode;switch(r.keyCode){case a.PAGE_UP:e=!0,this._move("previousPage",r);break;case a.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case a.UP:e=!0,this._keyEvent("previous",r);break;case a.DOWN:e=!0,this._keyEvent("next",r);break;case a.ENTER:case a.NUMPAD_ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case a.TAB:this.menu.active&&this.menu.select(r);break;case a.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(r),r.preventDefault());break;default:i=!0,this._searchTimeout(r)}},keypress:function(n){if(e)return e=!1,void n.preventDefault();if(!i){var r=t.ui.keyCode;switch(n.keyCode){case r.PAGE_UP:this._move("previousPage",n);break;case r.PAGE_DOWN:this._move("nextPage",n);break;case r.UP:this._keyEvent("previous",n);break;case r.DOWN:this._keyEvent("next",n)}}},input:function(t){if(n)return n=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){if(this.cancelBlur)return void delete this.cancelBlur;clearTimeout(this.searching),this.close(t),this._change(t)}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:t(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(n){n.target!==e.element[0]&&n.target!==i&&!t.contains(i,n.target)&&e.close()})})},menufocus:function(e,i){if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});var n=i.item.data("ui-autocomplete-item")||i.item.data("item.autocomplete");!1!==this._trigger("focus",e,{item:n})?e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value):this.liveRegion.text(n.value)},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item")||e.item.data("item.autocomplete"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),t.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this.document.find(e||"body")[0]),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return!!this.element.is("textarea")||!this.element.is("input")&&this.element.prop("isContentEditable")},_initSource:function(){var e,i,n=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,n){n(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,r){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var t=this,e=++i;return function(n){e===i&&t.__response(n),--t.pending||t.element.removeClass("ui-autocomplete-loading")}},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var i=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(i,e),this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,function(t,i){n._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<a>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return n.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.text(e))}})}(t),function(t,e){var i,n,r,a,o="ui-button ui-widget ui-state-default ui-corner-all",s="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var e=t(this).find(":ui-button");setTimeout(function(){e.button("refresh")},1)},u=function(e){var i=e.name,n=e.form,r=t([]);return i&&(r=n?t(n).find("[name='"+i+"']"):t("[name='"+i+"']",e.ownerDocument).filter(function(){return!this.form})),r};t.widget("ui.button",{version:"1.9.1",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,s=this.options,c="checkbox"===this.type||"radio"===this.type,h="ui-state-hover"+(c?"":" ui-state-active"),d="ui-state-focus";null===s.label&&(s.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this.buttonElement.addClass(o).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){s.disabled||(t(this).addClass("ui-state-hover"),this===i&&t(this).addClass("ui-state-active"))}).bind("mouseleave"+this.eventNamespace,function(){s.disabled||t(this).removeClass(h)}).bind("click"+this.eventNamespace,function(t){s.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){e.buttonElement.addClass(d)}).bind("blur"+this.eventNamespace,function(){e.buttonElement.removeClass(d)}),c&&(this.element.bind("change"+this.eventNamespace,function(){a||e.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(t){s.disabled||(a=!1,n=t.pageX,r=t.pageY)}).bind("mouseup"+this.eventNamespace,function(t){s.disabled||n===t.pageX&&r===t.pageY||(a=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(s.disabled||a)return!1;t(this).toggleClass("ui-state-active"),e.buttonElement.attr("aria-pressed",e.element[0].checked)}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(s.disabled||a)return!1;t(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var i=e.element[0];u(i).not(i).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(s.disabled)return!1;t(this).addClass("ui-state-active"),i=this,e.document.one("mouseup",function(){i=null})}).bind("mouseup"+this.eventNamespace,function(){if(s.disabled)return!1;t(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){if(s.disabled)return!1;(e.keyCode===t.ui.keyCode.SPACE||e.keyCode===t.ui.keyCode.ENTER)&&t(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",s.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(o+" ui-state-hover ui-state-active  "+s).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){if(this._super(t,e),"disabled"===t)return void(e?this.element.prop("disabled",!0):this.element.prop("disabled",!1));this._resetButton()},refresh:function(){var e=this.element.is(":disabled")||this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?u(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var e=this.buttonElement.removeClass(s),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),n=this.options.icons,r=n.primary&&n.secondary,a=[];n.primary||n.secondary?(this.options.text&&a.push("ui-button-text-icon"+(r?"s":n.primary?"-primary":"-secondary")),n.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(a.push(r?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):a.push("ui-button-text-only"),e.addClass(a.join(" "))}}),t.widget("ui.buttonset",{version:"1.9.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(t),function(t,e){var i=!1;t.widget("ui.menu",{version:"1.9.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,t.proxy(function(t){this.options.disabled&&t.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(t){t.preventDefault()},"click .ui-state-disabled > a":function(t){t.preventDefault()},"click .ui-menu-item:has(a)":function(e){var n=t(e.target).closest(".ui-menu-item");!i&&n.not(".ui-state-disabled").length&&(i=!0,this.select(e),n.has(".ui-menu").length?this.expand(e):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var i=t(e.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){t(e.target).closest(".ui-menu").length||this.collapseAll(e),i=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var n,r,a,o,s,l=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:l=!1,r=this.previousFilter||"",a=String.fromCharCode(e.keyCode),o=!1,clearTimeout(this.filterTimer),a===r?o=!0:a=r+a,s=new RegExp("^"+i(a),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return s.test(t(this).children("a").text())}),n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(a=String.fromCharCode(e.keyCode),s=new RegExp("^"+i(a),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return s.test(t(this).children("a").text())})),n.length?(this.focus(e,n),n.length>1?(this.previousFilter=a,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i=this.options.icons.submenu,n=this.element.find(this.options.menus+":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"});e=n.add(this.element),e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var e=t(this);/[^\-—–\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),n.each(function(){var e=t(this),n=e.prev("a"),r=t("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(r),e.attr("aria-labelledby",n.attr("id"))}),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(t,e){var i,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),n=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,n,r,a,o,s;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-i-n,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),s=e.height(),r<0?this.activeMenu.scrollTop(a+r):r+s>o&&this.activeMenu.scrollTop(a+r-o+s))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(e),this.activeMenu=n},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var n;this.active&&(n="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.children(".ui-menu-item")[e]()),this.focus(i,n)},nextPage:function(e){var i,n,r;if(!this.active)return void this.next(e);this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n-r<0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))},previousPage:function(e){var i,n,r;if(!this.active)return void this.next(e);this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n+r>0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item").first()))},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)}})}(t),function(t,e){t.widget("ui.slider",t.ui.mouse,{version:"1.9.1",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var e,i,n=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a=[];for(this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(n.disabled?" ui-slider-disabled ui-disabled":"")),this.range=t([]),n.range&&(!0===n.range&&(n.values||(n.values=[this._valueMin(),this._valueMin()]),n.values.length&&2!==n.values.length&&(n.values=[n.values[0],n.values[0]])),this.range=t("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===n.range||"max"===n.range?" ui-slider-range-"+n.range:""))),i=n.values&&n.values.length||1,e=r.length;e<i;e++)a.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");this.handles=r.add(t(a.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(t){t.preventDefault()}).mouseenter(function(){n.disabled||t(this).addClass("ui-state-hover")}).mouseleave(function(){t(this).removeClass("ui-state-hover")}).focus(function(){n.disabled?t(this).blur():(t(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),t(this).addClass("ui-state-focus"))}).blur(function(){t(this).removeClass("ui-state-focus")}),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)}),this._on(this.handles,{keydown:function(e){var i,n,r,a,o=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(e.target).addClass("ui-state-active"),i=this._start(e,o),!1===i))return}switch(a=this.options.step,n=r=this.options.values&&this.options.values.length?this.values(o):this.value(),e.keyCode){case t.ui.keyCode.HOME:r=this._valueMin();break;case t.ui.keyCode.END:r=this._valueMax();break;case t.ui.keyCode.PAGE_UP:r=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/5);break;case t.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/5);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;r=this._trimAlignValue(n+a);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;r=this._trimAlignValue(n-a)}this._slide(e,o,r)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}),this._refreshValue(),this._animateOff=!1},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,n,r,a,o,s,l,u=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(n-u.values(e));r>i&&(r=i,a=t(this),o=e)}),!0===c.range&&this.values(1)===c.min&&(o+=1,a=t(this.handles[o])),!1!==this._start(e,o)&&(this._mouseSliding=!0,this._handleIndex=o,a.addClass("ui-state-active").focus(),s=a.offset(),l=!t(e.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-s.left-a.width()/2,top:e.pageY-s.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,o,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,r,a;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/e,n>1&&(n=1),n<0&&(n=0),"vertical"===this.orientation&&(n=1-n),r=this._valueMax()-this._valueMin(),a=this._valueMin()+n*r,this._trimAlignValue(a)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var n,r,a;this.options.values&&this.options.values.length?(n=this.values(e?0:1),2===this.options.values.length&&!0===this.options.range&&(0===e&&i>n||1===e&&i<n)&&(i=n),i!==this.values(e)&&(r=this.values(),r[e]=i,a=this._trigger("slide",t,{handle:this.handles[e],value:i,values:r}),n=this.values(e?0:1),!1!==a&&this.values(e,i,!0))):i!==this.value()&&!1!==(a=this._trigger("slide",t,{handle:this.handles[e],value:i}))&&this.value(i)},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(e,i){var n,r,a;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e),void 0;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(n=this.options.values,r=arguments[0],a=0;a<n.length;a+=1)n[a]=this._trimAlignValue(r[a]),this._change(null,a);this._refreshValue()},_setOption:function(e,i){var n,r=0;switch(t.isArray(this.options.values)&&(r=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case"disabled":i?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.prop("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;n<r;n+=1)this._change(null,n);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,n,r,a,o=this.options.range,s=this.options,l=this,u=!this._animateOff&&s.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,c["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[u?"animate":"css"](c,s.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[u?"animate":"css"]({left:i+"%"},s.animate),1===n&&l.range[u?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:s.animate})):(0===n&&l.range.stop(1,1)[u?"animate":"css"]({bottom:i+"%"},s.animate),1===n&&l.range[u?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:s.animate}))),e=i}):(n=this.value(),r=this._valueMin(),a=this._valueMax(),i=a!==r?(n-r)/(a-r)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[u?"animate":"css"](c,s.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:i+"%"},s.animate),"max"===o&&"horizontal"===this.orientation&&this.range[u?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:s.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:i+"%"},s.animate),"max"===o&&"vertical"===this.orientation&&this.range[u?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:s.animate}))}})}(t)}).call(e,i(0))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){function i(t){return void 0===t||null===t}function n(t){return void 0!==t&&null!==t}function r(t){return!0===t}function a(t){return!1===t}function o(t){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t}function s(t){return null!==t&&"object"==typeof t}function l(t){return"[object Object]"===dn.call(t)}function u(t){return"[object RegExp]"===dn.call(t)}function c(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function h(t){return null==t?"":"object"==typeof t?JSON.stringify(t,null,2):String(t)}function d(t){var e=parseFloat(t);return isNaN(e)?t:e}function f(t,e){for(var i=Object.create(null),n=t.split(","),r=0;r<n.length;r++)i[n[r]]=!0;return e?function(t){return i[t.toLowerCase()]}:function(t){return i[t]}}function p(t,e){if(t.length){var i=t.indexOf(e);if(i>-1)return t.splice(i,1)}}function g(t,e){return pn.call(t,e)}function m(t){var e=Object.create(null);return function(i){return e[i]||(e[i]=t(i))}}function v(t,e){function i(i){var n=arguments.length;return n?n>1?t.apply(e,arguments):t.call(e,i):t.call(e)}return i._length=t.length,i}function _(t,e){e=e||0;for(var i=t.length-e,n=new Array(i);i--;)n[i]=t[i+e];return n}function y(t,e){for(var i in e)t[i]=e[i];return t}function b(t){for(var e={},i=0;i<t.length;i++)t[i]&&y(e,t[i]);return e}function w(t,e,i){}function x(t,e){if(t===e)return!0;var i=s(t),n=s(e);if(!i||!n)return!i&&!n&&String(t)===String(e);try{var r=Array.isArray(t),a=Array.isArray(e);if(r&&a)return t.length===e.length&&t.every(function(t,i){return x(t,e[i])});if(r||a)return!1;var o=Object.keys(t),l=Object.keys(e);return o.length===l.length&&o.every(function(i){return x(t[i],e[i])})}catch(t){return!1}}function C(t,e){for(var i=0;i<t.length;i++)if(x(t[i],e))return i;return-1}function k(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function S(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function T(t,e,i,n){Object.defineProperty(t,e,{value:i,enumerable:!!n,writable:!0,configurable:!0})}function A(t){if(!Tn.test(t)){var e=t.split(".");return function(t){for(var i=0;i<e.length;i++){if(!t)return;t=t[e[i]]}return t}}}function M(t){return"function"==typeof t&&/native code/.test(t.toString())}function E(t){Gn.target&&Xn.push(Gn.target),Gn.target=t}function O(){Gn.target=Xn.pop()}function D(t){return new Yn(void 0,void 0,void 0,String(t))}function $(t,e){var i=t.componentOptions,n=new Yn(t.tag,t.data,t.children,t.text,t.elm,t.context,i,t.asyncFactory);return n.ns=t.ns,n.isStatic=t.isStatic,n.key=t.key,n.isComment=t.isComment,n.fnContext=t.fnContext,n.fnOptions=t.fnOptions,n.fnScopeId=t.fnScopeId,n.isCloned=!0,e&&(t.children&&(n.children=j(t.children,!0)),i&&i.children&&(i.children=j(i.children,!0))),n}function j(t,e){for(var i=t.length,n=new Array(i),r=0;r<i;r++)n[r]=$(t[r],e);return n}function P(t,e,i){t.__proto__=e}function R(t,e,i){for(var n=0,r=i.length;n<r;n++){var a=i[n];T(t,a,e[a])}}function I(t,e){if(s(t)&&!(t instanceof Yn)){var i;return g(t,"__ob__")&&t.__ob__ instanceof ir?i=t.__ob__:er.shouldConvert&&!Fn()&&(Array.isArray(t)||l(t))&&Object.isExtensible(t)&&!t._isVue&&(i=new ir(t)),e&&i&&i.vmCount++,i}}function N(t,e,i,n,r){var a=new Gn,o=Object.getOwnPropertyDescriptor(t,e);if(!o||!1!==o.configurable){var s=o&&o.get,l=o&&o.set,u=!r&&I(i);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):i;return Gn.target&&(a.depend(),u&&(u.dep.depend(),Array.isArray(e)&&H(e))),e},set:function(e){var n=s?s.call(t):i;e===n||e!==e&&n!==n||(l?l.call(t,e):i=e,u=!r&&I(e),a.notify())}})}}function L(t,e,i){if(Array.isArray(t)&&c(e))return t.length=Math.max(t.length,e),t.splice(e,1,i),i;if(e in t&&!(e in Object.prototype))return t[e]=i,i;var n=t.__ob__;return t._isVue||n&&n.vmCount?i:n?(N(n.value,e,i),n.dep.notify(),i):(t[e]=i,i)}function z(t,e){if(Array.isArray(t)&&c(e))return void t.splice(e,1);var i=t.__ob__;t._isVue||i&&i.vmCount||g(t,e)&&(delete t[e],i&&i.dep.notify())}function H(t){for(var e=void 0,i=0,n=t.length;i<n;i++)e=t[i],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&H(e)}function q(t,e){if(!e)return t;for(var i,n,r,a=Object.keys(e),o=0;o<a.length;o++)i=a[o],n=t[i],r=e[i],g(t,i)?l(n)&&l(r)&&q(n,r):L(t,i,r);return t}function F(t,e,i){return i?function(){var n="function"==typeof e?e.call(i):e,r="function"==typeof t?t.call(i):t;return n?q(n,r):r}:e?t?function(){return q("function"==typeof e?e.call(this):e,"function"==typeof t?t.call(this):t)}:e:t}function B(t,e){return e?t?t.concat(e):Array.isArray(e)?e:[e]:t}function V(t,e,i,n){var r=Object.create(t||null);return e?y(r,e):r}function U(t,e){var i=t.props;if(i){var n,r,a,o={};if(Array.isArray(i))for(n=i.length;n--;)"string"==typeof(r=i[n])&&(a=mn(r),o[a]={type:null});else if(l(i))for(var s in i)r=i[s],a=mn(s),o[a]=l(r)?r:{type:r};t.props=o}}function W(t,e){var i=t.inject,n=t.inject={};if(Array.isArray(i))for(var r=0;r<i.length;r++)n[i[r]]={from:i[r]};else if(l(i))for(var a in i){var o=i[a];n[a]=l(o)?y({from:a},o):{from:o}}}function G(t){var e=t.directives;if(e)for(var i in e){var n=e[i];"function"==typeof n&&(e[i]={bind:n,update:n})}}function X(t,e,i){function n(n){var r=nr[n]||or;l[n]=r(t[n],e[n],i,n)}"function"==typeof e&&(e=e.options),U(e,i),W(e,i),G(e);var r=e.extends;if(r&&(t=X(t,r,i)),e.mixins)for(var a=0,o=e.mixins.length;a<o;a++)t=X(t,e.mixins[a],i);var s,l={};for(s in t)n(s);for(s in e)g(t,s)||n(s);return l}function Y(t,e,i,n){if("string"==typeof i){var r=t[e];if(g(r,i))return r[i];var a=mn(i);if(g(r,a))return r[a];var o=vn(a);if(g(r,o))return r[o];return r[i]||r[a]||r[o]}}function J(t,e,i,n){var r=e[t],a=!g(i,t),o=i[t];if(Z(Boolean,r.type)&&(a&&!g(r,"default")?o=!1:Z(String,r.type)||""!==o&&o!==yn(t)||(o=!0)),void 0===o){o=K(n,r,t);var s=er.shouldConvert;er.shouldConvert=!0,I(o),er.shouldConvert=s}return o}function K(t,e,i){if(g(e,"default")){var n=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[i]&&void 0!==t._props[i]?t._props[i]:"function"==typeof n&&"Function"!==Q(e.type)?n.call(t):n}}function Q(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Z(t,e){if(!Array.isArray(e))return Q(e)===Q(t);for(var i=0,n=e.length;i<n;i++)if(Q(e[i])===Q(t))return!0;return!1}function tt(t,e,i){if(e)for(var n=e;n=n.$parent;){var r=n.$options.errorCaptured;if(r)for(var a=0;a<r.length;a++)try{var o=!1===r[a].call(n,t,e,i);if(o)return}catch(t){et(t,n,"errorCaptured hook")}}et(t,e,i)}function et(t,e,i){if(Sn.errorHandler)try{return Sn.errorHandler.call(null,t,e,i)}catch(t){it(t,null,"config.errorHandler")}it(t,e,i)}function it(t,e,i){if(!Mn&&!En||"undefined"==typeof console)throw t;console.error(t)}function nt(){lr=!1;var t=sr.slice(0);sr.length=0;for(var e=0;e<t.length;e++)t[e]()}function rt(t){return t._withTask||(t._withTask=function(){ur=!0;var e=t.apply(null,arguments);return ur=!1,e})}function at(t,e){var i;if(sr.push(function(){if(t)try{t.call(e)}catch(t){tt(t,e,"nextTick")}else i&&i(e)}),lr||(lr=!0,ur?ar():rr()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){i=t})}function ot(t){st(t,pr),pr.clear()}function st(t,e){var i,n,r=Array.isArray(t);if((r||s(t))&&!Object.isFrozen(t)){if(t.__ob__){var a=t.__ob__.dep.id;if(e.has(a))return;e.add(a)}if(r)for(i=t.length;i--;)st(t[i],e);else for(n=Object.keys(t),i=n.length;i--;)st(t[n[i]],e)}}function lt(t){function e(){var t=arguments,i=e.fns;if(!Array.isArray(i))return i.apply(null,arguments);for(var n=i.slice(),r=0;r<n.length;r++)n[r].apply(null,t)}return e.fns=t,e}function ut(t,e,n,r,a){var o,s,l,u;for(o in t)s=t[o],l=e[o],u=gr(o),i(s)||(i(l)?(i(s.fns)&&(s=t[o]=lt(s)),n(u.name,s,u.once,u.capture,u.passive)):s!==l&&(l.fns=s,t[o]=l));for(o in e)i(t[o])&&(u=gr(o),r(u.name,e[o],u.capture))}function ct(t,e,a){function o(){a.apply(this,arguments),p(s.fns,o)}t instanceof Yn&&(t=t.data.hook||(t.data.hook={}));var s,l=t[e];i(l)?s=lt([o]):n(l.fns)&&r(l.merged)?(s=l,s.fns.push(o)):s=lt([l,o]),s.merged=!0,t[e]=s}function ht(t,e,r){var a=e.options.props;if(!i(a)){var o={},s=t.attrs,l=t.props;if(n(s)||n(l))for(var u in a){var c=yn(u);dt(o,l,u,c,!0)||dt(o,s,u,c,!1)}return o}}function dt(t,e,i,r,a){if(n(e)){if(g(e,i))return t[i]=e[i],a||delete e[i],!0;if(g(e,r))return t[i]=e[r],a||delete e[r],!0}return!1}function ft(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function pt(t){return o(t)?[D(t)]:Array.isArray(t)?mt(t):void 0}function gt(t){return n(t)&&n(t.text)&&a(t.isComment)}function mt(t,e){var a,s,l,u,c=[];for(a=0;a<t.length;a++)s=t[a],i(s)||"boolean"==typeof s||(l=c.length-1,u=c[l],Array.isArray(s)?s.length>0&&(s=mt(s,(e||"")+"_"+a),gt(s[0])&&gt(u)&&(c[l]=D(u.text+s[0].text),s.shift()),c.push.apply(c,s)):o(s)?gt(u)?c[l]=D(u.text+s):""!==s&&c.push(D(s)):gt(s)&&gt(u)?c[l]=D(u.text+s.text):(r(t._isVList)&&n(s.tag)&&i(s.key)&&n(e)&&(s.key="__vlist"+e+"_"+a+"__"),c.push(s)));return c}function vt(t,e){return(t.__esModule||Vn&&"Module"===t[Symbol.toStringTag])&&(t=t.default),s(t)?e.extend(t):t}function _t(t,e,i,n,r){var a=Kn();return a.asyncFactory=t,a.asyncMeta={data:e,context:i,children:n,tag:r},a}function yt(t,e,a){if(r(t.error)&&n(t.errorComp))return t.errorComp;if(n(t.resolved))return t.resolved;if(r(t.loading)&&n(t.loadingComp))return t.loadingComp;if(!n(t.contexts)){var o=t.contexts=[a],l=!0,u=function(){for(var t=0,e=o.length;t<e;t++)o[t].$forceUpdate()},c=k(function(i){t.resolved=vt(i,e),l||u()}),h=k(function(e){n(t.errorComp)&&(t.error=!0,u())}),d=t(c,h);return s(d)&&("function"==typeof d.then?i(t.resolved)&&d.then(c,h):n(d.component)&&"function"==typeof d.component.then&&(d.component.then(c,h),n(d.error)&&(t.errorComp=vt(d.error,e)),n(d.loading)&&(t.loadingComp=vt(d.loading,e),0===d.delay?t.loading=!0:setTimeout(function(){i(t.resolved)&&i(t.error)&&(t.loading=!0,u())},d.delay||200)),n(d.timeout)&&setTimeout(function(){i(t.resolved)&&h(null)},d.timeout))),l=!1,t.loading?t.loadingComp:t.resolved}t.contexts.push(a)}function bt(t){return t.isComment&&t.asyncFactory}function wt(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var i=t[e];if(n(i)&&(n(i.componentOptions)||bt(i)))return i}}function xt(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&St(t,e)}function Ct(t,e,i){i?fr.$once(t,e):fr.$on(t,e)}function kt(t,e){fr.$off(t,e)}function St(t,e,i){fr=t,ut(e,i||{},Ct,kt,t),fr=void 0}function Tt(t,e){var i={};if(!t)return i;for(var n=0,r=t.length;n<r;n++){var a=t[n],o=a.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,a.context!==e&&a.fnContext!==e||!o||null==o.slot)(i.default||(i.default=[])).push(a);else{var s=a.data.slot,l=i[s]||(i[s]=[]);"template"===a.tag?l.push.apply(l,a.children):l.push(a)}}for(var u in i)i[u].every(At)&&delete i[u];return i}function At(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Mt(t,e){e=e||{};for(var i=0;i<t.length;i++)Array.isArray(t[i])?Mt(t[i],e):e[t[i].key]=t[i].fn;return e}function Et(t){var e=t.$options,i=e.parent;if(i&&!e.abstract){for(;i.$options.abstract&&i.$parent;)i=i.$parent;i.$children.push(t)}t.$parent=i,t.$root=i?i.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Ot(t,e,i){t.$el=e,t.$options.render||(t.$options.render=Kn),Rt(t,"beforeMount");var n;return n=function(){t._update(t._render(),i)},new kr(t,n,w,null,!0),i=!1,null==t.$vnode&&(t._isMounted=!0,Rt(t,"mounted")),t}function Dt(t,e,i,n,r){var a=!!(r||t.$options._renderChildren||n.data.scopedSlots||t.$scopedSlots!==hn);if(t.$options._parentVnode=n,t.$vnode=n,t._vnode&&(t._vnode.parent=n),t.$options._renderChildren=r,t.$attrs=n.data&&n.data.attrs||hn,t.$listeners=i||hn,e&&t.$options.props){er.shouldConvert=!1;for(var o=t._props,s=t.$options._propKeys||[],l=0;l<s.length;l++){var u=s[l];o[u]=J(u,t.$options.props,e,t)}er.shouldConvert=!0,t.$options.propsData=e}if(i){var c=t.$options._parentListeners;t.$options._parentListeners=i,St(t,i,c)}a&&(t.$slots=Tt(r,n.context),t.$forceUpdate())}function $t(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function jt(t,e){if(e){if(t._directInactive=!1,$t(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var i=0;i<t.$children.length;i++)jt(t.$children[i]);Rt(t,"activated")}}function Pt(t,e){if(!(e&&(t._directInactive=!0,$t(t))||t._inactive)){t._inactive=!0;for(var i=0;i<t.$children.length;i++)Pt(t.$children[i]);Rt(t,"deactivated")}}function Rt(t,e){var i=t.$options[e];if(i)for(var n=0,r=i.length;n<r;n++)try{i[n].call(t)}catch(i){tt(i,t,e+" hook")}t._hasHookEvent&&t.$emit("hook:"+e)}function It(){xr=vr.length=_r.length=0,yr={},br=wr=!1}function Nt(){wr=!0;var t,e;for(vr.sort(function(t,e){return t.id-e.id}),xr=0;xr<vr.length;xr++)t=vr[xr],e=t.id,yr[e]=null,t.run();var i=_r.slice(),n=vr.slice();It(),Ht(i),Lt(n),Bn&&Sn.devtools&&Bn.emit("flush")}function Lt(t){for(var e=t.length;e--;){var i=t[e],n=i.vm;n._watcher===i&&n._isMounted&&Rt(n,"updated")}}function zt(t){t._inactive=!1,_r.push(t)}function Ht(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,jt(t[e],!0)}function qt(t){var e=t.id;if(null==yr[e]){if(yr[e]=!0,wr){for(var i=vr.length-1;i>xr&&vr[i].id>t.id;)i--;vr.splice(i+1,0,t)}else vr.push(t);br||(br=!0,at(Nt))}}function Ft(t,e,i){Sr.get=function(){return this[e][i]},Sr.set=function(t){this[e][i]=t},Object.defineProperty(t,i,Sr)}function Bt(t){t._watchers=[];var e=t.$options;e.props&&Vt(t,e.props),e.methods&&Jt(t,e.methods),e.data?Ut(t):I(t._data={},!0),e.computed&&Gt(t,e.computed),e.watch&&e.watch!==Nn&&Kt(t,e.watch)}function Vt(t,e){var i=t.$options.propsData||{},n=t._props={},r=t.$options._propKeys=[],a=!t.$parent;er.shouldConvert=a;for(var o in e)!function(a){r.push(a);var o=J(a,e,i,t);N(n,a,o),a in t||Ft(t,"_props",a)}(o);er.shouldConvert=!0}function Ut(t){var e=t.$options.data;e=t._data="function"==typeof e?Wt(e,t):e||{},l(e)||(e={});for(var i=Object.keys(e),n=t.$options.props,r=(t.$options.methods,i.length);r--;){var a=i[r];n&&g(n,a)||S(a)||Ft(t,"_data",a)}I(e,!0)}function Wt(t,e){try{return t.call(e,e)}catch(t){return tt(t,e,"data()"),{}}}function Gt(t,e){var i=t._computedWatchers=Object.create(null),n=Fn();for(var r in e){var a=e[r],o="function"==typeof a?a:a.get;n||(i[r]=new kr(t,o||w,w,Tr)),r in t||Xt(t,r,a)}}function Xt(t,e,i){var n=!Fn();"function"==typeof i?(Sr.get=n?Yt(e):i,Sr.set=w):(Sr.get=i.get?n&&!1!==i.cache?Yt(e):i.get:w,Sr.set=i.set?i.set:w),Object.defineProperty(t,e,Sr)}function Yt(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),Gn.target&&e.depend(),e.value}}function Jt(t,e){t.$options.props;for(var i in e)t[i]=null==e[i]?w:v(e[i],t)}function Kt(t,e){for(var i in e){var n=e[i];if(Array.isArray(n))for(var r=0;r<n.length;r++)Qt(t,i,n[r]);else Qt(t,i,n)}}function Qt(t,e,i,n){return l(i)&&(n=i,i=i.handler),"string"==typeof i&&(i=t[i]),t.$watch(e,i,n)}function Zt(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}function te(t){var e=ee(t.$options.inject,t);e&&(er.shouldConvert=!1,Object.keys(e).forEach(function(i){N(t,i,e[i])}),er.shouldConvert=!0)}function ee(t,e){if(t){for(var i=Object.create(null),n=Vn?Reflect.ownKeys(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}):Object.keys(t),r=0;r<n.length;r++){for(var a=n[r],o=t[a].from,s=e;s;){if(s._provided&&o in s._provided){i[a]=s._provided[o];break}s=s.$parent}if(!s&&"default"in t[a]){var l=t[a].default;i[a]="function"==typeof l?l.call(e):l}}return i}}function ie(t,e){var i,r,a,o,l;if(Array.isArray(t)||"string"==typeof t)for(i=new Array(t.length),r=0,a=t.length;r<a;r++)i[r]=e(t[r],r);else if("number"==typeof t)for(i=new Array(t),r=0;r<t;r++)i[r]=e(r+1,r);else if(s(t))for(o=Object.keys(t),i=new Array(o.length),r=0,a=o.length;r<a;r++)l=o[r],i[r]=e(t[l],l,r);return n(i)&&(i._isVList=!0),i}function ne(t,e,i,n){var r,a=this.$scopedSlots[t];if(a)i=i||{},n&&(i=y(y({},n),i)),r=a(i)||e;else{var o=this.$slots[t];o&&(o._rendered=!0),r=o||e}var s=i&&i.slot;return s?this.$createElement("template",{slot:s},r):r}function re(t){return Y(this.$options,"filters",t,!0)||wn}function ae(t,e,i,n){var r=Sn.keyCodes[e]||i;return r?Array.isArray(r)?-1===r.indexOf(t):r!==t:n?yn(n)!==e:void 0}function oe(t,e,i,n,r){if(i)if(s(i)){Array.isArray(i)&&(i=b(i));var a;for(var o in i)!function(o){if("class"===o||"style"===o||fn(o))a=t;else{var s=t.attrs&&t.attrs.type;a=n||Sn.mustUseProp(e,s,o)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}if(!(o in a)&&(a[o]=i[o],r)){(t.on||(t.on={}))["update:"+o]=function(t){i[o]=t}}}(o)}else;return t}function se(t,e,i){var n=arguments.length<3,r=this.$options.staticRenderFns,a=n||i?this._staticTrees||(this._staticTrees=[]):r.cached||(r.cached=[]),o=a[t];return o&&!e?Array.isArray(o)?j(o):$(o):(o=a[t]=r[t].call(this._renderProxy,null,this),ue(o,"__static__"+t,!1),o)}function le(t,e,i){return ue(t,"__once__"+e+(i?"_"+i:""),!0),t}function ue(t,e,i){if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]&&"string"!=typeof t[n]&&ce(t[n],e+"_"+n,i);else ce(t,e,i)}function ce(t,e,i){t.isStatic=!0,t.key=e,t.isOnce=i}function he(t,e){if(e)if(l(e)){var i=t.on=t.on?y({},t.on):{};for(var n in e){var r=i[n],a=e[n];i[n]=r?[].concat(r,a):a}}else;return t}function de(t){t._o=le,t._n=d,t._s=h,t._l=ie,t._t=ne,t._q=x,t._i=C,t._m=se,t._f=re,t._k=ae,t._b=oe,t._v=D,t._e=Kn,t._u=Mt,t._g=he}function fe(t,e,i,n,a){var o=a.options;this.data=t,this.props=e,this.children=i,this.parent=n,this.listeners=t.on||hn,this.injections=ee(o.inject,n),this.slots=function(){return Tt(i,n)};var s=Object.create(n),l=r(o._compiled),u=!l;l&&(this.$options=o,this.$slots=this.slots(),this.$scopedSlots=t.scopedSlots||hn),o._scopeId?this._c=function(t,e,i,r){var a=we(s,t,e,i,r,u);return a&&(a.fnScopeId=o._scopeId,a.fnContext=n),a}:this._c=function(t,e,i,n){return we(s,t,e,i,n,u)}}function pe(t,e,i,r,a){var o=t.options,s={},l=o.props;if(n(l))for(var u in l)s[u]=J(u,l,e||hn);else n(i.attrs)&&ge(s,i.attrs),n(i.props)&&ge(s,i.props);var c=new fe(i,s,a,r,t),h=o.render.call(null,c._c,c);return h instanceof Yn&&(h.fnContext=r,h.fnOptions=o,i.slot&&((h.data||(h.data={})).slot=i.slot)),h}function ge(t,e){for(var i in e)t[mn(i)]=e[i]}function me(t,e,a,o,l){if(!i(t)){var u=a.$options._base;if(s(t)&&(t=u.extend(t)),"function"==typeof t){var c;if(i(t.cid)&&(c=t,void 0===(t=yt(c,u,a))))return _t(c,e,a,o,l);e=e||{},Te(t),n(e.model)&&be(t.options,e);var h=ht(e,t,l);if(r(t.options.functional))return pe(t,h,e,a,o);var d=e.on;if(e.on=e.nativeOn,r(t.options.abstract)){var f=e.slot;e={},f&&(e.slot=f)}_e(e);var p=t.options.name||l;return new Yn("vue-component-"+t.cid+(p?"-"+p:""),e,void 0,void 0,void 0,a,{Ctor:t,propsData:h,listeners:d,tag:l,children:o},c)}}}function ve(t,e,i,r){var a=t.componentOptions,o={_isComponent:!0,parent:e,propsData:a.propsData,_componentTag:a.tag,_parentVnode:t,_parentListeners:a.listeners,_renderChildren:a.children,_parentElm:i||null,_refElm:r||null},s=t.data.inlineTemplate;return n(s)&&(o.render=s.render,o.staticRenderFns=s.staticRenderFns),new a.Ctor(o)}function _e(t){t.hook||(t.hook={});for(var e=0;e<Mr.length;e++){var i=Mr[e],n=t.hook[i],r=Ar[i];t.hook[i]=n?ye(r,n):r}}function ye(t,e){return function(i,n,r,a){t(i,n,r,a),e(i,n,r,a)}}function be(t,e){var i=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.props||(e.props={}))[i]=e.model.value;var a=e.on||(e.on={});n(a[r])?a[r]=[e.model.callback].concat(a[r]):a[r]=e.model.callback}function we(t,e,i,n,a,s){return(Array.isArray(i)||o(i))&&(a=n,n=i,i=void 0),r(s)&&(a=Or),xe(t,e,i,n,a)}function xe(t,e,i,r,a){if(n(i)&&n(i.__ob__))return Kn();if(n(i)&&n(i.is)&&(e=i.is),!e)return Kn();Array.isArray(r)&&"function"==typeof r[0]&&(i=i||{},i.scopedSlots={default:r[0]},r.length=0),a===Or?r=pt(r):a===Er&&(r=ft(r));var o,s;if("string"==typeof e){var l;s=t.$vnode&&t.$vnode.ns||Sn.getTagNamespace(e),o=Sn.isReservedTag(e)?new Yn(Sn.parsePlatformTagName(e),i,r,void 0,void 0,t):n(l=Y(t.$options,"components",e))?me(l,i,t,r,e):new Yn(e,i,r,void 0,void 0,t)}else o=me(e,i,t,r);return n(o)?(s&&Ce(o,s),o):Kn()}function Ce(t,e,a){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,a=!0),n(t.children))for(var o=0,s=t.children.length;o<s;o++){var l=t.children[o];n(l.tag)&&(i(l.ns)||r(a))&&Ce(l,e,a)}}function ke(t){t._vnode=null,t._staticTrees=null;var e=t.$options,i=t.$vnode=e._parentVnode,n=i&&i.context;t.$slots=Tt(e._renderChildren,n),t.$scopedSlots=hn,t._c=function(e,i,n,r){return we(t,e,i,n,r,!1)},t.$createElement=function(e,i,n,r){return we(t,e,i,n,r,!0)};var r=i&&i.data;N(t,"$attrs",r&&r.attrs||hn,null,!0),N(t,"$listeners",e._parentListeners||hn,null,!0)}function Se(t,e){var i=t.$options=Object.create(t.constructor.options);i.parent=e.parent,i.propsData=e.propsData,i._parentVnode=e._parentVnode,i._parentListeners=e._parentListeners,i._renderChildren=e._renderChildren,i._componentTag=e._componentTag,i._parentElm=e._parentElm,i._refElm=e._refElm,e.render&&(i.render=e.render,i.staticRenderFns=e.staticRenderFns)}function Te(t){var e=t.options;if(t.super){var i=Te(t.super);if(i!==t.superOptions){t.superOptions=i;var n=Ae(t);n&&y(t.extendOptions,n),e=t.options=X(i,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function Ae(t){var e,i=t.options,n=t.extendOptions,r=t.sealedOptions;for(var a in i)i[a]!==r[a]&&(e||(e={}),e[a]=Me(i[a],n[a],r[a]));return e}function Me(t,e,i){if(Array.isArray(t)){var n=[];i=Array.isArray(i)?i:[i],e=Array.isArray(e)?e:[e];for(var r=0;r<t.length;r++)(e.indexOf(t[r])>=0||i.indexOf(t[r])<0)&&n.push(t[r]);return n}return t}function Ee(t){this._init(t)}function Oe(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var i=_(arguments,1);return i.unshift(this),"function"==typeof t.install?t.install.apply(t,i):"function"==typeof t&&t.apply(null,i),e.push(t),this}}function De(t){t.mixin=function(t){return this.options=X(this.options,t),this}}function $e(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var i=this,n=i.cid,r=t._Ctor||(t._Ctor={});if(r[n])return r[n];var a=t.name||i.options.name,o=function(t){this._init(t)};return o.prototype=Object.create(i.prototype),o.prototype.constructor=o,o.cid=e++,o.options=X(i.options,t),o.super=i,o.options.props&&je(o),o.options.computed&&Pe(o),o.extend=i.extend,o.mixin=i.mixin,o.use=i.use,Cn.forEach(function(t){o[t]=i[t]}),a&&(o.options.components[a]=o),o.superOptions=i.options,o.extendOptions=t,o.sealedOptions=y({},o.options),r[n]=o,o}}function je(t){var e=t.options.props;for(var i in e)Ft(t.prototype,"_props",i)}function Pe(t){var e=t.options.computed;for(var i in e)Xt(t.prototype,i,e[i])}function Re(t){Cn.forEach(function(e){t[e]=function(t,i){return i?("component"===e&&l(i)&&(i.name=i.name||t,i=this.options._base.extend(i)),"directive"===e&&"function"==typeof i&&(i={bind:i,update:i}),this.options[e+"s"][t]=i,i):this.options[e+"s"][t]}})}function Ie(t){return t&&(t.Ctor.options.name||t.tag)}function Ne(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!u(t)&&t.test(e)}function Le(t,e){var i=t.cache,n=t.keys,r=t._vnode;for(var a in i){var o=i[a];if(o){var s=Ie(o.componentOptions);s&&!e(s)&&ze(i,a,n,r)}}}function ze(t,e,i,n){var r=t[e];!r||n&&r.tag===n.tag||r.componentInstance.$destroy(),t[e]=null,p(i,e)}function He(t){for(var e=t.data,i=t,r=t;n(r.componentInstance);)r=r.componentInstance._vnode,r.data&&(e=qe(r.data,e));for(;n(i=i.parent);)i.data&&(e=qe(e,i.data));return Fe(e.staticClass,e.class)}function qe(t,e){return{staticClass:Be(t.staticClass,e.staticClass),class:n(t.class)?[t.class,e.class]:e.class}}function Fe(t,e){return n(t)||n(e)?Be(t,Ve(e)):""}function Be(t,e){return t?e?t+" "+e:t:e||""}function Ve(t){return Array.isArray(t)?Ue(t):s(t)?We(t):"string"==typeof t?t:""}function Ue(t){for(var e,i="",r=0,a=t.length;r<a;r++)n(e=Ve(t[r]))&&""!==e&&(i&&(i+=" "),i+=e);return i}function We(t){var e="";for(var i in t)t[i]&&(e&&(e+=" "),e+=i);return e}function Ge(t){return Xr(t)?"svg":"math"===t?"math":void 0}function Xe(t){if(!Mn)return!0;if(Yr(t))return!1;if(t=t.toLowerCase(),null!=Jr[t])return Jr[t];var e=document.createElement(t);return t.indexOf("-")>-1?Jr[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Jr[t]=/HTMLUnknownElement/.test(e.toString())}function Ye(t){if("string"==typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function Je(t,e){var i=document.createElement(t);return"select"!==t?i:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&i.setAttribute("multiple","multiple"),i)}function Ke(t,e){return document.createElementNS(Wr[t],e)}function Qe(t){return document.createTextNode(t)}function Ze(t){return document.createComment(t)}function ti(t,e,i){t.insertBefore(e,i)}function ei(t,e){t.removeChild(e)}function ii(t,e){t.appendChild(e)}function ni(t){return t.parentNode}function ri(t){return t.nextSibling}function ai(t){return t.tagName}function oi(t,e){t.textContent=e}function si(t,e,i){t.setAttribute(e,i)}function li(t,e){var i=t.data.ref;if(i){var n=t.context,r=t.componentInstance||t.elm,a=n.$refs;e?Array.isArray(a[i])?p(a[i],r):a[i]===r&&(a[i]=void 0):t.data.refInFor?Array.isArray(a[i])?a[i].indexOf(r)<0&&a[i].push(r):a[i]=[r]:a[i]=r}}function ui(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&n(t.data)===n(e.data)&&ci(t,e)||r(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&i(e.asyncFactory.error))}function ci(t,e){if("input"!==t.tag)return!0;var i,r=n(i=t.data)&&n(i=i.attrs)&&i.type,a=n(i=e.data)&&n(i=i.attrs)&&i.type;return r===a||Kr(r)&&Kr(a)}function hi(t,e,i){var r,a,o={};for(r=e;r<=i;++r)a=t[r].key,n(a)&&(o[a]=r);return o}function di(t,e){(t.data.directives||e.data.directives)&&fi(t,e)}function fi(t,e){var i,n,r,a=t===ta,o=e===ta,s=pi(t.data.directives,t.context),l=pi(e.data.directives,e.context),u=[],c=[];for(i in l)n=s[i],r=l[i],n?(r.oldValue=n.value,mi(r,"update",e,t),r.def&&r.def.componentUpdated&&c.push(r)):(mi(r,"bind",e,t),r.def&&r.def.inserted&&u.push(r));if(u.length){var h=function(){for(var i=0;i<u.length;i++)mi(u[i],"inserted",e,t)};a?ct(e,"insert",h):h()}if(c.length&&ct(e,"postpatch",function(){for(var i=0;i<c.length;i++)mi(c[i],"componentUpdated",e,t)}),!a)for(i in s)l[i]||mi(s[i],"unbind",t,t,o)}function pi(t,e){var i=Object.create(null);if(!t)return i;var n,r;for(n=0;n<t.length;n++)r=t[n],r.modifiers||(r.modifiers=na),i[gi(r)]=r,r.def=Y(e.$options,"directives",r.name,!0);return i}function gi(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function mi(t,e,i,n,r){var a=t.def&&t.def[e];if(a)try{a(i.elm,t,i,n,r)}catch(n){tt(n,i.context,"directive "+t.name+" "+e+" hook")}}function vi(t,e){var r=e.componentOptions;if(!(n(r)&&!1===r.Ctor.options.inheritAttrs||i(t.data.attrs)&&i(e.data.attrs))){var a,o,s=e.elm,l=t.data.attrs||{},u=e.data.attrs||{};n(u.__ob__)&&(u=e.data.attrs=y({},u));for(a in u)o=u[a],l[a]!==o&&_i(s,a,o);($n||Pn)&&u.value!==l.value&&_i(s,"value",u.value);for(a in l)i(u[a])&&(Br(a)?s.removeAttributeNS(Fr,Vr(a)):Hr(a)||s.removeAttribute(a))}}function _i(t,e,i){if(qr(e))Ur(i)?t.removeAttribute(e):(i="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,i));else if(Hr(e))t.setAttribute(e,Ur(i)||"false"===i?"false":"true");else if(Br(e))Ur(i)?t.removeAttributeNS(Fr,Vr(e)):t.setAttributeNS(Fr,e,i);else if(Ur(i))t.removeAttribute(e);else{if($n&&!jn&&"TEXTAREA"===t.tagName&&"placeholder"===e&&!t.__ieph){var n=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",n)};t.addEventListener("input",n),t.__ieph=!0}t.setAttribute(e,i)}}function yi(t,e){var r=e.elm,a=e.data,o=t.data;if(!(i(a.staticClass)&&i(a.class)&&(i(o)||i(o.staticClass)&&i(o.class)))){var s=He(e),l=r._transitionClasses;n(l)&&(s=Be(s,Ve(l))),s!==r._prevClass&&(r.setAttribute("class",s),r._prevClass=s)}}function bi(t){if(n(t[sa])){var e=$n?"change":"input";t[e]=[].concat(t[sa],t[e]||[]),delete t[sa]}n(t[la])&&(t.change=[].concat(t[la],t.change||[]),delete t[la])}function wi(t,e,i){var n=Rr;return function r(){null!==t.apply(null,arguments)&&Ci(e,r,i,n)}}function xi(t,e,i,n,r){e=rt(e),i&&(e=wi(e,t,n)),Rr.addEventListener(t,e,Ln?{capture:n,passive:r}:n)}function Ci(t,e,i,n){(n||Rr).removeEventListener(t,e._withTask||e,i)}function ki(t,e){if(!i(t.data.on)||!i(e.data.on)){var n=e.data.on||{},r=t.data.on||{};Rr=e.elm,bi(n),ut(n,r,xi,Ci,e.context),Rr=void 0}}function Si(t,e){if(!i(t.data.domProps)||!i(e.data.domProps)){var r,a,o=e.elm,s=t.data.domProps||{},l=e.data.domProps||{};n(l.__ob__)&&(l=e.data.domProps=y({},l));for(r in s)i(l[r])&&(o[r]="");for(r in l){if(a=l[r],"textContent"===r||"innerHTML"===r){if(e.children&&(e.children.length=0),a===s[r])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===r){o._value=a;var u=i(a)?"":String(a);Ti(o,u)&&(o.value=u)}else o[r]=a}}}function Ti(t,e){return!t.composing&&("OPTION"===t.tagName||Ai(t,e)||Mi(t,e))}function Ai(t,e){var i=!0;try{i=document.activeElement!==t}catch(t){}return i&&t.value!==e}function Mi(t,e){var i=t.value,r=t._vModifiers;return n(r)&&r.number?d(i)!==d(e):n(r)&&r.trim?i.trim()!==e.trim():i!==e}function Ei(t){var e=Oi(t.style);return t.staticStyle?y(t.staticStyle,e):e}function Oi(t){return Array.isArray(t)?b(t):"string"==typeof t?ha(t):t}function Di(t,e){var i,n={};if(e)for(var r=t;r.componentInstance;)r=r.componentInstance._vnode,r.data&&(i=Ei(r.data))&&y(n,i);(i=Ei(t.data))&&y(n,i);for(var a=t;a=a.parent;)a.data&&(i=Ei(a.data))&&y(n,i);return n}function $i(t,e){var r=e.data,a=t.data;if(!(i(r.staticStyle)&&i(r.style)&&i(a.staticStyle)&&i(a.style))){var o,s,l=e.elm,u=a.staticStyle,c=a.normalizedStyle||a.style||{},h=u||c,d=Oi(e.data.style)||{};e.data.normalizedStyle=n(d.__ob__)?y({},d):d;var f=Di(e,!0);for(s in h)i(f[s])&&pa(l,s,"");for(s in f)(o=f[s])!==h[s]&&pa(l,s,null==o?"":o)}}function ji(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var i=" "+(t.getAttribute("class")||"")+" ";i.indexOf(" "+e+" ")<0&&t.setAttribute("class",(i+e).trim())}}function Pi(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var i=" "+(t.getAttribute("class")||"")+" ",n=" "+e+" ";i.indexOf(n)>=0;)i=i.replace(n," ");i=i.trim(),i?t.setAttribute("class",i):t.removeAttribute("class")}}function Ri(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&y(e,_a(t.name||"v")),y(e,t),e}return"string"==typeof t?_a(t):void 0}}function Ii(t){Ta(function(){Ta(t)})}function Ni(t,e){var i=t._transitionClasses||(t._transitionClasses=[]);i.indexOf(e)<0&&(i.push(e),ji(t,e))}function Li(t,e){t._transitionClasses&&p(t._transitionClasses,e),Pi(t,e)}function zi(t,e,i){var n=Hi(t,e),r=n.type,a=n.timeout,o=n.propCount;if(!r)return i();var s=r===ba?Ca:Sa,l=0,u=function(){t.removeEventListener(s,c),i()},c=function(e){e.target===t&&++l>=o&&u()};setTimeout(function(){l<o&&u()},a+1),t.addEventListener(s,c)}function Hi(t,e){var i,n=window.getComputedStyle(t),r=n[xa+"Delay"].split(", "),a=n[xa+"Duration"].split(", "),o=qi(r,a),s=n[ka+"Delay"].split(", "),l=n[ka+"Duration"].split(", "),u=qi(s,l),c=0,h=0;return e===ba?o>0&&(i=ba,c=o,h=a.length):e===wa?u>0&&(i=wa,c=u,h=l.length):(c=Math.max(o,u),i=c>0?o>u?ba:wa:null,h=i?i===ba?a.length:l.length:0),{type:i,timeout:c,propCount:h,hasTransform:i===ba&&Aa.test(n[xa+"Property"])}}function qi(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,i){return Fi(e)+Fi(t[i])}))}function Fi(t){return 1e3*Number(t.slice(0,-1))}function Bi(t,e){var r=t.elm;n(r._leaveCb)&&(r._leaveCb.cancelled=!0,r._leaveCb());var a=Ri(t.data.transition);if(!i(a)&&!n(r._enterCb)&&1===r.nodeType){for(var o=a.css,l=a.type,u=a.enterClass,c=a.enterToClass,h=a.enterActiveClass,f=a.appearClass,p=a.appearToClass,g=a.appearActiveClass,m=a.beforeEnter,v=a.enter,_=a.afterEnter,y=a.enterCancelled,b=a.beforeAppear,w=a.appear,x=a.afterAppear,C=a.appearCancelled,S=a.duration,T=mr,A=mr.$vnode;A&&A.parent;)A=A.parent,T=A.context;var M=!T._isMounted||!t.isRootInsert;if(!M||w||""===w){var E=M&&f?f:u,O=M&&g?g:h,D=M&&p?p:c,$=M?b||m:m,j=M&&"function"==typeof w?w:v,P=M?x||_:_,R=M?C||y:y,I=d(s(S)?S.enter:S),N=!1!==o&&!jn,L=Wi(j),z=r._enterCb=k(function(){N&&(Li(r,D),Li(r,O)),z.cancelled?(N&&Li(r,E),R&&R(r)):P&&P(r),r._enterCb=null});t.data.show||ct(t,"insert",function(){var e=r.parentNode,i=e&&e._pending&&e._pending[t.key];i&&i.tag===t.tag&&i.elm._leaveCb&&i.elm._leaveCb(),j&&j(r,z)}),$&&$(r),N&&(Ni(r,E),Ni(r,O),Ii(function(){Ni(r,D),Li(r,E),z.cancelled||L||(Ui(I)?setTimeout(z,I):zi(r,l,z))})),t.data.show&&(e&&e(),j&&j(r,z)),N||L||z()}}}function Vi(t,e){function r(){C.cancelled||(t.data.show||((a.parentNode._pending||(a.parentNode._pending={}))[t.key]=t),p&&p(a),b&&(Ni(a,c),Ni(a,f),Ii(function(){Ni(a,h),Li(a,c),C.cancelled||w||(Ui(x)?setTimeout(C,x):zi(a,u,C))})),g&&g(a,C),b||w||C())}var a=t.elm;n(a._enterCb)&&(a._enterCb.cancelled=!0,a._enterCb());var o=Ri(t.data.transition);if(i(o)||1!==a.nodeType)return e();if(!n(a._leaveCb)){var l=o.css,u=o.type,c=o.leaveClass,h=o.leaveToClass,f=o.leaveActiveClass,p=o.beforeLeave,g=o.leave,m=o.afterLeave,v=o.leaveCancelled,_=o.delayLeave,y=o.duration,b=!1!==l&&!jn,w=Wi(g),x=d(s(y)?y.leave:y),C=a._leaveCb=k(function(){a.parentNode&&a.parentNode._pending&&(a.parentNode._pending[t.key]=null),b&&(Li(a,h),Li(a,f)),C.cancelled?(b&&Li(a,c),v&&v(a)):(e(),m&&m(a)),a._leaveCb=null});_?_(r):r()}}function Ui(t){return"number"==typeof t&&!isNaN(t)}function Wi(t){if(i(t))return!1;var e=t.fns;return n(e)?Wi(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Gi(t,e){!0!==e.data.show&&Bi(e)}function Xi(t,e,i){Yi(t,e,i),($n||Pn)&&setTimeout(function(){Yi(t,e,i)},0)}function Yi(t,e,i){var n=e.value,r=t.multiple;if(!r||Array.isArray(n)){for(var a,o,s=0,l=t.options.length;s<l;s++)if(o=t.options[s],r)a=C(n,Ki(o))>-1,o.selected!==a&&(o.selected=a);else if(x(Ki(o),n))return void(t.selectedIndex!==s&&(t.selectedIndex=s));r||(t.selectedIndex=-1)}}function Ji(t,e){return e.every(function(e){return!x(e,t)})}function Ki(t){return"_value"in t?t._value:t.value}function Qi(t){t.target.composing=!0}function Zi(t){t.target.composing&&(t.target.composing=!1,tn(t.target,"input"))}function tn(t,e){var i=document.createEvent("HTMLEvents");i.initEvent(e,!0,!0),t.dispatchEvent(i)}function en(t){return!t.componentInstance||t.data&&t.data.transition?t:en(t.componentInstance._vnode)}function nn(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?nn(wt(e.children)):t}function rn(t){var e={},i=t.$options;for(var n in i.propsData)e[n]=t[n];var r=i._parentListeners;for(var a in r)e[mn(a)]=r[a];return e}function an(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function on(t){for(;t=t.parent;)if(t.data.transition)return!0}function sn(t,e){return e.key===t.key&&e.tag===t.tag}function ln(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function un(t){t.data.newPos=t.elm.getBoundingClientRect()}function cn(t){var e=t.data.pos,i=t.data.newPos,n=e.left-i.left,r=e.top-i.top;if(n||r){t.data.moved=!0;var a=t.elm.style;a.transform=a.WebkitTransform="translate("+n+"px,"+r+"px)",a.transitionDuration="0s"}}/*!
 * Vue.js v2.5.9
 * (c) 2014-2017 Evan You
 * Released under the MIT License.
 */
var hn=Object.freeze({}),dn=Object.prototype.toString,fn=(f("slot,component",!0),f("key,ref,slot,slot-scope,is")),pn=Object.prototype.hasOwnProperty,gn=/-(\w)/g,mn=m(function(t){return t.replace(gn,function(t,e){return e?e.toUpperCase():""})}),vn=m(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),_n=/\B([A-Z])/g,yn=m(function(t){return t.replace(_n,"-$1").toLowerCase()}),bn=function(t,e,i){return!1},wn=function(t){return t},xn="data-server-rendered",Cn=["component","directive","filter"],kn=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured"],Sn={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:bn,isReservedAttr:bn,isUnknownElement:bn,getTagNamespace:w,parsePlatformTagName:wn,mustUseProp:bn,_lifecycleHooks:kn},Tn=/[^\w.$]/,An="__proto__"in{},Mn="undefined"!=typeof window,En="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,On=En&&WXEnvironment.platform.toLowerCase(),Dn=Mn&&window.navigator.userAgent.toLowerCase(),$n=Dn&&/msie|trident/.test(Dn),jn=Dn&&Dn.indexOf("msie 9.0")>0,Pn=Dn&&Dn.indexOf("edge/")>0,Rn=Dn&&Dn.indexOf("android")>0||"android"===On,In=Dn&&/iphone|ipad|ipod|ios/.test(Dn)||"ios"===On,Nn=(Dn&&/chrome\/\d+/.test(Dn),{}.watch),Ln=!1;if(Mn)try{var zn={};Object.defineProperty(zn,"passive",{get:function(){Ln=!0}}),window.addEventListener("test-passive",null,zn)}catch(t){}var Hn,qn,Fn=function(){return void 0===Hn&&(Hn=!Mn&&void 0!==t&&"server"===t.process.env.VUE_ENV),Hn},Bn=Mn&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,Vn="undefined"!=typeof Symbol&&M(Symbol)&&"undefined"!=typeof Reflect&&M(Reflect.ownKeys);qn="undefined"!=typeof Set&&M(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var Un=w,Wn=0,Gn=function(){this.id=Wn++,this.subs=[]};Gn.prototype.addSub=function(t){this.subs.push(t)},Gn.prototype.removeSub=function(t){p(this.subs,t)},Gn.prototype.depend=function(){Gn.target&&Gn.target.addDep(this)},Gn.prototype.notify=function(){for(var t=this.subs.slice(),e=0,i=t.length;e<i;e++)t[e].update()},Gn.target=null;var Xn=[],Yn=function(t,e,i,n,r,a,o,s){this.tag=t,this.data=e,this.children=i,this.text=n,this.elm=r,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},Jn={child:{configurable:!0}};Jn.child.get=function(){return this.componentInstance},Object.defineProperties(Yn.prototype,Jn);var Kn=function(t){void 0===t&&(t="");var e=new Yn;return e.text=t,e.isComment=!0,e},Qn=Array.prototype,Zn=Object.create(Qn);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=Qn[t];T(Zn,t,function(){for(var i=[],n=arguments.length;n--;)i[n]=arguments[n];var r,a=e.apply(this,i),o=this.__ob__;switch(t){case"push":case"unshift":r=i;break;case"splice":r=i.slice(2)}return r&&o.observeArray(r),o.dep.notify(),a})});var tr=Object.getOwnPropertyNames(Zn),er={shouldConvert:!0},ir=function(t){if(this.value=t,this.dep=new Gn,this.vmCount=0,T(t,"__ob__",this),Array.isArray(t)){(An?P:R)(t,Zn,tr),this.observeArray(t)}else this.walk(t)};ir.prototype.walk=function(t){for(var e=Object.keys(t),i=0;i<e.length;i++)N(t,e[i],t[e[i]])},ir.prototype.observeArray=function(t){for(var e=0,i=t.length;e<i;e++)I(t[e])};var nr=Sn.optionMergeStrategies;nr.data=function(t,e,i){return i?F(t,e,i):e&&"function"!=typeof e?t:F(t,e)},kn.forEach(function(t){nr[t]=B}),Cn.forEach(function(t){nr[t+"s"]=V}),nr.watch=function(t,e,i,n){if(t===Nn&&(t=void 0),e===Nn&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var r={};y(r,t);for(var a in e){var o=r[a],s=e[a];o&&!Array.isArray(o)&&(o=[o]),r[a]=o?o.concat(s):Array.isArray(s)?s:[s]}return r},nr.props=nr.methods=nr.inject=nr.computed=function(t,e,i,n){if(!t)return e;var r=Object.create(null);return y(r,t),e&&y(r,e),r},nr.provide=F;var rr,ar,or=function(t,e){return void 0===e?t:e},sr=[],lr=!1,ur=!1;if("undefined"!=typeof setImmediate&&M(setImmediate))ar=function(){setImmediate(nt)};else if("undefined"==typeof MessageChannel||!M(MessageChannel)&&"[object MessageChannelConstructor]"!==MessageChannel.toString())ar=function(){setTimeout(nt,0)};else{var cr=new MessageChannel,hr=cr.port2;cr.port1.onmessage=nt,ar=function(){hr.postMessage(1)}}if("undefined"!=typeof Promise&&M(Promise)){var dr=Promise.resolve();rr=function(){dr.then(nt),In&&setTimeout(w)}}else rr=ar;var fr,pr=new qn,gr=m(function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var i="~"===t.charAt(0);t=i?t.slice(1):t;var n="!"===t.charAt(0);return t=n?t.slice(1):t,{name:t,once:i,capture:n,passive:e}}),mr=null,vr=[],_r=[],yr={},br=!1,wr=!1,xr=0,Cr=0,kr=function(t,e,i,n,r){this.vm=t,r&&(t._watcher=this),t._watchers.push(this),n?(this.deep=!!n.deep,this.user=!!n.user,this.lazy=!!n.lazy,this.sync=!!n.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=i,this.id=++Cr,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new qn,this.newDepIds=new qn,this.expression="","function"==typeof e?this.getter=e:(this.getter=A(e),this.getter||(this.getter=function(){})),this.value=this.lazy?void 0:this.get()};kr.prototype.get=function(){E(this);var t,e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;tt(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ot(t),O(),this.cleanupDeps()}return t},kr.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},kr.prototype.cleanupDeps=function(){for(var t=this,e=this.deps.length;e--;){var i=t.deps[e];t.newDepIds.has(i.id)||i.removeSub(t)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},kr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():qt(this)},kr.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||s(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){tt(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},kr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},kr.prototype.depend=function(){for(var t=this,e=this.deps.length;e--;)t.deps[e].depend()},kr.prototype.teardown=function(){var t=this;if(this.active){this.vm._isBeingDestroyed||p(this.vm._watchers,this);for(var e=this.deps.length;e--;)t.deps[e].removeSub(t);this.active=!1}};var Sr={enumerable:!0,configurable:!0,get:w,set:w},Tr={lazy:!0};de(fe.prototype);var Ar={init:function(t,e,i,n){if(!t.componentInstance||t.componentInstance._isDestroyed){(t.componentInstance=ve(t,mr,i,n)).$mount(e?t.elm:void 0,e)}else if(t.data.keepAlive){var r=t;Ar.prepatch(r,r)}},prepatch:function(t,e){var i=e.componentOptions;Dt(e.componentInstance=t.componentInstance,i.propsData,i.listeners,e,i.children)},insert:function(t){var e=t.context,i=t.componentInstance;i._isMounted||(i._isMounted=!0,Rt(i,"mounted")),t.data.keepAlive&&(e._isMounted?zt(i):jt(i,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Pt(e,!0):e.$destroy())}},Mr=Object.keys(Ar),Er=1,Or=2,Dr=0;!function(t){t.prototype._init=function(t){var e=this;e._uid=Dr++,e._isVue=!0,t&&t._isComponent?Se(e,t):e.$options=X(Te(e.constructor),t||{},e),e._renderProxy=e,e._self=e,Et(e),xt(e),ke(e),Rt(e,"beforeCreate"),te(e),Bt(e),Zt(e),Rt(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(Ee),function(t){var e={};e.get=function(){return this._data};var i={};i.get=function(){return this._props},Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",i),t.prototype.$set=L,t.prototype.$delete=z,t.prototype.$watch=function(t,e,i){var n=this;if(l(e))return Qt(n,t,e,i);i=i||{},i.user=!0;var r=new kr(n,t,e,i);return i.immediate&&e.call(n,r.value),function(){r.teardown()}}}(Ee),function(t){var e=/^hook:/;t.prototype.$on=function(t,i){var n=this,r=this;if(Array.isArray(t))for(var a=0,o=t.length;a<o;a++)n.$on(t[a],i);else(r._events[t]||(r._events[t]=[])).push(i),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){function i(){n.$off(t,i),e.apply(n,arguments)}var n=this;return i.fn=e,n.$on(t,i),n},t.prototype.$off=function(t,e){var i=this,n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var r=0,a=t.length;r<a;r++)i.$off(t[r],e);return n}var o=n._events[t];if(!o)return n;if(!e)return n._events[t]=null,n;if(e)for(var s,l=o.length;l--;)if((s=o[l])===e||s.fn===e){o.splice(l,1);break}return n},t.prototype.$emit=function(t){var e=this,i=e._events[t];if(i){i=i.length>1?_(i):i;for(var n=_(arguments,1),r=0,a=i.length;r<a;r++)try{i[r].apply(e,n)}catch(i){tt(i,e,'event handler for "'+t+'"')}}return e}}(Ee),function(t){t.prototype._update=function(t,e){var i=this;i._isMounted&&Rt(i,"beforeUpdate");var n=i.$el,r=i._vnode,a=mr;mr=i,i._vnode=t,r?i.$el=i.__patch__(r,t):(i.$el=i.__patch__(i.$el,t,e,!1,i.$options._parentElm,i.$options._refElm),i.$options._parentElm=i.$options._refElm=null),mr=a,n&&(n.__vue__=null),i.$el&&(i.$el.__vue__=i),i.$vnode&&i.$parent&&i.$vnode===i.$parent._vnode&&(i.$parent.$el=i.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Rt(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||p(e.$children,t),t._watcher&&t._watcher.teardown();for(var i=t._watchers.length;i--;)t._watchers[i].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Rt(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(Ee),function(t){de(t.prototype),t.prototype.$nextTick=function(t){return at(t,this)},t.prototype._render=function(){var t=this,e=t.$options,i=e.render,n=e._parentVnode;if(t._isMounted)for(var r in t.$slots){var a=t.$slots[r];(a._rendered||a[0]&&a[0].elm)&&(t.$slots[r]=j(a,!0))}t.$scopedSlots=n&&n.data.scopedSlots||hn,t.$vnode=n;var o;try{o=i.call(t._renderProxy,t.$createElement)}catch(e){tt(e,t,"render"),o=t._vnode}return o instanceof Yn||(o=Kn()),o.parent=n,o}}(Ee);var $r=[String,RegExp,Array],jr={name:"keep-alive",abstract:!0,props:{include:$r,exclude:$r,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){var t=this;for(var e in t.cache)ze(t.cache,e,t.keys)},watch:{include:function(t){Le(this,function(e){return Ne(t,e)})},exclude:function(t){Le(this,function(e){return!Ne(t,e)})}},render:function(){var t=this.$slots.default,e=wt(t),i=e&&e.componentOptions;if(i){var n=Ie(i),r=this,a=r.include,o=r.exclude;if(a&&(!n||!Ne(a,n))||o&&n&&Ne(o,n))return e;var s=this,l=s.cache,u=s.keys,c=null==e.key?i.Ctor.cid+(i.tag?"::"+i.tag:""):e.key;l[c]?(e.componentInstance=l[c].componentInstance,p(u,c),u.push(c)):(l[c]=e,u.push(c),this.max&&u.length>parseInt(this.max)&&ze(l,u[0],u,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}},Pr={KeepAlive:jr};!function(t){var e={};e.get=function(){return Sn},Object.defineProperty(t,"config",e),t.util={warn:Un,extend:y,mergeOptions:X,defineReactive:N},t.set=L,t.delete=z,t.nextTick=at,t.options=Object.create(null),Cn.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,y(t.options.components,Pr),Oe(t),De(t),$e(t),Re(t)}(Ee),Object.defineProperty(Ee.prototype,"$isServer",{get:Fn}),Object.defineProperty(Ee.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Ee.version="2.5.9";var Rr,Ir,Nr=f("style,class"),Lr=f("input,textarea,option,select,progress"),zr=function(t,e,i){return"value"===i&&Lr(t)&&"button"!==e||"selected"===i&&"option"===t||"checked"===i&&"input"===t||"muted"===i&&"video"===t},Hr=f("contenteditable,draggable,spellcheck"),qr=f("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Fr="http://www.w3.org/1999/xlink",Br=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Vr=function(t){return Br(t)?t.slice(6,t.length):""},Ur=function(t){return null==t||!1===t},Wr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Gr=f("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Xr=f("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Yr=function(t){return Gr(t)||Xr(t)},Jr=Object.create(null),Kr=f("text,number,password,search,email,tel,url"),Qr=Object.freeze({createElement:Je,createElementNS:Ke,createTextNode:Qe,createComment:Ze,insertBefore:ti,removeChild:ei,appendChild:ii,parentNode:ni,nextSibling:ri,tagName:ai,setTextContent:oi,setAttribute:si}),Zr={create:function(t,e){li(e)},update:function(t,e){t.data.ref!==e.data.ref&&(li(t,!0),li(e))},destroy:function(t){li(t,!0)}},ta=new Yn("",{},[]),ea=["create","activate","update","remove","destroy"],ia={create:di,update:di,destroy:function(t){di(t,ta)}},na=Object.create(null),ra=[Zr,ia],aa={create:vi,update:vi},oa={create:yi,update:yi},sa="__r",la="__c",ua={create:ki,update:ki},ca={create:Si,update:Si},ha=m(function(t){var e={},i=/;(?![^(]*\))/g,n=/:(.+)/;return t.split(i).forEach(function(t){if(t){var i=t.split(n);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}),da=/^--/,fa=/\s*!important$/,pa=function(t,e,i){if(da.test(e))t.style.setProperty(e,i);else if(fa.test(i))t.style.setProperty(e,i.replace(fa,""),"important");else{var n=ma(e);if(Array.isArray(i))for(var r=0,a=i.length;r<a;r++)t.style[n]=i[r];else t.style[n]=i}},ga=["Webkit","Moz","ms"],ma=m(function(t){if(Ir=Ir||document.createElement("div").style,"filter"!==(t=mn(t))&&t in Ir)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<ga.length;i++){var n=ga[i]+e;if(n in Ir)return n}}),va={create:$i,update:$i},_a=m(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),ya=Mn&&!jn,ba="transition",wa="animation",xa="transition",Ca="transitionend",ka="animation",Sa="animationend";ya&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(xa="WebkitTransition",Ca="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(ka="WebkitAnimation",Sa="webkitAnimationEnd"));var Ta=Mn?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()},Aa=/\b(transform|all)(,|$)/,Ma=Mn?{create:Gi,activate:Gi,remove:function(t,e){!0!==t.data.show?Vi(t,e):e()}}:{},Ea=[aa,oa,ua,ca,va,Ma],Oa=Ea.concat(ra),Da=function(t){function e(t){return new Yn(D.tagName(t).toLowerCase(),{},[],void 0,t)}function a(t,e){function i(){0==--i.listeners&&s(t)}return i.listeners=e,i}function s(t){var e=D.parentNode(t);n(e)&&D.removeChild(e,t)}function l(t,e,i,a,o){if(t.isRootInsert=!o,!u(t,e,i,a)){var s=t.data,l=t.children,c=t.tag;n(c)?(t.elm=t.ns?D.createElementNS(t.ns,c):D.createElement(c,t),v(t),p(t,l,e),n(s)&&m(t,e),d(i,t.elm,a)):r(t.isComment)?(t.elm=D.createComment(t.text),d(i,t.elm,a)):(t.elm=D.createTextNode(t.text),d(i,t.elm,a))}}function u(t,e,i,a){var o=t.data;if(n(o)){var s=n(t.componentInstance)&&o.keepAlive;if(n(o=o.hook)&&n(o=o.init)&&o(t,!1,i,a),n(t.componentInstance))return c(t,e),r(s)&&h(t,e,i,a),!0}}function c(t,e){n(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,g(t)?(m(t,e),v(t)):(li(t),e.push(t))}function h(t,e,i,r){for(var a,o=t;o.componentInstance;)if(o=o.componentInstance._vnode,n(a=o.data)&&n(a=a.transition)){for(a=0;a<E.activate.length;++a)E.activate[a](ta,o);e.push(o);break}d(i,t.elm,r)}function d(t,e,i){n(t)&&(n(i)?i.parentNode===t&&D.insertBefore(t,e,i):D.appendChild(t,e))}function p(t,e,i){if(Array.isArray(e))for(var n=0;n<e.length;++n)l(e[n],i,t.elm,null,!0);else o(t.text)&&D.appendChild(t.elm,D.createTextNode(t.text))}function g(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return n(t.tag)}function m(t,e){for(var i=0;i<E.create.length;++i)E.create[i](ta,t);A=t.data.hook,n(A)&&(n(A.create)&&A.create(ta,t),n(A.insert)&&e.push(t))}function v(t){var e;if(n(e=t.fnScopeId))D.setAttribute(t.elm,e,"");else for(var i=t;i;)n(e=i.context)&&n(e=e.$options._scopeId)&&D.setAttribute(t.elm,e,""),i=i.parent;n(e=mr)&&e!==t.context&&e!==t.fnContext&&n(e=e.$options._scopeId)&&D.setAttribute(t.elm,e,"")}function _(t,e,i,n,r,a){for(;n<=r;++n)l(i[n],a,t,e)}function y(t){var e,i,r=t.data;if(n(r))for(n(e=r.hook)&&n(e=e.destroy)&&e(t),e=0;e<E.destroy.length;++e)E.destroy[e](t);if(n(e=t.children))for(i=0;i<t.children.length;++i)y(t.children[i])}function b(t,e,i,r){for(;i<=r;++i){var a=e[i];n(a)&&(n(a.tag)?(w(a),y(a)):s(a.elm))}}function w(t,e){if(n(e)||n(t.data)){var i,r=E.remove.length+1;for(n(e)?e.listeners+=r:e=a(t.elm,r),n(i=t.componentInstance)&&n(i=i._vnode)&&n(i.data)&&w(i,e),i=0;i<E.remove.length;++i)E.remove[i](t,e);n(i=t.data.hook)&&n(i=i.remove)?i(t,e):e()}else s(t.elm)}function x(t,e,r,a,o){for(var s,u,c,h,d=0,f=0,p=e.length-1,g=e[0],m=e[p],v=r.length-1,y=r[0],w=r[v],x=!o;d<=p&&f<=v;)i(g)?g=e[++d]:i(m)?m=e[--p]:ui(g,y)?(k(g,y,a),g=e[++d],y=r[++f]):ui(m,w)?(k(m,w,a),m=e[--p],w=r[--v]):ui(g,w)?(k(g,w,a),x&&D.insertBefore(t,g.elm,D.nextSibling(m.elm)),g=e[++d],w=r[--v]):ui(m,y)?(k(m,y,a),x&&D.insertBefore(t,m.elm,g.elm),m=e[--p],y=r[++f]):(i(s)&&(s=hi(e,d,p)),u=n(y.key)?s[y.key]:C(y,e,d,p),i(u)?l(y,a,t,g.elm):(c=e[u],ui(c,y)?(k(c,y,a),e[u]=void 0,x&&D.insertBefore(t,c.elm,g.elm)):l(y,a,t,g.elm)),y=r[++f]);d>p?(h=i(r[v+1])?null:r[v+1].elm,_(t,h,r,f,v,a)):f>v&&b(t,e,d,p)}function C(t,e,i,r){for(var a=i;a<r;a++){var o=e[a];if(n(o)&&ui(t,o))return a}}function k(t,e,a,o){if(t!==e){var s=e.elm=t.elm;if(r(t.isAsyncPlaceholder))return void(n(e.asyncFactory.resolved)?T(t.elm,e,a):e.isAsyncPlaceholder=!0);if(r(e.isStatic)&&r(t.isStatic)&&e.key===t.key&&(r(e.isCloned)||r(e.isOnce)))return void(e.componentInstance=t.componentInstance);var l,u=e.data;n(u)&&n(l=u.hook)&&n(l=l.prepatch)&&l(t,e);var c=t.children,h=e.children;if(n(u)&&g(e)){for(l=0;l<E.update.length;++l)E.update[l](t,e);n(l=u.hook)&&n(l=l.update)&&l(t,e)}i(e.text)?n(c)&&n(h)?c!==h&&x(s,c,h,a,o):n(h)?(n(t.text)&&D.setTextContent(s,""),_(s,null,h,0,h.length-1,a)):n(c)?b(s,c,0,c.length-1):n(t.text)&&D.setTextContent(s,""):t.text!==e.text&&D.setTextContent(s,e.text),n(u)&&n(l=u.hook)&&n(l=l.postpatch)&&l(t,e)}}function S(t,e,i){if(r(i)&&n(t.parent))t.parent.data.pendingInsert=e;else for(var a=0;a<e.length;++a)e[a].data.hook.insert(e[a])}function T(t,e,i,a){var o,s=e.tag,l=e.data,u=e.children;if(a=a||l&&l.pre,e.elm=t,r(e.isComment)&&n(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(n(l)&&(n(o=l.hook)&&n(o=o.init)&&o(e,!0),n(o=e.componentInstance)))return c(e,i),!0;if(n(s)){if(n(u))if(t.hasChildNodes())if(n(o=l)&&n(o=o.domProps)&&n(o=o.innerHTML)){if(o!==t.innerHTML)return!1}else{for(var h=!0,d=t.firstChild,f=0;f<u.length;f++){if(!d||!T(d,u[f],i,a)){h=!1;break}d=d.nextSibling}if(!h||d)return!1}else p(e,u,i);if(n(l)){var g=!1;for(var v in l)if(!$(v)){g=!0,m(e,i);break}!g&&l.class&&ot(l.class)}}else t.data!==e.text&&(t.data=e.text);return!0}var A,M,E={},O=t.modules,D=t.nodeOps;for(A=0;A<ea.length;++A)for(E[ea[A]]=[],M=0;M<O.length;++M)n(O[M][ea[A]])&&E[ea[A]].push(O[M][ea[A]]);var $=f("attrs,class,staticClass,staticStyle,key");return function(t,a,o,s,u,c){if(i(a))return void(n(t)&&y(t));var h=!1,d=[];if(i(t))h=!0,l(a,d,u,c);else{var f=n(t.nodeType);if(!f&&ui(t,a))k(t,a,d,s);else{if(f){if(1===t.nodeType&&t.hasAttribute(xn)&&(t.removeAttribute(xn),o=!0),r(o)&&T(t,a,d))return S(a,d,!0),t;t=e(t)}var p=t.elm,m=D.parentNode(p);if(l(a,d,p._leaveCb?null:m,D.nextSibling(p)),n(a.parent))for(var v=a.parent,_=g(a);v;){for(var w=0;w<E.destroy.length;++w)E.destroy[w](v);if(v.elm=a.elm,_){for(var x=0;x<E.create.length;++x)E.create[x](ta,v);var C=v.data.hook.insert;if(C.merged)for(var A=1;A<C.fns.length;A++)C.fns[A]()}else li(v);v=v.parent}n(m)?b(m,[t],0,0):n(t.tag)&&y(t)}}return S(a,d,h),a.elm}}({nodeOps:Qr,modules:Oa});jn&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&tn(t,"input")});var $a={inserted:function(t,e,i,n){"select"===i.tag?(n.elm&&!n.elm._vOptions?ct(i,"postpatch",function(){$a.componentUpdated(t,e,i)}):Xi(t,e,i.context),t._vOptions=[].map.call(t.options,Ki)):("textarea"===i.tag||Kr(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("change",Zi),Rn||(t.addEventListener("compositionstart",Qi),t.addEventListener("compositionend",Zi)),jn&&(t.vmodel=!0)))},componentUpdated:function(t,e,i){if("select"===i.tag){Xi(t,e,i.context);var n=t._vOptions,r=t._vOptions=[].map.call(t.options,Ki);if(r.some(function(t,e){return!x(t,n[e])})){(t.multiple?e.value.some(function(t){return Ji(t,r)}):e.value!==e.oldValue&&Ji(e.value,r))&&tn(t,"change")}}}},ja={bind:function(t,e,i){var n=e.value;i=en(i);var r=i.data&&i.data.transition,a=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;n&&r?(i.data.show=!0,Bi(i,function(){t.style.display=a})):t.style.display=n?a:"none"},update:function(t,e,i){var n=e.value;n!==e.oldValue&&(i=en(i),i.data&&i.data.transition?(i.data.show=!0,n?Bi(i,function(){t.style.display=t.__vOriginalDisplay}):Vi(i,function(){t.style.display="none"})):t.style.display=n?t.__vOriginalDisplay:"none")},unbind:function(t,e,i,n,r){r||(t.style.display=t.__vOriginalDisplay)}},Pa={model:$a,show:ja},Ra={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},Ia={name:"transition",props:Ra,abstract:!0,render:function(t){var e=this,i=this.$slots.default;if(i&&(i=i.filter(function(t){return t.tag||bt(t)}),i.length)){var n=this.mode,r=i[0];if(on(this.$vnode))return r;var a=nn(r);if(!a)return r;if(this._leaving)return an(t,r);var s="__transition-"+this._uid+"-";a.key=null==a.key?a.isComment?s+"comment":s+a.tag:o(a.key)?0===String(a.key).indexOf(s)?a.key:s+a.key:a.key;var l=(a.data||(a.data={})).transition=rn(this),u=this._vnode,c=nn(u);if(a.data.directives&&a.data.directives.some(function(t){return"show"===t.name})&&(a.data.show=!0),c&&c.data&&!sn(a,c)&&!bt(c)&&(!c.componentInstance||!c.componentInstance._vnode.isComment)){var h=c.data.transition=y({},l);if("out-in"===n)return this._leaving=!0,ct(h,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),an(t,r);if("in-out"===n){if(bt(a))return u;var d,f=function(){d()};ct(l,"afterEnter",f),ct(l,"enterCancelled",f),ct(h,"delayLeave",function(t){d=t})}}return r}}},Na=y({tag:String,moveClass:String},Ra);delete Na.mode;var La={props:Na,render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",i=Object.create(null),n=this.prevChildren=this.children,r=this.$slots.default||[],a=this.children=[],o=rn(this),s=0;s<r.length;s++){var l=r[s];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))a.push(l),i[l.key]=l,(l.data||(l.data={})).transition=o;else;}if(n){for(var u=[],c=[],h=0;h<n.length;h++){var d=n[h];d.data.transition=o,d.data.pos=d.elm.getBoundingClientRect(),i[d.key]?u.push(d):c.push(d)}this.kept=t(e,null,u),this.removed=c}return t(e,null,a)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(ln),t.forEach(un),t.forEach(cn),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var i=t.elm,n=i.style;Ni(i,e),n.transform=n.WebkitTransform=n.transitionDuration="",i.addEventListener(Ca,i._moveCb=function t(n){n&&!/transform$/.test(n.propertyName)||(i.removeEventListener(Ca,t),i._moveCb=null,Li(i,e))})}}))},methods:{hasMove:function(t,e){if(!ya)return!1;if(this._hasMove)return this._hasMove;var i=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){Pi(i,t)}),ji(i,e),i.style.display="none",this.$el.appendChild(i);var n=Hi(i);return this.$el.removeChild(i),this._hasMove=n.hasTransform}}},za={Transition:Ia,TransitionGroup:La};Ee.config.mustUseProp=zr,Ee.config.isReservedTag=Yr,Ee.config.isReservedAttr=Nr,Ee.config.getTagNamespace=Ge,Ee.config.isUnknownElement=Xe,y(Ee.options.directives,Pa),y(Ee.options.components,za),Ee.prototype.__patch__=Mn?Da:w,Ee.prototype.$mount=function(t,e){return t=t&&Mn?Ye(t):void 0,Ot(this,t,e)},Ee.nextTick(function(){Sn.devtools&&Bn&&Bn.emit("init",Ee)},0),e.default=Ee}.call(e,i(109))},function(t,e,i){"use strict";(function(t){function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function a(t,e){return this._init(t||{},e||{})}Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),s=r(o),l=i(2),u=r(l),c=i(4),h=n(c),d=i(67),f=n(d),p=i(152),g=n(p),m=i(66),v=n(m),_=i(3),y=n(_);(0,v.default)(a,"GalaxyApp");var b="galaxy:debug:namespaces",w=!1;try{w="true"==localStorage.getItem("galaxy:debug")}catch(t){console.log((0,y.default)("localStorage not available for debug flag retrieval"))}a.prototype._init=function(t,e){var i=this;return s.extend(i,u.Events),w&&(i.logger=console,console.debug("debugging galaxy:","options:",t,"bootstrapped:",e)),i._processOptions(t),i.root=t.root||"/",i.params=t.params||{},i.session_csrf_token=t.session_csrf_token||null,i._initConfig(t.config||{}),i._patchGalaxy(window.Galaxy),i._initLogger(i.options.loggerOptions||{}),i.debug("GalaxyApp.options: ",i.options),i.debug("GalaxyApp.config: ",i.config),i.debug("GalaxyApp.logger: ",i.logger),i._initLocale(),i.debug("GalaxyApp.localize: ",i.localize),i.config=t.config||{},i.debug("GalaxyApp.config: ",i.config),i._initUser(t.user||{}),i.debug("GalaxyApp.user: ",i.user),i._setUpListeners(),i.trigger("ready",i),i},a.prototype.defaultOptions={patchExisting:!0,root:"/",session_csrf_token:null},a.prototype._processOptions=function(t){var e=this,i=e.defaultOptions;e.options={};for(var n in i)i.hasOwnProperty(n)&&(e.options[n]=t.hasOwnProperty(n)?t[n]:i[n]);return e},a.prototype._initConfig=function(t){var e=this;return e.config=t,e.config.debug=w||e.config.debug,e},a.prototype._patchGalaxy=function(t){var e=this;if(e.options.patchExisting&&t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},a.prototype._initLogger=function(t){var e=this;if(e.config.debug){t.consoleLogger=t.consoleLogger||console,t.consoleLevel=t.consoleLevel||g.default.MetricsLogger.ALL;try{t.consoleNamespaceWhitelist=localStorage.getItem(b).split(",")}catch(t){}try{t.consoleFlattenMessages="true"==localStorage.getItem("galaxy:debug:flatten")}catch(t){}console.log(t.consoleFlattenMessages)}return e.logger=new g.default.MetricsLogger(t),e.emit={},["log","debug","info","warn","error","metric"].map(function(t){e.emit[t]=function(i){e.logger.emit(t,arguments[0],Array.prototype.slice.call(arguments,1))}}),e.config.debug&&(h.default.LoggableMixin.logger=e.logger),e},a.prototype._initLocale=function(t){var e=this;return e.debug("_initLocale:",t),e.localize=y.default,window._l=e.localize,e},a.prototype._initUser=function(t){var e=this;return e.debug("_initUser:",t),e.user=new f.default.User(t),e.user.logger=e.logger,e},a.prototype._setUpListeners=function(){var e=this;return e.lastAjax={},t(document).bind("ajaxSend",function(t,i,n){var r=n.data;try{r=JSON.parse(r)}catch(t){}e.lastAjax={url:location.href.slice(0,-1)+n.url,data:r}}),e},a.prototype.debugging=function(t){var e=this;try{if(void 0===t)return"true"===localStorage.getItem("galaxy:debug");if(t)return localStorage.setItem("galaxy:debug",!0),!0;localStorage.removeItem("galaxy:debug"),e.debuggingNamespaces(null)}catch(t){console.log((0,y.default)("localStorage not available for debug flag retrieval"))}return!1},a.prototype.debuggingNamespaces=function(t){var e=this;try{if(void 0===t){var i=localStorage.getItem(b);return"string"==typeof i?i.split(","):[]}null===t?localStorage.removeItem(b):localStorage.setItem(b,t);var n=e.debuggingNamespaces();return e.logger&&(e.logger.options.consoleNamespaceWhitelist=n),n}catch(t){console.log((0,y.default)("localStorage not available for debug namespace retrieval"))}},a.prototype.toString=function(){return"GalaxyApp("+(this.user?this.user.get("email")||"(anonymous)":"uninitialized")+")"},window.Galaxy=window.Galaxy||new a,e.default={GalaxyApp:a}}).call(e,i(0))},function(t,e,i){"use strict";function n(t,e){var i=void 0!==t.prototype?t.prototype:t;return void 0!==e&&(i._logNamespace=e),r.forEach(function(t){i[t]=function(){if(this.logger)return this.logger.emit?this.logger.emit(t,this._logNamespace,arguments):this.logger[t]?this.logger[t].apply(this.logger,arguments):void 0}}),t}Object.defineProperty(e,"__esModule",{value:!0});var r=["log","debug","info","warn","error","metric"];e.default=n},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var a=i(1),o=(r(a),i(2)),s=r(o),l=i(4),u=n(l),c=i(3),h=n(c),d=s.Model.extend(u.default.LoggableMixin).extend({_logNamespace:"user",urlRoot:function(){return Galaxy.root+"api/users"},defaults:{id:null,username:"("+(0,h.default)("anonymous user")+")",email:"",total_disk_usage:0,nice_total_disk_usage:"",quota_percent:null,is_admin:!1},initialize:function(t){this.log("User.initialize:",t),this.on("loaded",function(t,e){this.log(this+" has loaded:",t,e)}),this.on("change",function(t,e){this.log(this+" has changed:",t,e.changes)})},isAnonymous:function(){return!this.get("email")},isAdmin:function(){return this.get("is_admin")},loadFromApi:function(t,e){t=t||d.CURRENT_ID_STR,e=e||{};var i=this,n=e.success;return e.success=function(t,e){i.trigger("loaded",t,e),n&&n(t,e)},t===d.CURRENT_ID_STR&&(e.url=this.urlRoot+"/"+d.CURRENT_ID_STR),s.Model.prototype.fetch.call(this,e)},clearSessionStorage:function(){for(var t in sessionStorage)0===t.indexOf("history:")?sessionStorage.removeItem(t):"history-panel"===t&&sessionStorage.removeItem(t)},toString:function(){var t=[this.get("username")];return this.get("id")&&(t.unshift(this.get("id")),t.push(this.get("email"))),"User("+t.join(":")+")"}});d.CURRENT_ID_STR="current",d.getCurrentUserFromApi=function(t){var e=new d;return e.loadFromApi(d.CURRENT_ID_STR,t),e};s.Collection.extend(u.default.LoggableMixin).extend({model:d,urlRoot:function(){return Galaxy.root+"api/users"}});e.default={User:d}},function(t,e,i){"use strict";(function(t,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(153),o=r(a),s=i(155),l=r(s),u=i(250),c=r(u),h=t.View.extend({initialize:function(t){var e=this;this.options=t,this.setElement(this._template()),this.$navbarBrandLink=this.$(".navbar-brand-link"),this.$navbarBrandImage=this.$(".navbar-brand-image"),this.$navbarBrandTitle=this.$(".navbar-brand-title"),this.$navbarTabs=this.$(".navbar-tabs"),this.$quoteMeter=this.$(".quota-meter-container"),this.collection=new o.default.Collection,this.collection.on("add",function(t){e.$navbarTabs.append(new o.default.Tab({model:t}).render().$el)}).on("reset",function(){e.$navbarTabs.empty()}).on("dispatch",function(t){e.collection.each(function(e){t(e)})}).fetch(this.options),Galaxy.frame=this.frame=new l.default({collection:this.collection}),Galaxy.quotaMeter=this.quotaMeter=new c.default.UserQuotaMeter({model:Galaxy.user,el:this.$quoteMeter}),n(window).on("click",function(t){var e=n(t.target).closest("a[download]");1==e.length&&(0===n("iframe[id=download]").length&&n("body").append(n("<iframe/>").attr("id","download").hide()),n("iframe[id=download]").attr("src",e.attr("href")),t.preventDefault())}).on("beforeunload",function(){var t="";if(e.collection.each(function(e){var i=e.get("onbeforeunload")&&e.get("onbeforeunload")();i&&(t+=i+" ")}),""!==t)return t})},render:function(){return this.$navbarBrandTitle.html("Galaxy "+(this.options.brand&&"/ "+this.options.brand||"")),this.$navbarBrandLink.attr("href",this.options.logo_url),this.$navbarBrandImage.attr("src",this.options.logo_src),this.quotaMeter.render(),this},_template:function(){return'<div id="masthead" class="navbar navbar-fixed-top navbar-inverse"><div class="navbar-header"><div class="navbar-tabs"/></div><div class="navbar-brand"><a class="navbar-brand-link"><img class="navbar-brand-image"/><span class="navbar-brand-title"/></a></div><div class="quota-meter-container"/><div class="navbar-icons"/></div>'}});e.default={View:h}}).call(e,i(2),i(0))},function(t,e,i){"use strict";(function(t,n,r){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;var o=i(5),s=a(o),l=i(6),u=a(l),c=e.View=t.View.extend({visible:!1,initialize:function(e){var i=this;this.model=e&&e.model||new t.Model({id:s.default.uid(),cls:"ui-portlet",title:"",icon:"",buttons:null,body:null,scrollable:!0,nopadding:!1,operations:null,collapsible:!1,collapsible_button:!1,collapsed:!1,onchange_title:null}).set(e),this.setElement(this._template()),this.$body=this.$(".portlet-body"),this.$title_text=this.$(".portlet-title-text"),this.$title_icon=this.$(".portlet-title-icon"),this.$header=this.$(".portlet-header"),this.$content=this.$(".portlet-content"),this.$backdrop=this.$(".portlet-backdrop"),this.$buttons=this.$(".portlet-buttons"),this.$operations=this.$(".portlet-operations"),this.model.get("body")&&this.append(this.model.get("body")),this.collapsible_button=new u.default.ButtonIcon({icon:"fa-eye",tooltip:"Collapse/Expand",cls:"ui-button-icon-plain",onclick:function(){i[i.collapsed?"expand":"collapse"]()}}),this.render()},render:function(){var t=this,e=this.model.attributes;return this.$el.removeClass().addClass(e.cls).attr("id",e.id),this.$header[e.title?"show":"hide"](),this.$title_text.html(e.title),n.each([this.$content,this.$body],function(t){t[e.nopadding?"addClass":"removeClass"]("no-padding")}),e.icon?this.$title_icon.removeClass().addClass("portlet-title-icon fa").addClass(e.icon).show():this.$title_icon.hide(),this.$title_text[e.collapsible?"addClass":"removeClass"]("no-highlight collapsible").off(),e.collapsible&&(this.$title_text.on("click",function(){t[t.collapsed?"expand":"collapse"]()}),e.collapsed?this.collapse():this.expand()),this.$title_text.prop("disabled",!e.onchange_title),e.onchange_title&&this.$title_text.make_text_editable({on_finish:function(t){e.onchange_title(t)}}),e.buttons?(this.$buttons.empty().show(),r.each(this.model.get("buttons"),function(e,i){i.$el.prop("id",e),t.$buttons.append(i.$el)})):this.$buttons.hide(),this.$operations.empty,e.collapsible_button&&this.$operations.append(this.collapsible_button.$el),e.operations&&r.each(e.operations,function(e,i){i.$el.prop("id",e),t.$operations.append(i.$el)}),this},append:function(t){this.$body.append(t)},empty:function(){this.$body.empty()},header:function(){return this.$header},body:function(){return this.$body},show:function(){this.visible=!0,this.$el.fadeIn("fast")},hide:function(){this.visible=!1,this.$el.hide()},enableButton:function(t){this.$buttons.find("#"+t).prop("disabled",!1)},disableButton:function(t){this.$buttons.find("#"+t).prop("disabled",!0)},hideOperation:function(t){this.$operations.find("#"+t).hide()},showOperation:function(t){this.$operations.find("#"+t).show()},setOperation:function(t,e){this.$operations.find("#"+t).off("click").on("click",e)},title:function(t){return t&&this.$title_text.html(t),this.$title_text.html()},collapse:function(){this.collapsed=!0,this.$content.height("0%"),this.$body.hide(),this.collapsible_button.setIcon("fa-eye-slash")},expand:function(){this.collapsed=!1,this.$content.height("100%"),this.$body.fadeIn("fast"),this.collapsible_button.setIcon("fa-eye")},disable:function(){this.$backdrop.show()},enable:function(){this.$backdrop.hide()},_template:function(){return r("<div/>").append(r("<div/>").addClass("portlet-header").append(r("<div/>").addClass("portlet-operations")).append(r("<div/>").addClass("portlet-title").append(r("<i/>").addClass("portlet-title-icon")).append(r("<span/>").addClass("portlet-title-text")))).append(r("<div/>").addClass("portlet-content").append(r("<div/>").addClass("portlet-body")).append(r("<div/>").addClass("portlet-buttons"))).append(r("<div/>").addClass("portlet-backdrop"))}});e.default={View:c}}).call(e,i(2),i(1),i(0))},,,,,,,function(t,e,i){(function(t){!function(t){"use strict";function e(e){var i=e.data;e.isDefaultPrevented()||(e.preventDefault(),t(e.target).ajaxSubmit(i))}function i(e){var i=e.target,n=t(i);if(!n.is("[type=submit],[type=image]")){var r=n.closest("[type=submit]");if(0===r.length)return;i=r[0]}var a=this;if(a.clk=i,"image"==i.type)if(void 0!==e.offsetX)a.clk_x=e.offsetX,a.clk_y=e.offsetY;else if("function"==typeof t.fn.offset){var o=n.offset();a.clk_x=e.pageX-o.left,a.clk_y=e.pageY-o.top}else a.clk_x=e.pageX-i.offsetLeft,a.clk_y=e.pageY-i.offsetTop;setTimeout(function(){a.clk=a.clk_x=a.clk_y=null},100)}function n(){if(t.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}var r={};r.fileapi=void 0!==t("<input type='file'/>").get(0).files,r.formdata=void 0!==window.FormData;var a=!!t.fn.prop;t.fn.attr2=function(){if(!a)return this.attr.apply(this,arguments);var t=this.prop.apply(this,arguments);return t&&t.jquery||"string"==typeof t?t:this.attr.apply(this,arguments)},t.fn.ajaxSubmit=function(e){function i(i){var n,r,a=t.param(i,e.traditional).split("&"),o=a.length,s=[];for(n=0;n<o;n++)a[n]=a[n].replace(/\+/g," "),r=a[n].split("="),s.push([decodeURIComponent(r[0]),decodeURIComponent(r[1])]);return s}function o(i){function r(t){var e=null;try{t.contentWindow&&(e=t.contentWindow.document)}catch(t){n("cannot get iframe.contentWindow document: "+t)}if(e)return e;try{e=t.contentDocument?t.contentDocument:t.document}catch(i){n("cannot get iframe.contentDocument: "+i),e=t.document}return e}function o(){function e(){try{var t=r(v).readyState;n("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(e,50)}catch(t){n("Server abort: ",t," (",t.name,")"),l(T),x&&clearTimeout(x),x=void 0}}var i=c.attr2("target"),a=c.attr2("action");C.setAttribute("target",g),s&&!/post/i.test(s)||C.setAttribute("method","POST"),a!=d.url&&C.setAttribute("action",d.url),d.skipEncodingOverride||s&&!/post/i.test(s)||c.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),d.timeout&&(x=setTimeout(function(){w=!0,l(S)},d.timeout));var o=[];try{if(d.extraData)for(var u in d.extraData)d.extraData.hasOwnProperty(u)&&(t.isPlainObject(d.extraData[u])&&d.extraData[u].hasOwnProperty("name")&&d.extraData[u].hasOwnProperty("value")?o.push(t('<input type="hidden" name="'+d.extraData[u].name+'">').val(d.extraData[u].value).appendTo(C)[0]):o.push(t('<input type="hidden" name="'+u+'">').val(d.extraData[u]).appendTo(C)[0]));d.iframeTarget||m.appendTo("body"),v.attachEvent?v.attachEvent("onload",l):v.addEventListener("load",l,!1),setTimeout(e,15);try{C.submit()}catch(t){var h=document.createElement("form").submit;h.apply(C)}}finally{C.setAttribute("action",a),i?C.setAttribute("target",i):c.removeAttr("target"),t(o).remove()}}function l(e){if(!_.aborted&&!D){if(O=r(v),O||(n("cannot access response document"),e=T),e===S&&_)return _.abort("timeout"),void k.reject(_,"timeout");if(e==T&&_)return _.abort("server abort"),void k.reject(_,"error","server abort");if(O&&O.location.href!=d.iframeSrc||w){v.detachEvent?v.detachEvent("onload",l):v.removeEventListener("load",l,!1);var i,a="success";try{if(w)throw"timeout";var o="xml"==d.dataType||O.XMLDocument||t.isXMLDoc(O);if(n("isXml="+o),!o&&window.opera&&(null===O.body||!O.body.innerHTML)&&--$)return n("requeing onLoad callback, DOM not available"),void setTimeout(l,250);var s=O.body?O.body:O.documentElement;_.responseText=s?s.innerHTML:null,_.responseXML=O.XMLDocument?O.XMLDocument:O,o&&(d.dataType="xml"),_.getResponseHeader=function(t){return{"content-type":d.dataType}[t.toLowerCase()]},s&&(_.status=Number(s.getAttribute("status"))||_.status,_.statusText=s.getAttribute("statusText")||_.statusText);var u=(d.dataType||"").toLowerCase(),c=/(json|script|text)/.test(u);if(c||d.textarea){var h=O.getElementsByTagName("textarea")[0];if(h)_.responseText=h.value,_.status=Number(h.getAttribute("status"))||_.status,_.statusText=h.getAttribute("statusText")||_.statusText;else if(c){var p=O.getElementsByTagName("pre")[0],g=O.getElementsByTagName("body")[0];p?_.responseText=p.textContent?p.textContent:p.innerText:g&&(_.responseText=g.textContent?g.textContent:g.innerText)}}else"xml"==u&&!_.responseXML&&_.responseText&&(_.responseXML=j(_.responseText));try{E=R(_,u,d)}catch(t){a="parsererror",_.error=i=t||a}}catch(t){n("error caught: ",t),a="error",_.error=i=t||a}_.aborted&&(n("upload aborted"),a=null),_.status&&(a=_.status>=200&&_.status<300||304===_.status?"success":"error"),"success"===a?(d.success&&d.success.call(d.context,E,"success",_),k.resolve(_.responseText,"success",_),f&&t.event.trigger("ajaxSuccess",[_,d])):a&&(void 0===i&&(i=_.statusText),d.error&&d.error.call(d.context,_,a,i),k.reject(_,"error",i),f&&t.event.trigger("ajaxError",[_,d,i])),f&&t.event.trigger("ajaxComplete",[_,d]),f&&!--t.active&&t.event.trigger("ajaxStop"),d.complete&&d.complete.call(d.context,_,a),D=!0,d.timeout&&clearTimeout(x),setTimeout(function(){d.iframeTarget?m.attr("src",d.iframeSrc):m.remove(),_.responseXML=null},100)}}}var u,h,d,f,g,m,v,_,y,b,w,x,C=c[0],k=t.Deferred();if(k.abort=function(t){_.abort(t)},i)for(h=0;h<p.length;h++)u=t(p[h]),a?u.prop("disabled",!1):u.removeAttr("disabled");if(d=t.extend(!0,{},t.ajaxSettings,e),d.context=d.context||d,g="jqFormIO"+(new Date).getTime(),d.iframeTarget?(m=t(d.iframeTarget),b=m.attr2("name"),b?g=b:m.attr2("name",g)):(m=t('<iframe name="'+g+'" src="'+d.iframeSrc+'" />'),m.css({position:"absolute",top:"-1000px",left:"-1000px"})),v=m[0],_={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var i="timeout"===e?"timeout":"aborted";n("aborting upload... "+i),this.aborted=1;try{v.contentWindow.document.execCommand&&v.contentWindow.document.execCommand("Stop")}catch(t){}m.attr("src",d.iframeSrc),_.error=i,d.error&&d.error.call(d.context,_,i,e),f&&t.event.trigger("ajaxError",[_,d,i]),d.complete&&d.complete.call(d.context,_,i)}},f=d.global,f&&0==t.active++&&t.event.trigger("ajaxStart"),f&&t.event.trigger("ajaxSend",[_,d]),d.beforeSend&&!1===d.beforeSend.call(d.context,_,d))return d.global&&t.active--,k.reject(),k;if(_.aborted)return k.reject(),k;(y=C.clk)&&(b=y.name)&&!y.disabled&&(d.extraData=d.extraData||{},d.extraData[b]=y.value,"image"==y.type&&(d.extraData[b+".x"]=C.clk_x,d.extraData[b+".y"]=C.clk_y));var S=1,T=2,A=t("meta[name=csrf-token]").attr("content"),M=t("meta[name=csrf-param]").attr("content");M&&A&&(d.extraData=d.extraData||{},d.extraData[M]=A),d.forceSync?o():setTimeout(o,10);var E,O,D,$=50,j=t.parseXML||function(t,e){return window.ActiveXObject?(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&"parsererror"!=e.documentElement.nodeName?e:null},P=t.parseJSON||function(t){return window.eval("("+t+")")},R=function(e,i,n){var r=e.getResponseHeader("content-type")||"",a="xml"===i||!i&&r.indexOf("xml")>=0,o=a?e.responseXML:e.responseText;return a&&"parsererror"===o.documentElement.nodeName&&t.error&&t.error("parsererror"),n&&n.dataFilter&&(o=n.dataFilter(o,i)),"string"==typeof o&&("json"===i||!i&&r.indexOf("json")>=0?o=P(o):("script"===i||!i&&r.indexOf("javascript")>=0)&&t.globalEval(o)),o};return k}if(!this.length)return n("ajaxSubmit: skipping submit process - no element selected"),this;var s,l,u,c=this;"function"==typeof e?e={success:e}:void 0===e&&(e={}),s=e.type||this.attr2("method"),l=e.url||this.attr2("action"),u="string"==typeof l?t.trim(l):"",u=u||window.location.href||"",u&&(u=(u.match(/^([^#]+)/)||[])[1]),e=t.extend(!0,{url:u,success:t.ajaxSettings.success,type:s||t.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},e);var h={};if(this.trigger("form-pre-serialize",[this,e,h]),h.veto)return n("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(e.beforeSerialize&&!1===e.beforeSerialize(this,e))return n("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var d=e.traditional;void 0===d&&(d=t.ajaxSettings.traditional);var f,p=[],g=this.formToArray(e.semantic,p);if(e.data&&(e.extraData=e.data,f=t.param(e.data,d)),e.beforeSubmit&&!1===e.beforeSubmit(g,this,e))return n("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[g,this,e,h]),h.veto)return n("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var m=t.param(g,d);f&&(m=m?m+"&"+f:f),"GET"==e.type.toUpperCase()?(e.url+=(e.url.indexOf("?")>=0?"&":"?")+m,e.data=null):e.data=m;var v=[];if(e.resetForm&&v.push(function(){c.resetForm()}),e.clearForm&&v.push(function(){c.clearForm(e.includeHidden)}),!e.dataType&&e.target){var _=e.success||function(){};v.push(function(i){var n=e.replaceTarget?"replaceWith":"html";t(e.target)[n](i).each(_,arguments)})}else e.success&&v.push(e.success);if(e.success=function(t,i,n){for(var r=e.context||this,a=0,o=v.length;a<o;a++)v[a].apply(r,[t,i,n||c,c])},e.error){var y=e.error;e.error=function(t,i,n){var r=e.context||this;y.apply(r,[t,i,n,c])}}if(e.complete){var b=e.complete;e.complete=function(t,i){var n=e.context||this;b.apply(n,[t,i,c])}}var w=t("input[type=file]:enabled",this).filter(function(){return""!==t(this).val()}),x=w.length>0,C="multipart/form-data",k=c.attr("enctype")==C||c.attr("encoding")==C,S=r.fileapi&&r.formdata;n("fileAPI :"+S);var T,A=(x||k)&&!S;!1!==e.iframe&&(e.iframe||A)?e.closeKeepAlive?t.get(e.closeKeepAlive,function(){T=o(g)}):T=o(g):T=(x||k)&&S?function(n){for(var r=new FormData,a=0;a<n.length;a++)r.append(n[a].name,n[a].value);if(e.extraData){var o=i(e.extraData);for(a=0;a<o.length;a++)o[a]&&r.append(o[a][0],o[a][1])}e.data=null;var l=t.extend(!0,{},t.ajaxSettings,e,{contentType:!1,processData:!1,cache:!1,type:s||"POST"});e.uploadProgress&&(l.xhr=function(){var i=t.ajaxSettings.xhr();return i.upload&&i.upload.addEventListener("progress",function(t){var i=0,n=t.loaded||t.position,r=t.total;t.lengthComputable&&(i=Math.ceil(n/r*100)),e.uploadProgress(t,n,r,i)},!1),i}),l.data=null;var u=l.beforeSend;return l.beforeSend=function(t,i){e.formData?i.data=e.formData:i.data=r,u&&u.call(this,t,i)},t.ajax(l)}(g):t.ajax(e),c.removeData("jqxhr").data("jqxhr",T);for(var M=0;M<p.length;M++)p[M]=null;return this.trigger("form-submit-notify",[this,e]),this},t.fn.ajaxForm=function(r){if(r=r||{},r.delegation=r.delegation&&t.isFunction(t.fn.on),!r.delegation&&0===this.length){var a={s:this.selector,c:this.context};return!t.isReady&&a.s?(n("DOM not ready, queuing ajaxForm"),t(function(){t(a.s,a.c).ajaxForm(r)}),this):(n("terminating; zero elements found by selector"+(t.isReady?"":" (DOM not ready)")),this)}return r.delegation?(t(document).off("submit.form-plugin",this.selector,e).off("click.form-plugin",this.selector,i).on("submit.form-plugin",this.selector,r,e).on("click.form-plugin",this.selector,r,i),this):this.ajaxFormUnbind().bind("submit.form-plugin",r,e).bind("click.form-plugin",r,i)},t.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},t.fn.formToArray=function(e,i){var n=[];if(0===this.length)return n;var a=this[0],o=e?a.getElementsByTagName("*"):a.elements;if(!o)return n;var s,l,u,c,h,d,f;for(s=0,d=o.length;s<d;s++)if(h=o[s],(u=h.name)&&!h.disabled)if(e&&a.clk&&"image"==h.type)a.clk==h&&(n.push({name:u,value:t(h).val(),type:h.type}),n.push({name:u+".x",value:a.clk_x},{name:u+".y",value:a.clk_y}));else if((c=t.fieldValue(h,!0))&&c.constructor==Array)for(i&&i.push(h),l=0,f=c.length;l<f;l++)n.push({name:u,value:c[l]});else if(r.fileapi&&"file"==h.type){i&&i.push(h);var p=h.files;if(p.length)for(l=0;l<p.length;l++)n.push({name:u,value:p[l],type:h.type});else n.push({name:u,value:"",type:h.type})}else null!==c&&void 0!==c&&(i&&i.push(h),n.push({name:u,value:c,type:h.type,required:h.required}));if(!e&&a.clk){var g=t(a.clk),m=g[0];u=m.name,u&&!m.disabled&&"image"==m.type&&(n.push({name:u,value:g.val()}),n.push({name:u+".x",value:a.clk_x},{name:u+".y",value:a.clk_y}))}return n},t.fn.formSerialize=function(e){return t.param(this.formToArray(e))},t.fn.fieldSerialize=function(e){var i=[];return this.each(function(){var n=this.name;if(n){var r=t.fieldValue(this,e);if(r&&r.constructor==Array)for(var a=0,o=r.length;a<o;a++)i.push({name:n,value:r[a]});else null!==r&&void 0!==r&&i.push({name:this.name,value:r})}}),t.param(i)},t.fn.fieldValue=function(e){for(var i=[],n=0,r=this.length;n<r;n++){var a=this[n],o=t.fieldValue(a,e);null===o||void 0===o||o.constructor==Array&&!o.length||(o.constructor==Array?t.merge(i,o):i.push(o))}return i},t.fieldValue=function(e,i){var n=e.name,r=e.type,a=e.tagName.toLowerCase();if(void 0===i&&(i=!0),i&&(!n||e.disabled||"reset"==r||"button"==r||("checkbox"==r||"radio"==r)&&!e.checked||("submit"==r||"image"==r)&&e.form&&e.form.clk!=e||"select"==a&&-1==e.selectedIndex))return null;if("select"==a){var o=e.selectedIndex;if(o<0)return null;for(var s=[],l=e.options,u="select-one"==r,c=u?o+1:l.length,h=u?o:0;h<c;h++){var d=l[h];if(d.selected){var f=d.value;if(f||(f=d.attributes&&d.attributes.value&&!d.attributes.value.specified?d.text:d.value),u)return f;s.push(f)}}return s}return t(e).val()},t.fn.clearForm=function(e){return this.each(function(){t("input,select,textarea",this).clearFields(e)})},t.fn.clearFields=t.fn.clearInputs=function(e){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var n=this.type,r=this.tagName.toLowerCase();i.test(n)||"textarea"==r?this.value="":"checkbox"==n||"radio"==n?this.checked=!1:"select"==r?this.selectedIndex=-1:"file"==n?/MSIE/.test(navigator.userAgent)?t(this).replaceWith(t(this).clone(!0)):t(this).val(""):e&&(!0===e&&/hidden/.test(n)||"string"==typeof e&&t(this).is(e))&&(this.value="")})},t.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},t.fn.enable=function(t){return void 0===t&&(t=!0),this.each(function(){this.disabled=!t})},t.fn.selected=function(e){return void 0===e&&(e=!0),this.each(function(){var i=this.type;if("checkbox"==i||"radio"==i)this.checked=e;else if("option"==this.tagName.toLowerCase()){var n=t(this).parent("select");e&&n[0]&&"select-one"==n[0].type&&n.find("option").selected(!1),this.selected=e}})},t.fn.ajaxSubmit.debug=!1}(void 0!==t?t:window.Zepto)}).call(e,i(0))},function(t,e,i){(function(t){!function(t){t.fn.farbtastic=function(e){return t.farbtastic(this,e),this},t.farbtastic=function(e,i){var e=t(e)[0];return e.farbtastic||(e.farbtastic=new t._farbtastic(e,i))},t._farbtastic=function(e,i){var n=this;n.linkTo=function(e){return"object"==typeof n.callback&&t(n.callback).unbind("keyup",n.updateValue),n.color=null,"function"==typeof e?n.callback=e:"object"!=typeof e&&"string"!=typeof e||(n.callback=t(e),n.callback.bind("keyup",n.updateValue),n.callback[0].value&&n.setColor(n.callback[0].value)),this},n.updateValue=function(t){this.value&&this.value!=n.color&&n.setColor(this.value)},n.setColor=function(t){var e=n.unpack(t);return n.color!=t&&e&&(n.color=t,n.rgb=e,n.hsl=n.RGBToHSL(n.rgb),n.updateDisplay()),this},n.setHSL=function(t){return n.hsl=t,n.rgb=n.HSLToRGB(t),n.color=n.pack(n.rgb),n.updateDisplay(),this},n.initWidget=function(){var r={width:i.width,height:i.width};t(e).html('<div class="farbtastic" style="position: relative"><div class="farbtastic-solid"></div><canvas class="farbtastic-mask"></canvas><canvas class="farbtastic-overlay"></canvas></div>').find("*").attr(r).css(r).end().find("div>*").css("position","absolute"),t.browser.msie,n.radius=(i.width-i.wheelWidth)/2-1,n.square=Math.floor(.7*(n.radius-i.wheelWidth/2))-1,n.mid=Math.floor(i.width/2),n.markerSize=.3*i.wheelWidth,n.solidFill=t(".farbtastic-solid",e).css({width:2*n.square-1,height:2*n.square-1,left:n.mid-n.square,top:n.mid-n.square}),n.cnvMask=t(".farbtastic-mask",e),n.ctxMask=n.cnvMask[0].getContext("2d"),n.cnvOverlay=t(".farbtastic-overlay",e),n.ctxOverlay=n.cnvOverlay[0].getContext("2d"),n.ctxMask.translate(n.mid,n.mid),n.ctxOverlay.translate(n.mid,n.mid),n.drawCircle(),n.drawMask()},n.drawCircle=function(){var e,r,a=(new Date,n.radius),o=i.wheelWidth,s=8/a/24*Math.PI,l=n.ctxMask,u=0;l.save(),l.lineWidth=o/a,l.scale(a,a);for(var c=0;c<=24;++c){var h=c/24,d=h*Math.PI*2,f=Math.sin(u),p=-Math.cos(u);if(x2=Math.sin(d),y2=-Math.cos(d),am=(u+d)/2,tan=1/Math.cos((d-u)/2),xm=Math.sin(am)*tan,ym=-Math.cos(am)*tan,color2=n.pack(n.HSLToRGB([h,1,.5])),c>0)if(t.browser.msie){var g=(1+Math.min(Math.abs(Math.tan(u)),Math.abs(Math.tan(Math.PI/2-u))))/24;e=n.pack(n.HSLToRGB([r-.15*g,1,.5])),color2=n.pack(n.HSLToRGB([h+.15*g,1,.5]));var m=l.createLinearGradient(f,p,x2,y2);m.addColorStop(0,e),m.addColorStop(1,color2),l.fillStyle=m;var v=(a+o/2)/a,_=(a-o/2)/a;l.beginPath(),l.moveTo(f*v,p*v),l.quadraticCurveTo(xm*v,ym*v,x2*v,y2*v),l.lineTo(x2*_,y2*_),l.quadraticCurveTo(xm*_,ym*_,f*_,p*_),l.fill()}else{var m=l.createLinearGradient(f,p,x2,y2);m.addColorStop(0,e),m.addColorStop(1,color2),l.strokeStyle=m,l.beginPath(),l.moveTo(f,p),l.quadraticCurveTo(xm,ym,x2,y2),l.stroke()}u=d-s,e=color2,r=h}l.restore()},n.drawMask=function(){function e(t,e,i){for(var n=1/t,r=1/e,a=0;a<=e;++a)for(var o=1-a*r,s=0;s<=t;++s){var l=1-s*n,u=1-2*Math.min(o*l,(1-o)*l),c=u>0?.5*(2*o-1+u)/u:0;i(s,a,c,u)}}var i=(new Date,2*n.square),r=n.square;if(n.ctxMask.getImageData){var a=Math.floor(i/2),o=document.createElement("canvas");o.width=o.height=a+1;var s=o.getContext("2d"),l=s.getImageData(0,0,a+1,a+1),u=0;e(a,a,function(t,e,i,n){l.data[u++]=l.data[u++]=l.data[u++]=255*i,l.data[u++]=255*n}),s.putImageData(l,0,0),n.ctxMask.drawImage(o,0,0,a+1,a+1,-r,-r,2*r,2*r)}else if(t.browser.msie){var c,h,d=Math.floor(i/6);e(d,6,function(e,i,a,o){if(0==e&&(c=h,h=[]),a=Math.round(255*a),o=Math.round(255*o),i>0){var s=c[e][0],l=c[e][1],u=n.packDX(s,l),f=n.packDX(a,o),p=Math.round(n.mid+(.333*(i-1)-1)*r),g=Math.round(n.mid+(.333*i-1)*r);t("<div>").css({position:"absolute",filter:"progid:DXImageTransform.Microsoft.Gradient(StartColorStr="+u+", EndColorStr="+f+", GradientType=0)",top:p,height:g-p,left:n.mid+(6*e-r-1),width:6-(e==d?Math.round(3):0)}).appendTo(n.cnvMask)}h.push([a,o])})}else{var a=Math.floor(i/2);e(a,a,function(t,e,i,a){i=Math.round(255*i),n.ctxMask.fillStyle="rgba("+i+", "+i+", "+i+", "+a+")",n.ctxMask.fillRect(2*t-r-1,2*e-r-1,2,2)})}},n.drawMarkers=function(){var t=i.width,e=Math.ceil(n.markerSize/4),r=n.markerSize-e+1,a=6.28*n.hsl[0],o=Math.sin(a)*n.radius,s=-Math.cos(a)*n.radius,l=2*n.square*(.5-n.hsl[1]),u=2*n.square*(.5-n.hsl[2]),c=n.invert?"#fff":"#000",h=n.invert?"#000":"#fff",d=[{x:o,y:s,r:r,c:"#000",lw:e+1},{x:o,y:s,r:n.markerSize,c:"#fff",lw:e},{x:l,y:u,r:r,c:h,lw:e+1},{x:l,y:u,r:n.markerSize,c:c,lw:e}];n.ctxOverlay.clearRect(-n.mid,-n.mid,t,t);for(var f=0;f<d.length;f++){var p=d[f];n.ctxOverlay.lineWidth=p.lw,n.ctxOverlay.strokeStyle=p.c,n.ctxOverlay.beginPath(),n.ctxOverlay.arc(p.x,p.y,p.r,0,2*Math.PI,!0),n.ctxOverlay.stroke()}},n.updateDisplay=function(){n.invert=.3*n.rgb[0]+.59*n.rgb[1]+.11*n.rgb[2]<=.6,n.solidFill.css("backgroundColor",n.pack(n.HSLToRGB([n.hsl[0],1,.5]))),n.drawMarkers(),"object"==typeof n.callback?(t(n.callback).css({backgroundColor:n.color,color:n.invert?"#fff":"#000"}),t(n.callback).each(function(){"string"==typeof this.value&&this.value!=n.color&&(this.value=n.color)}).change()):"function"==typeof n.callback&&n.callback.call(n,n.color)},n.widgetCoords=function(t){return{x:t.pageX-n.offset.left-n.mid,y:t.pageY-n.offset.top-n.mid}},n.mousedown=function(i){t._farbtastic.dragging||(t(document).bind("mousemove",n.mousemove).bind("mouseup",n.mouseup),t._farbtastic.dragging=!0),n.offset=t(e).offset();var r=n.widgetCoords(i);return n.circleDrag=Math.max(Math.abs(r.x),Math.abs(r.y))>n.square+2,n.mousemove(i),!1},n.mousemove=function(t){var e=n.widgetCoords(t);if(n.circleDrag){var i=Math.atan2(e.x,-e.y)/6.28;n.setHSL([(i+1)%1,n.hsl[1],n.hsl[2]])}else{var r=Math.max(0,Math.min(1,-e.x/n.square/2+.5)),a=Math.max(0,Math.min(1,-e.y/n.square/2+.5));n.setHSL([n.hsl[0],r,a])}return!1},n.mouseup=function(){t(document).unbind("mousemove",n.mousemove),t(document).unbind("mouseup",n.mouseup),t._farbtastic.dragging=!1},n.dec2hex=function(t){return(t<16?"0":"")+t.toString(16)},n.packDX=function(t,e){return"#"+n.dec2hex(e)+n.dec2hex(t)+n.dec2hex(t)+n.dec2hex(t)},n.pack=function(t){var e=Math.round(255*t[0]),i=Math.round(255*t[1]),r=Math.round(255*t[2]);return"#"+n.dec2hex(e)+n.dec2hex(i)+n.dec2hex(r)},n.unpack=function(t){function e(e){return parseInt(t.substring(e,e+2),16)/255}function e(e){return parseInt(t.substring(e,e+1),16)/15}return 7==t.length?[e(1),e(3),e(5)]:4==t.length?[e(1),e(2),e(3)]:void 0},n.HSLToRGB=function(t){var e,i,n=t[0],r=t[1],a=t[2];return i=a<=.5?a*(r+1):a+r-a*r,e=2*a-i,[this.hueToRGB(e,i,n+.33333),this.hueToRGB(e,i,n),this.hueToRGB(e,i,n-.33333)]},n.hueToRGB=function(t,e,i){return i=(i+1)%1,6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(.66666-i)*6:t},n.RGBToHSL=function(t){var e=t[0],i=t[1],n=t[2],r=Math.min(e,i,n),a=Math.max(e,i,n),o=a-r,s=0,l=0,u=(r+a)/2;return u>0&&u<1&&(l=o/(u<.5?2*u:2-2*u)),o>0&&(a==e&&a!=i&&(s+=(i-n)/o),a==i&&a!=n&&(s+=2+(n-e)/o),a==n&&a!=e&&(s+=4+(e-i)/o),s/=6),[s,l,u]},i.callback||(i={callback:i}),i=t.extend({width:300,wheelWidth:(i.width||300)/10,callback:null},i),n.initWidget(),t("canvas.farbtastic-overlay",e).mousedown(n.mousedown),i.callback&&n.linkTo(i.callback),n.color||n.setColor("#808080")}}(t)}).call(e,i(0))},function(t,e,i){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0});var n=e.View=t.View.extend({initialize:function(e){this.collection=new t.Collection,this.model=e&&e.model||new t.Model({onchange:null,visible:!0}).set(e),this.setElement(i(this._template())),this.$nav=this.$(".tab-navigation"),this.$content=this.$(".tab-content"),this.$el.on("click",function(){i(".tooltip").hide()}),this.render(),this.listenTo(this.model,"change",this.render,this),this.listenTo(this.collection,"add",this._add,this),this.listenTo(this.collection,"remove",this._remove,this),this.listenTo(this.collection,"change",this._change,this),this.listenTo(this.collection,"reset",this._reset,this),this.listenTo(this.collection,"add remove reset",this.render,this)},render:function(){var t=this.model.get("current");t=this.$("#"+t).length>0?t:this.first(),t&&(this.$nav.children().removeClass("active"),this.$content.children().removeClass("active"),this.$("#tab-"+t).addClass("active"),this.$("#"+t).addClass("active")),this.$el[this.model.get("visible")?"fadeIn":"fadeOut"]("fast"),this.$nav[this.size()>1?"show":"hide"]()},current:function(){return this.model.get("current")},show:function(t){t&&(this.model.set({current:t,visible:!0}),this.model.get("onchange")&&this.model.get("onchange")(t))},hide:function(){this.model.set("visible",!1)},first:function(){var t=this.collection.first();return t&&t.id},size:function(){return this.collection.length},add:function(t){this.collection.add(t)},del:function(t){this.collection.remove(t)},delAll:function(){this.collection.reset()},showTab:function(t){this.collection.get(t).set("hidden",!1)},hideTab:function(t){this.collection.get(t).set("hidden",!0)},_add:function(t){var e=this,n=t.attributes;this.$content.append(i("<div/>").attr("id",n.id).addClass("tab-pane").append(n.$el)),this.$nav.append(i(this._template_tab(n)).show().tooltip({title:n.tooltip,placement:"bottom",container:e.$el}).on("click",function(t){t.preventDefault(),e.show(n.id)})),1==this.size()&&this.show(n.id)},_remove:function(t){this.$("#tab-"+t.id).remove(),this.$("#"+t.id).remove()},_reset:function(){this.$nav.empty(),this.$content.empty()},_change:function(t){this.$("#tab-"+t.id)[t.get("hidden")?"hide":"show"]()},_template:function(){return i("<div/>").addClass("ui-tabs tabbable tabs-left").append(i("<ul/>").addClass("tab-navigation nav nav-tabs")).append(i("<div/>").addClass("tab-content"))},_template_tab:function(t){var e=i("<li/>").addClass("tab-element").attr("id","tab-"+t.id).append(i("<a/>").attr("id","tab-title-link-"+t.id)),n=e.find("a");return t.icon&&n.append(i("<i/>").addClass("tab-icon fa").addClass(t.icon)),n.append(i("<span/>").attr("id","tab-title-text-"+t.id).addClass("tab-title-text").append(t.title)),e}});e.default={View:n}}).call(e,i(2),i(0))},function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(5),a=function(t){return t&&t.__esModule?t:{default:t}}(r),o=t.View.extend({initialize:function(e){this.model=e&&e.model||new t.Model({id:a.default.uid(),title:"",icon:"",cls:"btn btn-default",wait:!1,wait_text:"Sending...",wait_cls:"btn btn-info",disabled:!1,percentage:-1}).set(e),this.setElement(n("<button/>").attr("type","button").append(this.$icon=n("<i/>")).append(this.$title=n("<span/>")).append(this.$progress=n("<div/>").append(this.$progress_bar=n("<div/>")))),this.listenTo(this.model,"change",this.render,this),this.render()},render:function(){var t=this,e=this.model.attributes;this.$el.removeClass().addClass("ui-button-default").addClass(e.disabled&&"disabled").attr("id",e.id).attr("disabled",e.disabled).off("click").on("click",function(){n(".tooltip").hide(),e.onclick&&!t.disabled&&e.onclick()}).tooltip({title:e.tooltip,placement:"bottom"}),this.$progress.addClass("progress").css("display",-1!==e.percentage?"block":"none"),this.$progress_bar.addClass("progress-bar").css({width:e.percentage+"%"}),this.$icon.removeClass().addClass("icon fa"),this.$title.removeClass().addClass("title"),e.wait?(this.$el.addClass(e.wait_cls).prop("disabled",!0),this.$icon.addClass("fa-spinner fa-spin ui-margin-right"),this.$title.html(e.wait_text)):(this.$el.addClass(e.cls),this.$icon.addClass(e.icon),this.$title.html(e.title),e.icon&&e.title&&this.$icon.addClass("ui-margin-right"))},show:function(){this.$el.show()},hide:function(){this.$el.hide()},disable:function(){this.model.set("disabled",!0)},enable:function(){this.model.set("disabled",!1)},wait:function(){this.model.set("wait",!0)},unwait:function(){this.model.set("wait",!1)},setIcon:function(t){this.model.set("icon",t)}}),s=o.extend({initialize:function(e){this.model=e&&e.model||new t.Model({id:a.default.uid(),title:"",icon:"",cls:""}).set(e),this.setElement(n("<a/>").append(this.$icon=n("<span/>"))),this.listenTo(this.model,"change",this.render,this),this.render()},render:function(){var t=this.model.attributes;this.$el.removeClass().addClass(t.cls).attr({id:t.id,href:t.href||"javascript:void(0)",title:t.title,target:t.target||"_top",disabled:t.disabled}).tooltip({placement:"bottom"}).off("click").on("click",function(){t.onclick&&!t.disabled&&t.onclick()}),this.$icon.removeClass().addClass(t.icon)}}),l=t.View.extend({initialize:function(e){this.model=e&&e.model||new t.Model({id:a.default.uid(),title:"Select/Unselect all",icons:["fa-square-o","fa-minus-square-o","fa-check-square-o"],value:0,onchange:function(){}}).set(e),this.setElement(n("<div/>").append(this.$icon=n("<span/>")).append(this.$title=n("<span/>"))),this.listenTo(this.model,"change",this.render,this),this.render()},render:function(t){var e=this,t=this.model.attributes;this.$el.addClass("ui-button-check").off("click").on("click",function(){e.model.set("value",0===e.model.get("value")&&2||0),t.onclick&&t.onclick()}),this.$title.html(t.title),this.$icon.removeClass().addClass("icon fa ui-margin-right").addClass(t.icons[t.value])},value:function(t,e){return void 0!==t&&(e&&0!==t&&(t=t!==e&&1||2),this.model.set("value",t),this.model.get("onchange")(this.model.get("value"))),this.model.get("value")}}),u=o.extend({initialize:function(e){this.model=e&&e.model||new t.Model({id:a.default.uid(),title:"",icon:"",cls:"ui-button-icon",disabled:!1}).set(e),this.setElement(n("<div/>").append(this.$button=n("<div/>").append(this.$icon=n("<i/>")).append(this.$title=n("<span/>")))),this.listenTo(this.model,"change",this.render,this),this.render()},render:function(t){var t=this.model.attributes;this.$el.removeClass().addClass(t.cls).addClass(t.disabled&&"disabled").attr("disabled",t.disabled).attr("id",t.id).off("click").on("click",function(){n(".tooltip").hide(),!t.disabled&&t.onclick&&t.onclick()}),this.$button.addClass("button").tooltip({title:t.tooltip,placement:"bottom"}),this.$icon.removeClass().addClass("icon fa").addClass(t.icon),this.$title.addClass("title").html(t.title),t.icon&&t.title&&this.$icon.addClass("ui-margin-right")}}),c=o.extend({$menu:null,initialize:function(e){this.model=e&&e.model||new t.Model({id:"",title:"",pull:"right",icon:null,onclick:null,cls:"ui-button-icon ui-button-menu",tooltip:"",target:"",href:"",onunload:null,visible:!0,tag:""}).set(e),this.collection=new t.Collection,this.setElement(n("<div/>").append(this.$root=n("<div/>").append(this.$icon=n("<i/>")).append(this.$title=n("<span/>")))),this.listenTo(this.model,"change",this.render,this),this.listenTo(this.collection,"change add remove reset",this.render,this),this.render()},render:function(){var t=this,e=this.model.attributes;this.$el.removeClass().addClass("dropdown").addClass(e.cls).attr("id",e.id).css({display:e.visible&&this.collection.where({visible:!0}).length>0?"block":"none"}),this.$root.addClass("root button dropdown-toggle").attr("data-toggle","dropdown").tooltip({title:e.tooltip,placement:"bottom"}).off("click").on("click",function(t){n(".tooltip").hide(),t.preventDefault(),e.onclick&&e.onclick()}),this.$icon.removeClass().addClass("icon fa").addClass(e.icon),this.$title.removeClass().addClass("title").html(e.title),e.icon&&e.title&&this.$icon.addClass("ui-margin-right"),this.$menu&&this.$menu.remove(),this.collection.length>0&&(this.$menu=n("<ul/>").addClass("menu dropdown-menu").addClass("pull-"+t.model.get("pull")).attr("role","menu"),this.$el.append(this.$menu)),this.collection.each(function(e){var i=e.attributes;if(i.visible){var r=n("<a/>").addClass("dropdown-item").attr({href:i.href,target:i.target}).append(n("<i/>").addClass("fa").addClass(i.icon).css("display",i.icon?"inline-block":"none")).append(i.title).on("click",function(t){i.onclick&&(t.preventDefault(),i.onclick())});t.$menu.append(n("<li/>").append(r)),i.divider&&t.$menu.append(n("<li/>").addClass("divider"))}})},addMenu:function(t){this.collection.add(a.default.merge(t,{title:"",target:"",href:"",onclick:null,divider:!1,visible:!0,icon:null,cls:"button-menu btn-group"}))}});e.default={ButtonDefault:o,ButtonLink:s,ButtonIcon:u,ButtonCheck:l,ButtonMenu:c}}).call(e,i(2),i(0))},function(t,e,i){"use strict";(function(t,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(1),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(a),s=i(45),l=r(s),u=i(24),c=r(u),h=i(118),d=(r(h),{hidden:!1,show:function(){this.set("hidden",!1)},hide:function(){this.set("hidden",!0)},toggle:function(){this.set("hidden",!this.get("hidden"))},is_visible:function(){return!this.attributes.hidden}}),f=t.Model.extend({defaults:{name:null,label:null,type:null,value:null,html:null,num_samples:5},initialize:function(t){this.attributes.html=unescape(this.attributes.html)},copy:function(){return new f(this.toJSON())},set_value:function(t){this.set("value",t||"")}}),p=t.Collection.extend({model:f}),g=f.extend({}),m=f.extend({set_value:function(t){this.set("value",parseInt(t,10))},get_samples:function(){return d3.scale.linear().domain([this.get("min"),this.get("max")]).ticks(this.get("num_samples"))}}),v=m.extend({set_value:function(t){this.set("value",parseFloat(t))}}),_=f.extend({get_samples:function(){return o.map(this.get("options"),function(t){return t[0]})}});f.subModelTypes={integer:m,float:v,data:g,select:_};var y=t.Model.extend({defaults:{id:null,name:null,description:null,target:null,inputs:[],outputs:[]},urlRoot:Galaxy.root+"api/tools",initialize:function(t){this.set("inputs",new p(o.map(t.inputs,function(t){return new(f.subModelTypes[t.type]||f)(t)})))},toJSON:function(){var e=t.Model.prototype.toJSON.call(this);return e.inputs=this.get("inputs").map(function(t){return t.toJSON()}),e},remove_inputs:function(t){var e=this,i=e.get("inputs").filter(function(e){return-1!==t.indexOf(e.get("type"))});e.get("inputs").remove(i)},copy:function(e){var i=new y(this.toJSON());if(e){var n=new t.Collection;i.get("inputs").each(function(t){t.get_samples()&&n.push(t)}),i.set("inputs",n)}return i},apply_search_results:function(t){return-1!==o.indexOf(t,this.attributes.id)?this.show():this.hide(),this.is_visible()},set_input_value:function(t,e){this.get("inputs").find(function(e){return e.get("name")===t}).set("value",e)},set_input_values:function(t){var e=this;o.each(o.keys(t),function(i){e.set_input_value(i,t[i])})},run:function(){return this._run()},rerun:function(t,e){return this._run({action:"rerun",target_dataset_id:t.id,regions:e})},get_inputs_dict:function(){var t={};return this.get("inputs").each(function(e){t[e.get("name")]=e.get("value")}),t},_run:function(t){var e=o.extend({tool_id:this.id,inputs:this.get_inputs_dict()},t),i=n.Deferred(),r=new l.default.ServerStateDeferred({ajax_settings:{url:this.urlRoot,data:JSON.stringify(e),dataType:"json",contentType:"application/json",type:"POST"},interval:2e3,success_fn:function(t){return"pending"!==t}});return n.when(r.go()).then(function(t){i.resolve(new c.default.DatasetCollection(t))}),i}});o.extend(y.prototype,d);var b=(t.View.extend({}),t.Collection.extend({model:y})),w=t.Model.extend(d),x=t.Model.extend({defaults:{elems:[],open:!1},clear_search_results:function(){o.each(this.attributes.elems,function(t){t.show()}),this.show(),this.set("open",!1)},apply_search_results:function(t){var e,i=!0;o.each(this.attributes.elems,function(n){n instanceof w?(e=n,e.hide()):n instanceof y&&n.apply_search_results(t)&&(i=!1,e&&e.show())}),i?this.hide():(this.show(),this.set("open",!0))}});o.extend(x.prototype,d);var C=t.Model.extend({defaults:{search_hint_string:"search tools",min_chars_for_search:3,clear_btn_url:"",visible:!0,query:"",results:null,clear_key:27},urlRoot:Galaxy.root+"api/tools",initialize:function(){this.on("change:query",this.do_search)},do_search:function(){var t=this.attributes.query;if(t.length<this.attributes.min_chars_for_search)return void this.set("results",null);var e=t;this.timer&&clearTimeout(this.timer),n("#search-clear-btn").hide(),n("#search-spinner").show();var i=this;this.timer=setTimeout(function(){"undefined"!=typeof ga&&ga("send","pageview",Galaxy.root+"?q="+e),n.get(i.urlRoot,{q:e},function(t){i.set("results",t),n("#search-spinner").hide(),n("#search-clear-btn").show()},"json")},400)},clear_search:function(){this.set("query",""),this.set("results",null)}});o.extend(C.prototype,d);var k=t.Model.extend({initialize:function(e){this.attributes.tool_search=e.tool_search,this.attributes.tool_search.on("change:results",this.apply_search_results,this),this.attributes.tools=e.tools,this.attributes.layout=new t.Collection(this.parse(e.layout))},parse:function(t){var e=this,i=function t(i){var n=i.model_class;if(n.indexOf("Tool")===n.length-4)return e.attributes.tools.get(i.id);if("ToolSection"===n){var r=o.map(i.elems,t);return i.elems=r,new x(i)}return"ToolSectionLabel"===n?new w(i):void 0};return o.map(t,i)},clear_search_results:function(){this.get("layout").each(function(t){t instanceof x?t.clear_search_results():t.show()})},apply_search_results:function(){var t=this.get("tool_search").get("results");if(null===t)return void this.clear_search_results();var e=null;this.get("layout").each(function(i){i instanceof w?(e=i,e.hide()):i instanceof y?i.apply_search_results(t)&&e&&e.show():(e=null,i.apply_search_results(t))})}}),S=t.View.extend({initialize:function(){this.model.on("change:hidden",this.update_visible,this),this.update_visible()},update_visible:function(){this.model.attributes.hidden?this.$el.hide():this.$el.show()}}),T=S.extend({tagName:"div",render:function(){var t=n("<div/>");t.append($.tool_link(this.model.toJSON()));var e=this.model.get("form_style",null);if("upload1"===this.model.id)t.find("a").on("click",function(t){t.preventDefault(),Galaxy.upload.show()});else if("regular"===e){var i=this;t.find("a").on("click",function(t){t.preventDefault(),Galaxy.router.push("/",{tool_id:i.model.id,version:i.model.get("version")})})}return this.$el.append(t),this}}),A=S.extend({tagName:"div",className:"toolPanelLabel",render:function(){return this.$el.append(n("<span/>").text(this.model.attributes.text)),this}}),M=S.extend({tagName:"div",className:"toolSectionWrapper",initialize:function(){S.prototype.initialize.call(this),this.model.on("change:open",this.update_open,this)},render:function(){this.$el.append($.panel_section(this.model.toJSON()));var t=this.$el.find(".toolSectionBody");return o.each(this.model.attributes.elems,function(e){if(e instanceof y){var i=new T({model:e,className:"toolTitle"});i.render(),t.append(i.$el)}else if(e instanceof w){var n=new A({model:e});n.render(),t.append(n.$el)}}),this},events:{"click .toolSectionTitle > a":"toggle"},toggle:function(){this.model.set("open",!this.model.attributes.open)},update_open:function(){this.model.attributes.open?this.$el.children(".toolSectionBody").slideDown("fast"):this.$el.children(".toolSectionBody").slideUp("fast")}}),E=t.View.extend({tagName:"div",id:"tool-search",className:"bar",events:{click:"focus_and_select","keyup :input":"query_changed","change :input":"query_changed","click #search-clear-btn":"clear"},render:function(){return this.$el.append($.tool_search(this.model.toJSON())),this.model.is_visible()||this.$el.hide(),n("#messagebox").is(":visible")&&this.$el.css("top","95px"),this.$el.find("[title]").tooltip(),this},focus_and_select:function(){this.$el.find(":input").focus().select()},clear:function(){return this.model.clear_search(),this.$el.find(":input").val(""),this.focus_and_select(),!1},query_changed:function(t){if(this.model.attributes.clear_key&&this.model.attributes.clear_key===t.which)return this.clear(),!1;this.model.set("query",this.$el.find(":input").val())}}),O=t.View.extend({tagName:"div",className:"toolMenu",initialize:function(){this.model.get("tool_search").on("change:results",this.handle_search_results,this)},render:function(){var t=this,e=new E({model:this.model.get("tool_search")});return e.render(),t.$el.append(e.$el),this.model.get("layout").each(function(e){if(e instanceof x){var i=new M({model:e});i.render(),t.$el.append(i.$el)}else if(e instanceof y){var n=new T({model:e,className:"toolTitleNoSection"});n.render(),t.$el.append(n.$el)}else if(e instanceof w){var r=new A({model:e});r.render(),t.$el.append(r.$el)}}),t.$el.find("a.tool-link").click(function(e){var i=n(this).attr("class").split(/\s+/)[0],r=t.model.get("tools").get(i);t.trigger("tool_link_click",e,r)}),this},handle_search_results:function(){var t=this.model.get("tool_search").get("results");t&&0===t.length?n("#search-no-results").show():n("#search-no-results").hide()}}),D=t.View.extend({className:"toolForm",render:function(){this.$el.children().remove(),this.$el.append($.tool_form(this.model.toJSON()))}}),$=(t.View.extend({className:"toolMenuAndView",initialize:function(){this.tool_panel_view=new O({collection:this.collection}),this.tool_form_view=new D},render:function(){this.tool_panel_view.render(),this.tool_panel_view.$el.css("float","left"),this.$el.append(this.tool_panel_view.$el),this.tool_form_view.$el.hide(),this.$el.append(this.tool_form_view.$el);var t=this;this.tool_panel_view.on("tool_link_click",function(e,i){e.preventDefault(),t.show_tool(i)})},show_tool:function(t){var e=this;t.fetch().done(function(){e.tool_form_view.model=t,e.tool_form_view.render(),e.tool_form_view.$el.show(),n("#left").width("650px")})}}),{tool_search:o.template(['<input id="tool-search-query" class="search-query parent-width" name="query" ','placeholder="<%- search_hint_string %>" autocomplete="off" type="text" />','<a id="search-clear-btn" title="clear search (esc)"> </a>','<span id="search-spinner" class="search-spinner fa fa-spinner fa-spin"></span>'].join("")),panel_section:o.template(['<div class="toolSectionTitle" id="title_<%- id %>">','<a href="javascript:void(0)"><span><%- name %></span></a>',"</div>",'<div id="<%- id %>" class="toolSectionBody" style="display: none;">','<div class="toolSectionBg"></div>',"<div>"].join("")),tool_link:o.template(['<a class="<%- id %> tool-link" href="<%= link %>" target="<%- target %>" minsizehint="<%- min_width %>">','<span class="labels">',"<% _.each( labels, function( label ){ %>",'<span class="label label-default label-<%- label %>">',"<%- label %>","</span>","<% }); %>","</span>",'<span class="tool-old-link">',"<%- name %>","</span>"," <%- description %>","</a>"].join("")),tool_form:o.template(['<div class="toolFormTitle"><%- tool.name %> (version <%- tool.version %>)</div>','<div class="toolFormBody">',"<% _.each( tool.inputs, function( input ){ %>",'<div class="form-row">','<label for="<%- input.name %>"><%- input.label %>:</label>','<div class="form-row-input">',"<%= input.html %>","</div>",'<div class="toolParamHelp" style="clear: both;">',"<%- input.help %>","</div>",'<div style="clear: both;"></div>',"</div>","<% }); %>","</div>",'<div class="form-row form-actions">','<input type="submit" class="btn btn-primary" name="runtool_btn" value="Execute" />',"</div>",'<div class="toolHelp">','<div class="toolHelpBody"><% tool.help %></div>',"</div>"].join(""),{variable:"tool"})});e.default={ToolParameter:f,IntegerToolParameter:m,SelectToolParameter:_,Tool:y,ToolCollection:b,ToolSearch:C,ToolPanel:k,ToolPanelView:O,ToolFormView:D}}).call(e,i(2),i(0))},function(t,e,i){"use strict";(function(t,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(3),o=r(a),s=i(5),l=(r(s),i(119)),u=r(l),c=i(6),h=r(c),d=i(13),f=r(d),p=i(35),g=r(p),m=i(122),v=r(m),_=i(64),y=r(_);e.default=f.default.extend({initialize:function(t){var e=this;this.deferred=new u.default,f.default.prototype.initialize.call(this,t),this._update(this.model.get("initialmodel")),this.model.get("listen_to_history")&&parent.Galaxy&&parent.Galaxy.currHistoryPanel&&this.listenTo(parent.Galaxy.currHistoryPanel.collection,"change",function(){e.model.get("onchange")()}),this.$el.on("remove",function(){e._destroy()})},_update:function(t){var e=this;t=t||this.model.get("buildmodel"),t?(this.deferred.reset(),this.deferred.execute(function(i){t(i,e),i.then(function(){e._render()})})):this._render()},_destroy:function(){var t=this;this.$el.off().hide(),this.deferred.execute(function(){f.default.prototype.remove.call(t),Galaxy.emit.debug("tool-form-base::_destroy()","Destroy view.")})},_render:function(){var e=this,i=this.model.attributes;this.model.set({title:i.fixed_title||"<b>"+i.name+"</b> "+i.description+" (Galaxy Version "+i.version+")",operations:!i.hide_operations&&this._operations(),onchange:function(){e.deferred.reset(),e.deferred.execute(function(t){e.model.get("postchange")(t,e)})}}),this.render(),this.model.get("collapsible")||this.$el.append(t("<div/>").addClass("ui-margin-top-large").append(this._footer())),this.show_message&&this.message.update({status:"success",message:"Now you are using '"+i.name+"' version "+i.version+", id '"+i.id+"'.",persistent:!1}),this.show_message=!0},_operations:function(){var t=this,e=this.model.attributes,i=new h.default.ButtonMenu({icon:"fa-cubes",title:!e.narrow&&"Versions"||null,tooltip:"Select another tool version"});if(!e.sustain_version&&e.versions&&e.versions.length>1)for(var n in e.versions){var r=e.versions[n];r!=e.version&&i.addMenu({title:"Switch to "+r,version:r,icon:"fa-cube",onclick:function(){t.model.set("id",e.id.replace(e.version,this.version)),t.model.set("version",this.version),t._update()}})}else i.$el.hide();var a=new h.default.ButtonMenu({id:"options",icon:"fa-caret-down",title:!e.narrow&&"Options"||null,tooltip:"View available options"});return e.biostar_url&&(a.addMenu({icon:"fa-question-circle",title:"Question?",onclick:function(){window.open(e.biostar_url+"/p/new/post/")}}),a.addMenu({icon:"fa-search",title:(0,o.default)("Search"),onclick:function(){window.open(e.biostar_url+"/local/search/page/?q="+e.name)}})),a.addMenu({icon:"fa-share",title:(0,o.default)("Share"),onclick:function(){prompt("Copy to clipboard: Ctrl+C, Enter",window.location.origin+Galaxy.root+"root?tool_id="+e.id)}}),Galaxy.user&&Galaxy.user.get("is_admin")&&a.addMenu({icon:"fa-download",title:(0,o.default)("Download"),onclick:function(){window.location.href=Galaxy.root+"api/tools/"+e.id+"/download"}}),e.requirements&&e.requirements.length>0&&a.addMenu({icon:"fa-info-circle",title:(0,o.default)("Requirements"),onclick:function(){!this.requirements_visible||t.portlet.collapsed?(this.requirements_visible=!0,t.portlet.expand(),t.message.update({persistent:!0,message:t._templateRequirements(e),status:"info"})):(this.requirements_visible=!1,t.message.update({message:""}))}}),e.sharable_url&&a.addMenu({icon:"fa-external-link",title:(0,o.default)("See in Tool Shed"),onclick:function(){window.open(e.sharable_url)}}),g.default.load({type:"tool-menu",callback:function(t){t.each(function(t){var i=t.toJSON();i.activate&&i.config.function&&a.addMenu({icon:i.config.icon,title:i.config.title,onclick:function(){new Function("options",i.config.function)(e)}})})}}),{menu:a,versions:i}},_footer:function(){var e=this.model.attributes,i=t("<div/>").append(this._templateHelp(e));if(e.citations){var n=y.default.extend(v.default),r=document.createElement("div");i.append(r),new n({propsData:{id:e.id,source:"tools"}}).$mount(r)}return i},_templateHelp:function(e){var i=t("<div/>").addClass("ui-form-help").append(e.help);return i.find("a").attr("target","_blank"),i.find("img").each(function(){var e=t(this).attr("src");-1!==e.indexOf("admin_toolshed")&&t(this).attr("src",Galaxy.root+e)}),i},_templateRequirements:function(e){var i=e.requirements.length;if(i>0){var r="This tool requires ";n.each(e.requirements,function(t,e){r+=t.name+(t.version?" (Version "+t.version+")":"")+(e<i-2?", ":e==i-2?" and ":"")});var a=t("<a/>").attr("target","_blank").attr("href","https://galaxyproject.org/tools/requirements/").text("here");return t("<span/>").append(r+". Click ").append(a).append(" for more information.")}return"No requirements found."}})}).call(e,i(0),i(1))},function(t,e){function i(t,e){var i=t[1]||"",r=t[3];if(!r)return i;if(e&&"function"==typeof btoa){var a=n(r);return[i].concat(r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"})).concat([a]).join("\n")}return[i].join("\n")}function n(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=i(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},r=0;r<this.length;r++){var a=this[r][0];"number"==typeof a&&(n[a]=!0)}for(r=0;r<t.length;r++){var o=t[r];"number"==typeof o[0]&&n[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),e.push(o))}},e}},function(t,e,i){function n(t){for(var e=0;e<t.length;e++){var i=t[e],n=c[i.id];if(n){n.refs++;for(var r=0;r<n.parts.length;r++)n.parts[r](i.parts[r]);for(;r<i.parts.length;r++)n.parts.push(a(i.parts[r]));n.parts.length>i.parts.length&&(n.parts.length=i.parts.length)}else{for(var o=[],r=0;r<i.parts.length;r++)o.push(a(i.parts[r]));c[i.id]={id:i.id,refs:1,parts:o}}}}function r(){var t=document.createElement("style");return t.type="text/css",h.appendChild(t),t}function a(t){var e,i,n=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(n){if(p)return g;n.parentNode.removeChild(n)}if(m){var a=f++;n=d||(d=r()),e=o.bind(null,n,a,!1),i=o.bind(null,n,a,!0)}else n=r(),e=s.bind(null,n),i=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else i()}}function o(t,e,i,n){var r=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=v(e,r);else{var a=document.createTextNode(r),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(a,o[e]):t.appendChild(a)}}function s(t,e){var i=e.css,n=e.media,r=e.sourceMap;if(n&&t.setAttribute("media",n),r&&(i+="\n/*# sourceURL="+r.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var u=i(177),c={},h=l&&(document.head||document.getElementsByTagName("head")[0]),d=null,f=0,p=!1,g=function(){},m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,i){p=i;var r=u(t,e);return n(r),function(e){for(var i=[],a=0;a<r.length;a++){var o=r[a],s=c[o.id];s.refs--,i.push(s)}e?(r=u(t,e),n(r)):r=[];for(var a=0;a<i.length;a++){var s=i[a];if(0===s.refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete c[s.id]}}}};var v=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}()},function(t,e,i){t.exports=i(179)},function(t,e,i){"use strict";(function(e){function n(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var r=i(11),a=i(183),o={"Content-Type":"application/x-www-form-urlencoded"},s={adapter:function(){var t;return"undefined"!=typeof XMLHttpRequest?t=i(124):void 0!==e&&(t=i(124)),t}(),transformRequest:[function(t,e){return a(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(n(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(n(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};s.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(t){s.headers[t]={}}),r.forEach(["post","put","patch"],function(t){s.headers[t]=r.merge(o)}),t.exports=s}).call(e,i(182))},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(87)),n(i(88)),n(i(202))},function(t,e,i){"use strict";function n(t,e,i,n){if(void 0===n&&(n={writable:!0,enumerable:!0,configurable:!0}),!(t instanceof Object))throw new TypeError('"target" isn\'t an Object instance');if(void 0!==e){if(!(e instanceof Object))throw new TypeError('"properties" isn\'t an Object instance');if(void 0===n)n={writable:!0,enumerable:!0,configurable:!0};else if(!(n instanceof Object))throw new TypeError('"attributes" isn\'t an Object instance');if(void 0===i)for(var r in e)void 0!==e[r]&&Object.defineProperty(t,r,Object.create(n,{value:{value:e[r]}}));else if(i instanceof Array)i.forEach(function(i){void 0!==e[i]&&Object.defineProperty(t,i,Object.create(n,{value:{value:e[i]}}))});else{if(!(i instanceof Object))throw new TypeError('"keys" isn\'t an Object instance');for(var a in i){var r=i[a];void 0!==e[r]&&Object.defineProperty(t,a,Object.create(n,{value:{value:e[r]}}))}}}}function r(t,e,i,n){if(void 0===n&&(n=!0),!(t instanceof Object))throw new TypeError('"target" isn\'t an Object instance');if(void 0===e)return!0;if(!(e instanceof Object))throw new TypeError('"properties" isn\'t an Object instance');if(void 0===n&&(n=!0),void 0===i){for(var r in e)if(t[r]!==e[r]&&(void 0!==e[r]||!n))return!1}else{if(i instanceof Array)return i.every(function(i){return t[i]===e[i]||void 0===e[i]&&n});if(!(i instanceof Object))throw new TypeError('"keys" isn\'t an Object instance');for(var a in i){var r=i[a];if(t[a]!==e[r]&&(void 0!==e[r]||!n))return!1}}return!0}function a(t){return"number"==typeof t}function o(t){return"string"==typeof t}function s(t,e){if(!t)throw new Error(e);return t}function l(t,e){if(!(t instanceof Object))throw new TypeError(e||"Expected Object");return t}function u(t,e){if("string"!=typeof t)throw new TypeError(e||"Expected string");return t}function c(t,e){if(!h(t))throw new TypeError(e||"Expected Array");return t}function h(t){return!!t&&t.constructor===Array}function d(t,e){return[].concat.apply([],t.map(e))}Object.defineProperty(e,"__esModule",{value:!0}),e.updateProperties=n,e.testProperties=r,e.mustBeNumber=function(t,e){if(!a(t))throw new TypeError(e||"Expected number");return t},e.isNumber=a,e.isString=o,e.mustNotBeUndefined=s,e.mustBeObject=l,e.mustBeString=u,e.mustBeArray=c,e.isArray=h,e.mconcat=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return e.reduceRight(t)},e.snd=function(t){return t[1]},e.concatMap=d},function(t,e,i){"use strict";function n(t){return a(t)||o(t)}function r(t){return e.measureTypes.hasOwnProperty(t)}function a(t){return r(t.type)&&X.isNumber(t.value)}function o(t){return g(t.expression)}function s(t){if(void 0===t)return!1;switch(t){case"Parentheses":case"Square":case"Dollar":return!0;default:return!1}}function l(t,e){return void 0!==t&&(void 0===e?"string"==typeof t.name:e===t.name)}function u(t){return void 0!==t&&"string"==typeof t.text}function c(t){return void 0!==t&&X.isArray(t.latex)}function h(t){return t.arguments instanceof Array}function d(t){return t===J.SUP||t===J.SUB}function f(t){switch(t){case"#":return"\\#";case"$":return"\\$";case"%":return"\\%";case"^":return"\\^{}";case"&":return"\\&";case"{":return"\\{";case"}":return"\\}";case"~":return"\\~{}";case"\\":return"\\textbackslash{}";case"_":return"\\_{}";default:return t}}function p(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return 0===e.length?"string"==typeof t.type:e.some(function(e){return t.type===e})}function g(t){return v(t)||m(t)}function m(t){return O(t)||y(t)||b(t)||x(t)||C(t)||k(t)||T(t)||E(t)}function v(t){return O(t)||_(t)||b(t)||x(t)||C(t)||k(t)||T(t)||E(t)}function _(t){return void 0!==t&&void 0!==t.type&&u(t)&&p(t,e.typeTeXRaw)}function y(t){return void 0!==t&&"string"==typeof t.string&&"number"==typeof t.category}function b(t){return l(t)&&h(t)&&p(t,e.typeTeXComm,e.typeTeXCommS)}function w(t){return b(t)&&0===t.arguments.length}function x(t,i){return p(t,e.typeTeXEnv)}function C(t){return c(t)&&p(t)&&s(t.type)}function k(t){return void 0!==t&&"boolean"==typeof t.noNewPage&&(void 0===t.measure||n(t.measure))}function S(t){return d(t.type)}function T(t){return c(t)&&p(t,e.typeTeXBraces)}function A(t){return p(t,"FixArg")}function M(t){return p(t,"OptArg")}function E(t){return u(t)&&p(t,e.typeTeXComment)}function O(t){return void 0!==t&&0===Object.keys(t).length}function D(t){return{type:"FixArg",latex:t}}function $(t){return 1===t.length?{type:"OptArg",latex:t}:{type:"MOptArg",latex:t}}function j(t){return{type:"SymArg",latex:[t]}}function P(t){return{type:"ParArg",latex:[t]}}function R(t){return{type:"MOptArg",latex:t}}function I(t){return{type:"MSymArg",latex:t}}function N(t){return{type:"MParArg",latex:t}}function L(t){return{name:t,arguments:[],type:e.typeTeXCommS}}function z(t){return{text:t,type:e.typeTeXRaw,characterCategories:Y.convertToTeXCharsDefault(t)}}function H(t,e,i,n){return{latex:n,type:t,startSymbol:e,endSymbol:i}}function q(t){return{latex:[t],type:e.typeTeXBraces}}function F(t){return{text:t,type:e.typeTeXComment}}function B(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];return{name:t,arguments:i,type:e.typeTeXComm}}function V(t,e,i){return{type:t,symbol:e,arguments:i}}function U(t,i){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return{name:t,latex:i,arguments:n,type:e.typeTeXEnv}}function W(t){var e=[];return G(t,e),e.join("")}function G(t,e){if(b(t))e.push("\\",t.name),t.arguments.forEach(function(t){return G(t,e)});else{if(x(t))throw new Error("not supported yet");if(C(t))e.push(t.startSymbol),t.latex.forEach(function(t){return G(t,e)}),e.push(t.endSymbol);else if(k(t))e.push("\n");else if(S(t))e.push(t.symbol),t.arguments&&t.arguments.forEach(function(t){return G(t,e)});else if(T(t))e.push("{"),t.latex.forEach(function(t){return G(t,e)}),e.push("}");else if(E(t))e.push("%"+t.text+"\n");else if(_(t))e.push(t.text);else{if(y(t))throw new Error("not supported yet");if(A(t))e.push("{"),t.latex.forEach(function(t){return G(t,e)}),e.push("}");else{if(!M(t))throw new Error("Did not recognize "+JSON.stringify(t));e.push("["),t.latex.forEach(function(t){return G(t,e)}),e.push("]")}}}}Object.defineProperty(e,"__esModule",{value:!0});var X=i(87),Y=i(129);e.isMeasure=n,e.measureTypes={pt:!0,mm:!0,cm:!0,in:!0,ex:!0,em:!0},e.isMeasureType=r,e.isBuiltInMeasure=a,e.isCustomMeasure=o,e.mathTypes={Parentheses:"Parentheses",Square:"Square",Dollar:"Dollar"},e.isMathType=s,e.isNameHaving=l,e.isTextHaving=u,e.isLaTeXHaving=c,e.isArgumentHaving=h,e.typeTeXSeq="TeXSeq",e.typeTeXEnv="TeXEnv",e.typeTeXBraces="TeXBraces",e.typeTeXComment="TeXComment",e.typeTeXRaw="TeXRaw",e.typeTeXComm="TeXComm",e.typeTeXCommS="TeXCommS";var J;!function(t){t[t.SUP=0]="SUP",t[t.SUB=1]="SUB"}(J=e.SubOrSuperSymbol||(e.SubOrSuperSymbol={})),e.isSubOrSuperSymbol=d,e.fromStringLaTeX=function(t){return z(e.protectString(t))},e.protectString=function(t){for(var e=[],i=0;i<t.length;i++)e.push(f(t.charAt(i)));return e.join()},e.protectChar=f,e.isTypeHaving=p,e.isLaTeXBlock=g,e.isLaTeXNoRaw=m,e.isLaTeXRaw=v,e.isTeXRaw=_,e.isTeXChar=y,e.isTeXComm=b,e.isTeXCommS=w,e.isTeXEnv=x,e.isTeXMath=C,e.isTeXLineBreak=k,e.isSubOrSuperScript=S,e.isTeXBraces=T,e.isFixArg=A,e.isOptArg=M,e.isTeXComment=E,e.isTeXEmpty=O,e.newFixArg=D,e.newOptArg=$,e.newSymArg=j,e.newParArg=P,e.newMOptArg=R,e.newMSymArg=I,e.newMParArg=N,e.newCommandS=L,e.newTeXRaw=z,e.newTeXMath=H,e.newTeXBraces=q,e.newTeXMathDol=function(t){return H("Dollar","$","$",t)},e.newTeXComment=F,e.newTeXComm=B,e.newSubOrSuperScript=V,e.newTeXEnv=U,e.stringifyLaTeX=W},,,,,,,,,,,,,function(t,e,i){(function(t){/**
 * @fileOverview jquery-autocomplete, the jQuery Autocompleter
 * @author <a href="mailto:dylan@dyve.net">Dylan Verheul</a>
 * @version 2.4.4
 * @requires jQuery 1.6+
 * @license MIT | GPL | Apache 2.0, see LICENSE.txt
 * @see https://github.com/dyve/jquery-autocomplete
 */
!function(t){"use strict";t.fn.autocomplete_verheul=function(e){var i;arguments.length>1?(i=e,e=arguments[1],e.url=i):"string"==typeof e&&(i=e,e={url:i});var n=t.extend({},t.fn.autocomplete_verheul.defaults,e);return this.each(function(){var e=t(this);e.data("autocompleter",new t.Autocompleter(e,t.meta?t.extend({},n,e.data()):n))})},t.fn.autocomplete_verheul.defaults={inputClass:"acInput",loadingClass:"acLoading",resultsClass:"acResults",selectClass:"acSelect",queryParamName:"q",extraParams:{},remoteDataType:!1,lineSeparator:"\n",cellSeparator:"|",minChars:2,maxItemsToShow:10,delay:400,useCache:!0,maxCacheLength:10,matchSubset:!0,matchCase:!1,matchInside:!0,mustMatch:!1,selectFirst:!1,selectOnly:!1,showResult:null,preventDefaultReturn:1,preventDefaultTab:0,autoFill:!1,filterResults:!0,filter:!0,sortResults:!0,sortFunction:null,onItemSelect:null,onNoMatch:null,onFinish:null,matchStringConverter:null,beforeUseConverter:null,autoWidth:"min-width",useDelimiter:!1,delimiterChar:",",delimiterKeyCode:188,processData:null,onError:null,enabled:!0};var e=function(e){var i,n,r=typeof e;return"string"===r?(i=e,n={}):t.isArray(e)?(i=e[0],n=e.slice(1)):"object"===r&&(i=e.value,n=e.data),i=String(i),"object"!=typeof n&&(n={}),{value:i,data:n}},i=function(t,e,i){var n=parseInt(t,10);return i=i||{},(isNaN(n)||i.min&&n<i.min)&&(n=e),n},n=function(t,e){return[t,encodeURIComponent(e)].join("=")},r=function(e,i){var r=[];return t.each(i,function(t,e){r.push(n(t,e))}),r.length&&(e+=-1===e.indexOf("?")?"?":"&",e+=r.join("&")),e},a=function(t,e,i){return t=String(t.value),e=String(e.value),i||(t=t.toLowerCase(),e=e.toLowerCase()),t>e?1:t<e?-1:0},o=function(t,e,i){var n,r,a,o,s,l,u=[];for(l=String(t).replace("\r\n","\n").split(e),n=0;n<l.length;n++){for(o=l[n].split(i),a=[],r=0;r<o.length;r++)a.push(decodeURIComponent(o[r]));s=a.shift(),u.push({value:s,data:a})}return u};t.Autocompleter=function(e,n){if(!e||!(e instanceof t)||1!==e.length||"INPUT"!==e.get(0).tagName.toUpperCase()&&"TEXTAREA"!==e.get(0).tagName.toUpperCase())throw new Error("Invalid parameter for jquery.Autocompleter, jQuery object with one element with INPUT or TEXTAREA tag expected.");var r=this;this.options=n,this.cacheData_={},this.cacheLength_=0,this.selectClass_="jquery-autocomplete-selected-item",this.keyTimeout_=null,this.finishTimeout_=null,this.lastKeyPressed_=null,this.lastProcessedValue_=null,this.lastSelectedValue_=null,this.active_=!1,this.finishOnBlur_=!0,this.options.minChars=i(this.options.minChars,t.fn.autocomplete_verheul.defaults.minChars,{min:0}),this.options.maxItemsToShow=i(this.options.maxItemsToShow,t.fn.autocomplete_verheul.defaults.maxItemsToShow,{min:0}),this.options.maxCacheLength=i(this.options.maxCacheLength,t.fn.autocomplete_verheul.defaults.maxCacheLength,{min:1}),this.options.delay=i(this.options.delay,t.fn.autocomplete_verheul.defaults.delay,{min:0}),2!=this.options.preventDefaultReturn&&(this.options.preventDefaultReturn=this.options.preventDefaultReturn?1:0),2!=this.options.preventDefaultTab&&(this.options.preventDefaultTab=this.options.preventDefaultTab?1:0),this.dom={},this.dom.$elem=e,this.dom.$elem.attr("autocomplete","off").addClass(this.options.inputClass),this.dom.$results=t("<div></div>").hide().addClass(this.options.resultsClass).css({position:"absolute"}),t("body").append(this.dom.$results),e.keydown(function(t){switch(r.lastKeyPressed_=t.keyCode,r.lastKeyPressed_){case r.options.delimiterKeyCode:r.options.useDelimiter&&r.active_&&r.selectCurrent();break;case 35:case 36:case 16:case 17:case 18:case 37:case 39:break;case 38:return t.preventDefault(),r.active_?r.focusPrev():r.activate(),!1;case 40:return t.preventDefault(),r.active_?r.focusNext():r.activate(),!1;case 9:if(r.active_&&(r.selectCurrent(),r.options.preventDefaultTab))return t.preventDefault(),!1;if(2===r.options.preventDefaultTab)return t.preventDefault(),!1;break;case 13:if(r.active_&&(r.selectCurrent(),r.options.preventDefaultReturn))return t.preventDefault(),!1;if(2===r.options.preventDefaultReturn)return t.preventDefault(),!1;break;case 27:if(r.active_)return t.preventDefault(),r.deactivate(!0),!1;break;default:r.activate()}}),e.on("paste",function(){r.activate()});var a=function(){r.deactivate(!0)};e.blur(function(){r.finishOnBlur_&&(r.finishTimeout_=setTimeout(a,200))}),e.parents("form").on("submit",a)},t.Autocompleter.prototype.position=function(){var e=this.dom.$elem.offset(),i=this.dom.$results.outerHeight(),n=t(window).outerHeight(),r=e.top+this.dom.$elem.outerHeight(),a=r+i,o={top:r,left:e.left};if(a>n){var s=e.top-i;s>=0&&(o.top=s)}this.dom.$results.css(o)},t.Autocompleter.prototype.cacheRead=function(t){var e,i,n,r,a;if(this.options.useCache)for(t=String(t),e=t.length,i=this.options.matchSubset?1:e;i<=e;){for(r=this.options.matchInside?e-i:0,a=0;a<=r;){if(n=t.substr(0,i),void 0!==this.cacheData_[n])return this.cacheData_[n];a++}i++}return!1},t.Autocompleter.prototype.cacheWrite=function(t,e){return!!this.options.useCache&&(this.cacheLength_>=this.options.maxCacheLength&&this.cacheFlush(),t=String(t),void 0!==this.cacheData_[t]&&this.cacheLength_++,this.cacheData_[t]=e,this.cacheData_[t])},t.Autocompleter.prototype.cacheFlush=function(){this.cacheData_={},this.cacheLength_=0},t.Autocompleter.prototype.callHook=function(e,i){var n=this.options[e];return!(!n||!t.isFunction(n))&&n(i,this)},t.Autocompleter.prototype.activate=function(){if(this.options.enabled){var t=this;this.keyTimeout_&&clearTimeout(this.keyTimeout_),this.keyTimeout_=setTimeout(function(){t.activateNow()},this.options.delay)}},t.Autocompleter.prototype.activateNow=function(){var t=this.beforeUseConverter(this.dom.$elem.val());t!==this.lastProcessedValue_&&t!==this.lastSelectedValue_&&this.fetchData(t)},t.Autocompleter.prototype.fetchData=function(t){var e=this,i=function(t,i){e.options.processData&&(t=e.options.processData(t)),e.showResults(e.filterResults(t,i),i)};this.lastProcessedValue_=t,t.length<this.options.minChars?i([],t):this.options.data?i(this.options.data,t):this.fetchRemoteData(t,function(e){i(e,t)})},t.Autocompleter.prototype.fetchRemoteData=function(e,i){var n=this.cacheRead(e);if(n)i(n);else{var r=this,a="json"===r.options.remoteDataType?"json":"text",o=function(t){var n=!1;!1!==t&&(n=r.parseRemoteData(t),r.cacheWrite(e,n)),r.dom.$elem.removeClass(r.options.loadingClass),i(n)};this.dom.$elem.addClass(this.options.loadingClass),t.ajax({url:this.makeUrl(e),success:o,error:function(e,i,n){t.isFunction(r.options.onError)?r.options.onError(e,i,n):o(!1)},dataType:a})}},t.Autocompleter.prototype.setExtraParam=function(e,i){var n=t.trim(String(e));return n&&(this.options.extraParams||(this.options.extraParams={}),this.options.extraParams[n]!==i&&(this.options.extraParams[n]=i,this.cacheFlush())),this},t.Autocompleter.prototype.makeUrl=function(e){var i=this.options.url,n=t.extend({},this.options.extraParams);return!1===this.options.queryParamName?i+=encodeURIComponent(e):n[this.options.queryParamName]=e,r(i,n)},t.Autocompleter.prototype.parseRemoteData=function(e){var i,n=e;if("json"===this.options.remoteDataType){switch(i=typeof e){case"object":n=e;break;case"string":n=t.parseJSON(e);break;default:throw new Error("Unexpected remote data type: "+i)}return n}return o(n,this.options.lineSeparator,this.options.cellSeparator)},t.Autocompleter.prototype.defaultFilter=function(t,e){if(!t.value)return!1;if(this.options.filterResults){var i=this.matchStringConverter(e),n=this.matchStringConverter(t.value);this.options.matchCase||(i=i.toLowerCase(),n=n.toLowerCase());var r=n.indexOf(i);return this.options.matchInside?r>-1:0===r}return!0},t.Autocompleter.prototype.filterResult=function(e,i){return!1===this.options.filter||(t.isFunction(this.options.filter)?this.options.filter(e,i):this.defaultFilter(e,i))},t.Autocompleter.prototype.filterResults=function(t,i){var n,r,a=[];for(n=0;n<t.length;n++)r=e(t[n]),this.filterResult(r,i)&&a.push(r);return this.options.sortResults&&(a=this.sortResults(a,i)),this.options.maxItemsToShow>0&&this.options.maxItemsToShow<a.length&&(a.length=this.options.maxItemsToShow),a},t.Autocompleter.prototype.sortResults=function(e,i){var n=this,r=this.options.sortFunction;return t.isFunction(r)||(r=function(t,e,i){return a(t,e,n.options.matchCase)}),e.sort(function(t,e){return r(t,e,i,n.options)}),e},t.Autocompleter.prototype.matchStringConverter=function(e,i,n){var r=this.options.matchStringConverter;return t.isFunction(r)&&(e=r(e,i,n)),e},t.Autocompleter.prototype.beforeUseConverter=function(e){e=this.getValue(e);var i=this.options.beforeUseConverter;return t.isFunction(i)&&(e=i(e)),e},t.Autocompleter.prototype.enableFinishOnBlur=function(){this.finishOnBlur_=!0},t.Autocompleter.prototype.disableFinishOnBlur=function(){this.finishOnBlur_=!1},t.Autocompleter.prototype.createItemFromResult=function(e){var i=this,n=t("<li/>");return n.html(this.showResult(e.value,e.data)),n.data({value:e.value,data:e.data}).click(function(){i.selectItem(n)}).mousedown(i.disableFinishOnBlur).mouseup(i.enableFinishOnBlur),n},t.Autocompleter.prototype.getItems=function(){return t(">ul>li",this.dom.$results)},t.Autocompleter.prototype.showResults=function(e,i){var n,r,a,o,s=e.length,l=this,u=t("<ul></ul>"),c=!1,h=!1;if(s){for(n=0;n<s;n++)r=e[n],a=this.createItemFromResult(r),u.append(a),!1===c&&(c=String(r.value),h=a,a.addClass(this.options.firstItemClass)),n===s-1&&a.addClass(this.options.lastItemClass);this.dom.$results.html(u).show(),this.position(),this.options.autoWidth&&(o=this.dom.$elem.outerWidth()-this.dom.$results.outerWidth()+this.dom.$results.width(),this.dom.$results.css(this.options.autoWidth,o)),this.getItems().hover(function(){l.focusItem(this)},function(){}),(this.autoFill(c,i)||this.options.selectFirst||this.options.selectOnly&&1===s)&&this.focusItem(h),this.active_=!0}else this.hideResults(),this.active_=!1},t.Autocompleter.prototype.showResult=function(e,i){return t.isFunction(this.options.showResult)?this.options.showResult(e,i):t("<p></p>").text(e).html()},t.Autocompleter.prototype.autoFill=function(t,e){var i,n,r,a;if(this.options.autoFill&&8!==this.lastKeyPressed_&&(i=String(t).toLowerCase(),n=String(e).toLowerCase(),r=t.length,a=e.length,i.substr(0,a)===n)){var o=this.getDelimiterOffsets(),s=o.start?" ":"";this.setValue(s+t);var l=a+o.start+s.length,u=r+o.start+s.length;return this.selectRange(l,u),!0}return!1},t.Autocompleter.prototype.focusNext=function(){this.focusMove(1)},t.Autocompleter.prototype.focusPrev=function(){this.focusMove(-1)},t.Autocompleter.prototype.focusMove=function(e){var n=this.getItems();if(e=i(e,0))for(var r=0;r<n.length;r++)if(t(n[r]).hasClass(this.selectClass_))return void this.focusItem(r+e);this.focusItem(0)},t.Autocompleter.prototype.focusItem=function(e){var i,n=this.getItems();n.length&&(n.removeClass(this.selectClass_).removeClass(this.options.selectClass),"number"==typeof e?(e<0?e=0:e>=n.length&&(e=n.length-1),i=t(n[e])):i=t(e),i&&i.addClass(this.selectClass_).addClass(this.options.selectClass))},t.Autocompleter.prototype.selectCurrent=function(){var e=t("li."+this.selectClass_,this.dom.$results);1===e.length?this.selectItem(e):this.deactivate(!1)},t.Autocompleter.prototype.selectItem=function(t){var e=t.data("value"),i=t.data("data"),n=this.displayValue(e,i),r=this.beforeUseConverter(n);this.lastProcessedValue_=r,this.lastSelectedValue_=r;var a=this.getDelimiterOffsets(),o=this.options.delimiterChar,s=this.dom.$elem,l=0;this.options.useDelimiter&&(s.val().substring(a.start-1,a.start)==o&&" "!=o&&(n=" "+n),s.val().substring(a.end,a.end+1)!=o&&this.lastKeyPressed_!=this.options.delimiterKeyCode?n+=o:l=1),this.setValue(n),this.setCaret(a.start+n.length+l),this.callHook("onItemSelect",{value:e,data:i}),this.deactivate(!0),s.focus()},t.Autocompleter.prototype.displayValue=function(e,i){return t.isFunction(this.options.displayValue)?this.options.displayValue(e,i):e},t.Autocompleter.prototype.hideResults=function(){this.dom.$results.hide()},t.Autocompleter.prototype.deactivate=function(t){this.finishTimeout_&&clearTimeout(this.finishTimeout_),this.keyTimeout_&&clearTimeout(this.keyTimeout_),t&&(this.lastProcessedValue_!==this.lastSelectedValue_&&(this.options.mustMatch&&this.setValue(""),this.callHook("onNoMatch")),this.active_&&this.callHook("onFinish"),this.lastKeyPressed_=null,this.lastProcessedValue_=null,this.lastSelectedValue_=null,this.active_=!1),this.hideResults()},t.Autocompleter.prototype.selectRange=function(t,e){var i=this.dom.$elem.get(0);if(i.setSelectionRange)i.focus(),i.setSelectionRange(t,e);else if(i.createTextRange){var n=i.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",t),n.select()}},t.Autocompleter.prototype.setCaret=function(t){this.selectRange(t,t)},t.Autocompleter.prototype.getCaret=function(){var t,e,i,n,r,a,o=this.dom.$elem,s=o[0];return s.createTextRange?(e=document.selection,"textarea"!=s.tagName.toLowerCase()?(t=o.val(),i=e.createRange().duplicate(),i.moveEnd("character",t.length),n=""===i.text?t.length:t.lastIndexOf(i.text),i=e.createRange().duplicate(),i.moveStart("character",-t.length),r=i.text.length):(i=e.createRange(),a=i.duplicate(),a.moveToElementText(s),a.setEndPoint("EndToEnd",i),n=a.text.length-i.text.length,r=n+i.text.length)):(n=o[0].selectionStart,r=o[0].selectionEnd),{start:n,end:r}},t.Autocompleter.prototype.setValue=function(t){if(this.options.useDelimiter){var e=this.dom.$elem.val(),i=this.getDelimiterOffsets();t=e.substring(0,i.start)+t+e.substring(i.end)}this.dom.$elem.val(t)},t.Autocompleter.prototype.getValue=function(t){if(this.options.useDelimiter){var e=this.getDelimiterOffsets();return t.substring(e.start,e.end).trim()}return t},t.Autocompleter.prototype.getDelimiterOffsets=function(){var t=this.dom.$elem.val();if(this.options.useDelimiter){var e=t.substring(0,this.getCaret().start),i=e.lastIndexOf(this.options.delimiterChar)+1,n=t.substring(this.getCaret().start),r=n.indexOf(this.options.delimiterChar);-1==r&&(r=t.length),r+=this.getCaret().start}else i=0,r=t.length;return{start:i,end:r}}}(t)}).call(e,i(0))},function(t,e,i){(function(t){!function(t){function e(i){function n(){e(r)}var r=i.data||i;switch(i.type){case"mouseenter":r.dist2=0,r.event=i,i.type="hoverstart",!1!==t.event.dispatch.call(this,i)&&(r.elem=this,t.event.add(this,"mousemove",e,r),r.timer=setTimeout(n,r.delay));break;case"mousemove":r.dist2+=Math.pow(i.pageX-r.event.pageX,2)+Math.pow(i.pageY-r.event.pageY,2),r.event=i;break;case"mouseleave":clearTimeout(r.timer),r.hovered?(i.type="hoverend",t.event.dispatch.call(this,i),r.hovered--):t.event.remove(r.elem,"mousemove",e);break;default:r.dist2<=Math.pow(r.speed*(r.delay/1e3),2)?(t.event.remove(r.elem,"mousemove",e),r.event.type="hover",!1!==t.event.dispatch.call(r.elem,r.event)&&r.hovered++):r.timer=setTimeout(n,r.delay),r.dist2=0}}t.fn._hover=t.fn.hover,t.fn.hover=function(t,e,i){return i&&this.bind("hoverstart",t),e&&this.bind("hoverend",i||e),t?this.bind("hover",i?e:t):this.trigger("hover")};var i=t.event.special.hover={delay:100,speed:100,setup:function(n){n=t.extend({speed:i.speed,delay:i.delay,hovered:0},n||{}),t.event.add(this,"mouseenter mouseleave",e,n)},teardown:function(){t.event.remove(this,"mouseenter mouseleave",e)}}}(t)}).call(e,i(0))},function(t,e,i){(function(t){!function(t){t.fn.drag=function(e,i,n){var r="string"==typeof e?e:"",a=t.isFunction(e)?e:t.isFunction(i)?i:null;return 0!==r.indexOf("drag")&&(r="drag"+r),n=(e==a?i:n)||{},a?this.bind(r,n,a):this.trigger(r)};var e=t.event,i=e.special,n=i.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(e){var i=t.data(this,n.datakey),r=e.data||{};i.related+=1,t.each(n.defaults,function(t,e){void 0!==r[t]&&(i[t]=r[t])})},remove:function(){t.data(this,n.datakey).related-=1},setup:function(){if(!t.data(this,n.datakey)){var i=t.extend({related:0},n.defaults);t.data(this,n.datakey,i),e.add(this,"touchstart mousedown",n.init,i),this.attachEvent&&this.attachEvent("ondragstart",n.dontstart)}},teardown:function(){(t.data(this,n.datakey)||{}).related||(t.removeData(this,n.datakey),e.remove(this,"touchstart mousedown",n.init),n.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",n.dontstart))},init:function(r){if(!n.touched){var a,o=r.data;if(!(0!=r.which&&o.which>0&&r.which!=o.which)&&!t(r.target).is(o.not)&&(!o.handle||t(r.target).closest(o.handle,r.currentTarget).length)&&(n.touched="touchstart"==r.type?this:null,o.propagates=1,o.mousedown=this,o.interactions=[n.interaction(this,o)],o.target=r.target,o.pageX=r.pageX,o.pageY=r.pageY,o.dragging=null,a=n.hijack(r,"draginit",o),o.propagates))return a=n.flatten(a),a&&a.length&&(o.interactions=[],t.each(a,function(){o.interactions.push(n.interaction(this,o))})),o.propagates=o.interactions.length,!1!==o.drop&&i.drop&&i.drop.handler(r,o),n.textselect(!1),n.touched?e.add(n.touched,"touchmove touchend",n.handler,o):e.add(document,"mousemove mouseup",n.handler,o),!(!n.touched||o.live)&&void 0}},interaction:function(e,i){var r=t(e)[i.relative?"position":"offset"]()||{top:0,left:0};return{drag:e,callback:new n.callback,droppable:[],offset:r}},handler:function(r){var a=r.data;switch(r.type){case!a.dragging&&"touchmove":r.preventDefault();case!a.dragging&&"mousemove":if(Math.pow(r.pageX-a.pageX,2)+Math.pow(r.pageY-a.pageY,2)<Math.pow(a.distance,2))break;r.target=a.target,n.hijack(r,"dragstart",a),a.propagates&&(a.dragging=!0);case"touchmove":r.preventDefault();case"mousemove":if(a.dragging){if(n.hijack(r,"drag",a),a.propagates){!1!==a.drop&&i.drop&&i.drop.handler(r,a);break}r.type="mouseup"}case"touchend":case"mouseup":default:n.touched?e.remove(n.touched,"touchmove touchend",n.handler):e.remove(document,"mousemove mouseup",n.handler),a.dragging?(!1!==a.drop&&i.drop&&i.drop.handler(r,a),n.hijack(r,"dragend",a)):n.hijack(r,"dragclickonly",a),n.textselect(!0),!1===a.click&&a.dragging&&t.data(a.mousedown,"suppress.click",(new Date).getTime()+5),a.dragging=n.touched=!1}},hijack:function(i,r,a,o,s){if(a){var l,u,c,h={event:i.originalEvent,type:i.type},d=r.indexOf("drop")?"drag":"drop",f=o||0,p=isNaN(o)?a.interactions.length:o;i.type=r,i.originalEvent=null,a.results=[];do{if(u=a.interactions[f]){if("dragend"!==r&&u.cancelled)continue;c=n.properties(i,a,u),u.results=[],t(s||u[d]||a.droppable).each(function(o,s){if(c.target=s,i.isPropagationStopped=function(){return!1},l=s?e.dispatch.call(s,i,c):null,!1===l?("drag"==d&&(u.cancelled=!0,a.propagates-=1),"drop"==r&&(u[d][o]=null)):"dropinit"==r&&u.droppable.push(n.element(l)||s),"dragstart"==r&&(u.proxy=t(n.element(l)||u.drag)[0]),u.results.push(l),delete i.result,"dropinit"!==r)return l}),a.results[f]=n.flatten(u.results),"dropinit"==r&&(u.droppable=n.flatten(u.droppable)),"dragstart"!=r||u.cancelled||c.update()}}while(++f<p);return i.type=h.type,i.originalEvent=h.event,n.flatten(a.results)}},properties:function(t,e,i){var r=i.callback;return r.drag=i.drag,r.proxy=i.proxy||i.drag,r.startX=e.pageX,r.startY=e.pageY,r.deltaX=t.pageX-e.pageX,r.deltaY=t.pageY-e.pageY,r.originalX=i.offset.left,r.originalY=i.offset.top,r.offsetX=r.originalX+r.deltaX,r.offsetY=r.originalY+r.deltaY,r.drop=n.flatten((i.drop||[]).slice()),r.available=n.flatten((i.droppable||[]).slice()),r},element:function(t){if(t&&(t.jquery||1==t.nodeType))return t},flatten:function(e){return t.map(e,function(e){return e&&e.jquery?t.makeArray(e):e&&e.length?n.flatten(e):e})},textselect:function(e){t(document)[e?"unbind":"bind"]("selectstart",n.dontstart).css("MozUserSelect",e?"":"none"),document.unselectable=e?"off":"on"},dontstart:function(){return!1},callback:function(){}};n.callback.prototype={update:function(){i.drop&&this.available.length&&t.each(this.available,function(t){i.drop.locate(this,t)})}};var r=e.dispatch;e.dispatch=function(e){return t.data(this,"suppress."+e.type)-(new Date).getTime()>0?void t.removeData(this,"suppress."+e.type):r.apply(this,arguments)};var a=e.fixHooks.touchstart=e.fixHooks.touchmove=e.fixHooks.touchend=e.fixHooks.touchcancel={props:"clientX clientY pageX pageY screenX screenY".split(" "),filter:function(e,i){if(i){var n=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0]||null;n&&t.each(a.props,function(t,i){e[i]=n[i]})}return e}};i.draginit=i.dragstart=i.dragend=n}(t)}).call(e,i(0))},function(t,e,i){var n,r,a;/*!
 * jQuery Mousewheel 3.1.13
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 */
!function(o){r=[i(0)],n=o,void 0!==(a="function"==typeof n?n.apply(e,r):n)&&(t.exports=a)}(function(t){function e(e){var o=e||window.event,s=l.call(arguments,1),u=0,h=0,d=0,f=0,p=0,g=0;if(e=t.event.fix(o),e.type="mousewheel","detail"in o&&(d=-1*o.detail),"wheelDelta"in o&&(d=o.wheelDelta),"wheelDeltaY"in o&&(d=o.wheelDeltaY),"wheelDeltaX"in o&&(h=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(h=-1*d,d=0),u=0===d?h:d,"deltaY"in o&&(d=-1*o.deltaY,u=d),"deltaX"in o&&(h=o.deltaX,0===d&&(u=-1*h)),0!==d||0!==h){if(1===o.deltaMode){var m=t.data(this,"mousewheel-line-height");u*=m,d*=m,h*=m}else if(2===o.deltaMode){var v=t.data(this,"mousewheel-page-height");u*=v,d*=v,h*=v}if(f=Math.max(Math.abs(d),Math.abs(h)),(!a||f<a)&&(a=f,n(o,f)&&(a/=40)),n(o,f)&&(u/=40,h/=40,d/=40),u=Math[u>=1?"floor":"ceil"](u/a),h=Math[h>=1?"floor":"ceil"](h/a),d=Math[d>=1?"floor":"ceil"](d/a),c.settings.normalizeOffset&&this.getBoundingClientRect){var _=this.getBoundingClientRect();p=e.clientX-_.left,g=e.clientY-_.top}return e.deltaX=h,e.deltaY=d,e.deltaFactor=a,e.offsetX=p,e.offsetY=g,e.deltaMode=0,s.unshift(e,u,h,d),r&&clearTimeout(r),r=setTimeout(i,200),(t.event.dispatch||t.event.handle).apply(this,s)}}function i(){a=null}function n(t,e){return c.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}var r,a,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(t.event.fixHooks)for(var u=o.length;u;)t.event.fixHooks[o[--u]]=t.event.mouseHooks;var c=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=s.length;i;)this.addEventListener(s[--i],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",c.getLineHeight(this)),t.data(this,"mousewheel-page-height",c.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=s.length;i;)this.removeEventListener(s[--i],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var i=t(e),n=i["offsetParent"in t.fn?"offsetParent":"parent"]();return n.length||(n=t("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})})},function(t,e,i){(function(t,e){t&&function(t){if(!t.support.opacity&&!t.support.style)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(t){}t.fn.rating=function(e){if(0==this.length)return this;if("string"==typeof arguments[0]){if(this.length>1){var i=arguments;return this.each(function(){t.fn.rating.apply(t(this),i)})}return t.fn.rating[arguments[0]].apply(this,t.makeArray(arguments).slice(1)||[]),this}var e=t.extend({},t.fn.rating.options,e||{});return t.fn.rating.calls++,this.not(".star-rating-applied").addClass("star-rating-applied").each(function(){var i,n=t(this),r=(this.name||"unnamed-rating").replace(/\[|\]/g,"_").replace(/^\_+|\_+$/g,""),a=t(this.form||document.body),o=a.data("rating");o&&o.call==t.fn.rating.calls||(o={count:0,call:t.fn.rating.calls});var s=o[r]||a.data("rating"+r);s&&(i=s.data("rating")),s&&i?i.count++:(i=t.extend({},e||{},(t.metadata?n.metadata():t.meta?n.data():null)||{},{count:0,stars:[],inputs:[]}),i.serial=o.count++,s=t('<span class="star-rating-control"/>'),n.before(s),s.addClass("rating-to-be-drawn"),(n.attr("disabled")||n.hasClass("disabled"))&&(i.readOnly=!0),n.hasClass("required")&&(i.required=!0),s.append(i.cancel=t('<div class="rating-cancel"><a title="'+i.cancel+'">'+i.cancelValue+"</a></div>").on("mouseover",function(){t(this).rating("drain"),t(this).addClass("star-rating-hover")}).on("mouseout",function(){t(this).rating("draw"),t(this).removeClass("star-rating-hover")}).on("click",function(){t(this).rating("select")}).data("rating",i)));var l=t('<div role="text" aria-label="'+this.title+'" class="star-rating rater-'+i.serial+'"><a title="'+(this.title||this.value)+'">'+this.value+"</a></div>");if(s.append(l),this.id&&l.attr("id",this.id),this.className&&l.addClass(this.className),i.half&&(i.split=2),"number"==typeof i.split&&i.split>0){var u=(t.fn.width?l.width():0)||i.starWidth,c=i.count%i.split,h=Math.floor(u/i.split);l.width(h).find("a").css({"margin-left":"-"+c*h+"px"})}i.readOnly?l.addClass("star-rating-readonly"):l.addClass("star-rating-live").on("mouseover",function(){t(this).rating("fill"),t(this).rating("focus")}).on("mouseout",function(){t(this).rating("draw"),t(this).rating("blur")}).on("click",function(){t(this).rating("select")}),this.checked&&(i.current=l),"A"==this.nodeName&&t(this).hasClass("selected")&&(i.current=l),n.hide(),n.on("change.rating",function(e){if(e.selfTriggered)return!1;t(this).rating("select")}),l.data("rating.input",n.data("rating.star",l)),i.stars[i.stars.length]=l[0],i.inputs[i.inputs.length]=n[0],i.rater=o[r]=s,i.context=a,n.data("rating",i),s.data("rating",i),l.data("rating",i),a.data("rating",o),a.data("rating"+r,s)}),t(".rating-to-be-drawn").rating("draw").removeClass("rating-to-be-drawn"),this},t.extend(t.fn.rating,{calls:0,focus:function(){var e=this.data("rating");if(!e)return this;if(!e.focus)return this;var i=t(this).data("rating.input")||t("INPUT"==this.tagName?this:null);e.focus&&e.focus.apply(i[0],[i.val(),t("a",i.data("rating.star"))[0]])},blur:function(){var e=this.data("rating");if(!e)return this;if(!e.blur)return this;var i=t(this).data("rating.input")||t("INPUT"==this.tagName?this:null);e.blur&&e.blur.apply(i[0],[i.val(),t("a",i.data("rating.star"))[0]])},fill:function(){var t=this.data("rating");if(!t)return this;t.readOnly||(this.rating("drain"),this.prevAll().addBack().filter(".rater-"+t.serial).addClass("star-rating-hover"))},drain:function(){var t=this.data("rating");if(!t)return this;t.readOnly||t.rater.children().filter(".rater-"+t.serial).removeClass("star-rating-on").removeClass("star-rating-hover")},draw:function(){var e=this.data("rating");if(!e)return this;this.rating("drain");var i=t(e.current),n=i.length?i.prevAll().addBack().filter(".rater-"+e.serial):null;n&&n.addClass("star-rating-on"),e.cancel[e.readOnly||e.required?"hide":"show"](),this.siblings()[e.readOnly?"addClass":"removeClass"]("star-rating-readonly")},select:function(e,i){var n=this.data("rating");if(!n)return this;if(!n.readOnly){if(n.current=null,void 0!==e||this.length>1){if("number"==typeof e)return t(n.stars[e]).rating("select",void 0,i);if("string"==typeof e)return t.each(n.stars,function(){t(this).data("rating.input").val()==e&&t(this).rating("select",void 0,i)}),this}else n.current="INPUT"==this[0].tagName?this.data("rating.star"):this.is(".rater-"+n.serial)?this:null;this.data("rating",n),this.rating("draw");var r=t(n.current?n.current.data("rating.input"):null),a=t(n.inputs).filter(":checked");return t(n.inputs).not(r).prop("checked",!1),r.prop("checked",!0),t(r.length?r:a).trigger({type:"change",selfTriggered:!0}),(i||void 0==i)&&n.callback&&n.callback.apply(r[0],[r.val(),t("a",n.current)[0]]),this}},readOnly:function(e,i){var n=this.data("rating");if(!n)return this;n.readOnly=!(!e&&void 0!=e),i?t(n.inputs).attr("disabled","disabled"):t(n.inputs).removeAttr("disabled"),this.data("rating",n),this.rating("draw")},disable:function(){this.rating("readOnly",!0,!0)},enable:function(){this.rating("readOnly",!1,!1)}}),t.fn.rating.options={cancel:"Cancel Rating",cancelValue:"",split:0,starWidth:16},t(function(){t("input[type=radio].star").rating()})}(e)}).call(e,i(0),i(0))},function(t,e,i){(function(t){!function(t){void 0===t.fn.each2&&t.extend(t.fn,{each2:function(e){for(var i=t([0]),n=-1,r=this.length;++n<r&&(i.context=i[0]=this[n])&&!1!==e.call(i[0],n,i););return this}})}(t),function(t,e){"use strict";function i(e){var i=t(document.createTextNode(""));e.before(i),i.before(e),i.remove()}function n(t){function e(t){return H[t]||t}return t.replace(/[^\u0000-\u007E]/g,e)}function r(t,e){for(var i=0,n=e.length;i<n;i+=1)if(o(t,e[i]))return i;return-1}function a(){var e=t(z);e.appendTo("body");var i={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),i}function o(t,i){return t===i||t!==e&&i!==e&&(null!==t&&null!==i&&(t.constructor===String?t+""==i+"":i.constructor===String&&i+""==t+""))}function s(e,i){var n,r,a;if(null===e||e.length<1)return[];for(n=e.split(i),r=0,a=n.length;r<a;r+=1)n[r]=t.trim(n[r]);return n}function l(t){return t.outerWidth(!1)-t.width()}function u(i){var n="keyup-change-value";i.on("keydown",function(){t.data(i,n)===e&&t.data(i,n,i.val())}),i.on("keyup",function(){var r=t.data(i,n);r!==e&&i.val()!==r&&(t.removeData(i,n),i.trigger("keyup-change"))})}function c(i){i.on("mousemove",function(i){var n=L;n!==e&&n.x===i.pageX&&n.y===i.pageY||t(i.target).trigger("mousemove-filtered",i)})}function h(t,i,n){n=n||e;var r;return function(){var e=arguments;window.clearTimeout(r),r=window.setTimeout(function(){i.apply(n,e)},t)}}function d(t,e){var i=h(t,function(t){e.trigger("scroll-debounced",t)});e.on("scroll",function(t){r(t.target,e.get())>=0&&i(t)})}function f(t){t[0]!==document.activeElement&&window.setTimeout(function(){var e,i=t[0],n=t.val().length;t.focus(),(i.offsetWidth>0||i.offsetHeight>0)&&i===document.activeElement&&(i.setSelectionRange?i.setSelectionRange(n,n):i.createTextRange&&(e=i.createTextRange(),e.collapse(!1),e.select()))},0)}function p(e){e=t(e)[0];var i=0,n=0;if("selectionStart"in e)i=e.selectionStart,n=e.selectionEnd-i;else if("selection"in document){e.focus();var r=document.selection.createRange();n=document.selection.createRange().text.length,r.moveStart("character",-e.value.length),i=r.text.length-n}return{offset:i,length:n}}function g(t){t.preventDefault(),t.stopPropagation()}function m(t){t.preventDefault(),t.stopImmediatePropagation()}function v(e){if(!R){var i=e[0].currentStyle||window.getComputedStyle(e[0],null);R=t(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:i.fontSize,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fontWeight:i.fontWeight,letterSpacing:i.letterSpacing,textTransform:i.textTransform,whiteSpace:"nowrap"}),R.attr("class","select2-sizer"),t("body").append(R)}return R.text(e.val()),R.width()}function _(e,i,n){var r,a,o=[];r=t.trim(e.attr("class")),r&&(r=""+r,t(r.split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&o.push(this)})),r=t.trim(i.attr("class")),r&&(r=""+r,t(r.split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(a=n(this))&&o.push(a)})),e.attr("class",o.join(" "))}function y(t,e,i,r){var a=n(t.toUpperCase()).indexOf(n(e.toUpperCase())),o=e.length;if(a<0)return void i.push(r(t));i.push(r(t.substring(0,a))),i.push("<span class='select2-match'>"),i.push(r(t.substring(a,a+o))),i.push("</span>"),i.push(r(t.substring(a+o,t.length)))}function b(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})}function w(i){var n,r=null,a=i.quietMillis||100,o=i.url,s=this;return function(l){window.clearTimeout(n),n=window.setTimeout(function(){var n=i.data,a=o,u=i.transport||t.fn.select2.ajaxDefaults.transport,c={type:i.type||"GET",cache:i.cache||!1,jsonpCallback:i.jsonpCallback||e,dataType:i.dataType||"json"},h=t.extend({},t.fn.select2.ajaxDefaults.params,c);n=n?n.call(s,l.term,l.page,l.context):null,a="function"==typeof a?a.call(s,l.term,l.page,l.context):a,r&&"function"==typeof r.abort&&r.abort(),i.params&&(t.isFunction(i.params)?t.extend(h,i.params.call(s)):t.extend(h,i.params)),t.extend(h,{url:a,dataType:i.dataType,data:n,success:function(t){var e=i.results(t,l.page,l);l.callback(e)},error:function(t,e,i){var n={hasError:!0,jqXHR:t,textStatus:e,errorThrown:i};l.callback(n)}}),r=u.call(s,h)},a)}}function x(e){var i,n,r=e,a=function(t){return""+t.text};t.isArray(r)&&(n=r,r={results:n}),!1===t.isFunction(r)&&(n=r,r=function(){return n});var o=r();return o.text&&(a=o.text,t.isFunction(a)||(i=o.text,a=function(t){return t[i]})),function(e){var i,n=e.term,o={results:[]};if(""===n)return void e.callback(r());i=function(r,o){var s,l;if(r=r[0],r.children){s={};for(l in r)r.hasOwnProperty(l)&&(s[l]=r[l]);s.children=[],t(r.children).each2(function(t,e){i(e,s.children)}),(s.children.length||e.matcher(n,a(s),r))&&o.push(s)}else e.matcher(n,a(r),r)&&o.push(r)},t(r().results).each2(function(t,e){i(e,o.results)}),e.callback(o)}}function C(i){var n=t.isFunction(i);return function(r){var a=r.term,o={results:[]},s=n?i(r):i;t.isArray(s)&&(t(s).each(function(){var t=this.text!==e,i=t?this.text:this;(""===a||r.matcher(a,i))&&o.results.push(t?this:{id:this,text:this})}),r.callback(o))}}function k(e,i){if(t.isFunction(e))return!0;if(!e)return!1;if("string"==typeof e)return!0;throw new Error(i+" must be a string, function, or falsy value")}function S(e,i){if(t.isFunction(e)){var n=Array.prototype.slice.call(arguments,2);return e.apply(i,n)}return e}function T(e){var i=0;return t.each(e,function(t,e){e.children?i+=T(e.children):i++}),i}function A(t,i,n,r){var a,s,l,u,c,h=t,d=!1;if(!r.createSearchChoice||!r.tokenSeparators||r.tokenSeparators.length<1)return e;for(;;){for(s=-1,l=0,u=r.tokenSeparators.length;l<u&&(c=r.tokenSeparators[l],!((s=t.indexOf(c))>=0));l++);if(s<0)break;if(a=t.substring(0,s),t=t.substring(s+c.length),a.length>0&&(a=r.createSearchChoice.call(this,a,i))!==e&&null!==a&&r.id(a)!==e&&null!==r.id(a)){for(d=!1,l=0,u=i.length;l<u;l++)if(o(r.id(a),r.id(i[l]))){d=!0;break}d||n(a)}}return h!==t?t:void 0}function M(){var e=this;t.each(arguments,function(t,i){e[i].remove(),e[i]=null})}function E(e,i){var n=function(){};return n.prototype=new e,n.prototype.constructor=n,n.prototype.parent=e.prototype,n.prototype=t.extend(n.prototype,i),n}if(window.Select2===e){var O,D,$,j,P,R,I,N,L={x:0,y:0},O={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case O.LEFT:case O.RIGHT:case O.UP:case O.DOWN:return!0}return!1},isControl:function(t){switch(t.which){case O.SHIFT:case O.CTRL:case O.ALT:return!0}return!!t.metaKey},isFunctionKey:function(t){return(t=t.which?t.which:t)>=112&&t<=123}},z="<div class='select2-measure-scrollbar'></div>",H={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"};I=t(document),P=function(){var t=1;return function(){return t++}}(),D=E(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(i){var n,r;this.opts=i=this.prepareOpts(i),this.id=i.id,i.element.data("select2")!==e&&null!==i.element.data("select2")&&i.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(i.element.attr("id")||"autogen"+P()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",i.element.attr("title")),this.body=t("body"),_(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",i.element.attr("style")),this.container.css(S(i.containerCss,this.opts.element)),this.container.addClass(S(i.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",g),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),_(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(S(i.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",g),this.results=n=this.container.find(".select2-results"),this.search=r=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",g),c(this.results),this.dropdown.on("mousemove-filtered",".select2-results",this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",".select2-results",this.bind(function(t){this._touchEvent=!0,this.highlightUnderEvent(t)})),this.dropdown.on("touchmove",".select2-results",this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",".select2-results",this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(t){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),d(80,this.results),this.dropdown.on("scroll-debounced",".select2-results",this.bind(this.loadMoreIfNeeded)),t(this.container).on("change",".select2-input",function(t){t.stopPropagation()}),t(this.dropdown).on("change",".select2-input",function(t){t.stopPropagation()}),t.fn.mousewheel&&n.mousewheel(function(t,e,i,r){var a=n.scrollTop();r>0&&a-r<=0?(n.scrollTop(0),g(t)):r<0&&n.get(0).scrollHeight-n.scrollTop()+r<=n.height()&&(n.scrollTop(n.get(0).scrollHeight-n.height()),g(t))}),u(r),r.on("keyup-change input paste",this.bind(this.updateResults)),r.on("focus",function(){r.addClass("select2-focused")}),r.on("blur",function(){r.removeClass("select2-focused")}),this.dropdown.on("mouseup",".select2-results",this.bind(function(e){t(e.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(e),this.selectHighlighted(e))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(t){t.stopPropagation()}),this.nextSearchTerm=e,t.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==i.maximumInputLength&&this.search.attr("maxlength",i.maximumInputLength);var o=i.element.prop("disabled");o===e&&(o=!1),this.enable(!o);var s=i.element.prop("readonly");s===e&&(s=!1),this.readonly(s),N=N||a(),this.autofocus=i.element.prop("autofocus"),i.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",i.searchInputPlaceholder)},destroy:function(){var t=this.opts.element,i=t.data("select2"),n=this;this.close(),t.length&&t[0].detachEvent&&t.each(function(){this.detachEvent("onpropertychange",n._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,i!==e&&(i.container.remove(),i.liveRegion.remove(),i.dropdown.remove(),t.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?t.attr({tabindex:this.elementTabIndex}):t.removeAttr("tabindex"),t.show()),M.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(t){return t.is("option")?{id:t.prop("value"),text:t.text(),element:t.get(),css:t.attr("class"),disabled:t.prop("disabled"),locked:o(t.attr("locked"),"locked")||o(t.data("locked"),!0)}:t.is("optgroup")?{text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")}:void 0},prepareOpts:function(i){var n,r,a,l,u=this;if(n=i.element,"select"===n.get(0).tagName.toLowerCase()&&(this.select=r=i.element),r&&t.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in i)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),i=t.extend({},{populateResults:function(n,r,a){var o,s=this.opts.id,l=this.liveRegion;(o=function(n,r,c){var h,d,f,p,g,m,v,_,y,b;n=i.sortResults(n,r,a);var w=[];for(h=0,d=n.length;h<d;h+=1)f=n[h],g=!0===f.disabled,p=!g&&s(f)!==e,m=f.children&&f.children.length>0,v=t("<li></li>"),v.addClass("select2-results-dept-"+c),v.addClass("select2-result"),v.addClass(p?"select2-result-selectable":"select2-result-unselectable"),g&&v.addClass("select2-disabled"),m&&v.addClass("select2-result-with-children"),v.addClass(u.opts.formatResultCssClass(f)),v.attr("role","presentation"),_=t(document.createElement("div")),_.addClass("select2-result-label"),_.attr("id","select2-result-label-"+P()),_.attr("role","option"),b=i.formatResult(f,_,a,u.opts.escapeMarkup),b!==e&&(_.html(b),v.append(_)),m&&(y=t("<ul></ul>"),y.addClass("select2-result-sub"),o(f.children,y,c+1),v.append(y)),v.data("select2-data",f),w.push(v[0]);r.append(w),l.text(i.formatMatches(n.length))})(r,n,0)}},t.fn.select2.defaults,i),"function"!=typeof i.id&&(a=i.id,i.id=function(t){return t[a]}),t.isArray(i.element.data("select2Tags"))){if("tags"in i)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+i.element.attr("id");i.tags=i.element.data("select2Tags")}if(r?(i.query=this.bind(function(t){var i,r,a,o={results:[],more:!1},s=t.term;a=function(e,i){var n;e.is("option")?t.matcher(s,e.text(),e)&&i.push(u.optionToData(e)):e.is("optgroup")&&(n=u.optionToData(e),e.children().each2(function(t,e){a(e,n.children)}),n.children.length>0&&i.push(n))},i=n.children(),this.getPlaceholder()!==e&&i.length>0&&(r=this.getPlaceholderOption())&&(i=i.not(r)),i.each2(function(t,e){a(e,o.results)}),t.callback(o)}),i.id=function(t){return t.id}):"query"in i||("ajax"in i?(l=i.element.data("ajax-url"),l&&l.length>0&&(i.ajax.url=l),i.query=w.call(i.element,i.ajax)):"data"in i?i.query=x(i.data):"tags"in i&&(i.query=C(i.tags),i.createSearchChoice===e&&(i.createSearchChoice=function(e){return{id:t.trim(e),text:t.trim(e)}}),i.initSelection===e&&(i.initSelection=function(e,n){var r=[];t(s(e.val(),i.separator)).each(function(){var e={id:this,text:this},n=i.tags;t.isFunction(n)&&(n=n()),t(n).each(function(){if(o(this.id,e.id))return e=this,!1}),r.push(e)}),n(r)}))),"function"!=typeof i.query)throw"query function not defined for Select2 "+i.element.attr("id");if("top"===i.createSearchChoicePosition)i.createSearchChoicePosition=function(t,e){t.unshift(e)};else if("bottom"===i.createSearchChoicePosition)i.createSearchChoicePosition=function(t,e){t.push(e)};else if("function"!=typeof i.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return i},monitorSource:function(){var i,n=this.opts.element,r=this;n.on("change.select2",this.bind(function(t){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()})),this._sync=this.bind(function(){var t=n.prop("disabled");t===e&&(t=!1),this.enable(!t);var i=n.prop("readonly");i===e&&(i=!1),this.readonly(i),_(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(S(this.opts.containerCssClass,this.opts.element)),_(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(S(this.opts.dropdownCssClass,this.opts.element))}),n.length&&n[0].attachEvent&&n.each(function(){this.attachEvent("onpropertychange",r._sync)}),(i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)!==e&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new i(function(e){t.each(e,r._sync)}),this.propertyObserver.observe(n.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(e){var i=t.Event("select2-selecting",{val:this.id(e),object:e,choice:e});return this.opts.element.trigger(i),!i.isDefaultPrevented()},triggerChange:function(e){e=e||{},e=t.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var t=this._enabled&&!this._readonly,e=!t;return t!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",e),this.close(),this.enabledInterface=t,!0)},enable:function(t){t===e&&(t=!0),this._enabled!==t&&(this._enabled=t,this.opts.element.prop("disabled",!t),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(t){t===e&&(t=!1),this._readonly!==t&&(this._readonly=t,this.opts.element.prop("readonly",t),this.enableInterface())},opened:function(){return!!this.container&&this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var e,i,n,r,a,o=this.dropdown,s=this.container.offset(),l=this.container.outerHeight(!1),u=this.container.outerWidth(!1),c=o.outerHeight(!1),h=t(window),d=h.width(),f=h.height(),p=h.scrollLeft()+d,g=h.scrollTop()+f,m=s.top+l,v=s.left,_=m+c<=g,y=s.top-c>=h.scrollTop(),b=o.outerWidth(!1),w=v+b<=p,x=o.hasClass("select2-drop-above");x?(i=!0,!y&&_&&(n=!0,i=!1)):(i=!1,!_&&y&&(n=!0,i=!0)),n&&(o.hide(),s=this.container.offset(),l=this.container.outerHeight(!1),u=this.container.outerWidth(!1),c=o.outerHeight(!1),p=h.scrollLeft()+d,g=h.scrollTop()+f,m=s.top+l,v=s.left,b=o.outerWidth(!1),w=v+b<=p,o.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(a=t(".select2-results",o)[0],o.addClass("select2-drop-auto-width"),o.css("width",""),b=o.outerWidth(!1)+(a.scrollHeight===a.clientHeight?0:N.width),b>u?u=b:b=u,c=o.outerHeight(!1),w=v+b<=p):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(e=this.body.offset(),m-=e.top,v-=e.left),w||(v=s.left+this.container.outerWidth(!1)-b),r={left:v,width:u},i?(r.top=s.top-c,r.bottom="auto",this.container.addClass("select2-drop-above"),o.addClass("select2-drop-above")):(r.top=m,r.bottom="auto",this.container.removeClass("select2-drop-above"),o.removeClass("select2-drop-above")),r=t.extend(r,S(this.opts.dropdownCss,this.opts.element)),o.css(r)},shouldOpen:function(){var e;return!this.opened()&&(!1!==this._enabled&&!0!==this._readonly&&(e=t.Event("select2-opening"),this.opts.element.trigger(e),!e.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),I.on("mousemove.select2Event",function(t){L.x=t.pageX,L.y=t.pageY}),!0)},opening:function(){var e,n=this.containerEventName,r="scroll."+n,a="resize."+n,o="orientationchange."+n;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),e=t("#select2-drop-mask"),0==e.length&&(e=t(document.createElement("div")),e.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),e.hide(),e.appendTo(this.body),e.on("mousedown touchstart click",function(n){i(e);var r,a=t("#select2-drop");a.length>0&&(r=a.data("select2"),r.opts.selectOnBlur&&r.selectHighlighted({noFocus:!0}),r.close(),n.preventDefault(),n.stopPropagation())})),this.dropdown.prev()[0]!==e[0]&&this.dropdown.before(e),t("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),e.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var s=this;this.container.parents().add(window).each(function(){t(this).on(a+" "+r+" "+o,function(t){s.opened()&&s.positionDropdown()})})},close:function(){if(this.opened()){var e=this.containerEventName,i="scroll."+e,n="resize."+e,r="orientationchange."+e;this.container.parents().add(window).each(function(){t(this).off(i).off(n).off(r)}),this.clearDropdownAlignmentPreference(),t("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),I.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(t.Event("select2-close"))}},externalSearch:function(t){this.open(),this.search.val(t),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return S(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var e,i,n,r,a,o,s,l,u=this.results;if(!((i=this.highlight())<0)){if(0==i)return void u.scrollTop(0);e=this.findHighlightableChoices().find(".select2-result-label"),n=t(e[i]),l=(n.offset()||{}).top||0,r=l+n.outerHeight(!0),i===e.length-1&&(s=u.find("li.select2-more-results"),s.length>0&&(r=s.offset().top+s.outerHeight(!0))),a=u.offset().top+u.outerHeight(!0),r>a&&u.scrollTop(u.scrollTop()+(r-a)),o=l-u.offset().top,o<0&&"none"!=n.css("display")&&u.scrollTop(u.scrollTop()+o)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(e){for(var i=this.findHighlightableChoices(),n=this.highlight();n>-1&&n<i.length;){n+=e;var r=t(i[n]);if(r.hasClass("select2-result-selectable")&&!r.hasClass("select2-disabled")&&!r.hasClass("select2-selected")){this.highlight(n);break}}},highlight:function(e){var i,n,a=this.findHighlightableChoices();if(0===arguments.length)return r(a.filter(".select2-highlighted")[0],a.get());e>=a.length&&(e=a.length-1),e<0&&(e=0),this.removeHighlight(),i=t(a[e]),i.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",i.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(i.text()),(n=i.data("select2-data"))&&this.opts.element.trigger({type:"select2-highlight",val:this.id(n),choice:n})},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(e){var i=t(e.target).closest(".select2-result-selectable");if(i.length>0&&!i.is(".select2-highlighted")){var n=this.findHighlightableChoices();this.highlight(n.index(i))}else 0==i.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var t=this.results,e=t.find("li.select2-more-results"),i=this.resultsPage+1,n=this,r=this.search.val(),a=this.context;0!==e.length&&e.offset().top-t.offset().top-t.height()<=this.opts.loadMorePadding&&(e.addClass("select2-active"),this.opts.query({element:this.opts.element,term:r,page:i,context:a,matcher:this.opts.matcher,callback:this.bind(function(o){n.opened()&&(n.opts.populateResults.call(this,t,o.results,{term:r,page:i,context:a}),n.postprocessResults(o,!1,!1),!0===o.more?(e.detach().appendTo(t).text(S(n.opts.formatLoadMore,n.opts.element,i+1)),window.setTimeout(function(){n.loadMoreIfNeeded()},10)):e.remove(),n.positionDropdown(),n.resultsPage=i,n.context=o.context,this.opts.element.trigger({type:"select2-loaded",items:o}))})}))},tokenize:function(){},updateResults:function(i){function n(){u.removeClass("select2-active"),d.positionDropdown(),c.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?d.liveRegion.text(c.text()):d.liveRegion.text(d.opts.formatMatches(c.find(".select2-result-selectable").length))}function r(t){c.html(t),n()}var a,s,l,u=this.search,c=this.results,h=this.opts,d=this,f=u.val(),p=t.data(this.container,"select2-last-term");if((!0===i||!p||!o(f,p))&&(t.data(this.container,"select2-last-term",f),!0===i||!1!==this.showSearchInput&&this.opened())){l=++this.queryCount;var g=this.getMaximumSelectionSize();if(g>=1&&(a=this.data(),t.isArray(a)&&a.length>=g&&k(h.formatSelectionTooBig,"formatSelectionTooBig")))return void r("<li class='select2-selection-limit'>"+S(h.formatSelectionTooBig,h.element,g)+"</li>");if(u.val().length<h.minimumInputLength)return r(k(h.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+S(h.formatInputTooShort,h.element,u.val(),h.minimumInputLength)+"</li>":""),void(i&&this.showSearch&&this.showSearch(!0));if(h.maximumInputLength&&u.val().length>h.maximumInputLength)return void r(k(h.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+S(h.formatInputTooLong,h.element,u.val(),h.maximumInputLength)+"</li>":"");h.formatSearching&&0===this.findHighlightableChoices().length&&r("<li class='select2-searching'>"+S(h.formatSearching,h.element)+"</li>"),u.addClass("select2-active"),this.removeHighlight(),s=this.tokenize(),s!=e&&null!=s&&u.val(s),this.resultsPage=1,h.query({element:h.element,term:u.val(),page:this.resultsPage,context:null,matcher:h.matcher,callback:this.bind(function(a){var s;if(l==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(a.hasError!==e&&k(h.formatAjaxError,"formatAjaxError"))return void r("<li class='select2-ajax-error'>"+S(h.formatAjaxError,h.element,a.jqXHR,a.textStatus,a.errorThrown)+"</li>");if(this.context=a.context===e?null:a.context,this.opts.createSearchChoice&&""!==u.val()&&(s=this.opts.createSearchChoice.call(d,u.val(),a.results))!==e&&null!==s&&d.id(s)!==e&&null!==d.id(s)&&0===t(a.results).filter(function(){return o(d.id(this),d.id(s))}).length&&this.opts.createSearchChoicePosition(a.results,s),0===a.results.length&&k(h.formatNoMatches,"formatNoMatches"))return void r("<li class='select2-no-results'>"+S(h.formatNoMatches,h.element,u.val())+"</li>");c.empty(),d.opts.populateResults.call(this,c,a.results,{term:u.val(),page:this.resultsPage,context:null}),!0===a.more&&k(h.formatLoadMore,"formatLoadMore")&&(c.append("<li class='select2-more-results'>"+h.escapeMarkup(S(h.formatLoadMore,h.element,this.resultsPage))+"</li>"),window.setTimeout(function(){d.loadMoreIfNeeded()},10)),this.postprocessResults(a,i),n(),this.opts.element.trigger({type:"select2-loaded",items:a})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){f(this.search)},selectHighlighted:function(t){if(this._touchMoved)return void this.clearTouchMoved();var e=this.highlight(),i=this.results.find(".select2-highlighted"),n=i.closest(".select2-result").data("select2-data");n?(this.highlight(e),this.onSelect(n,t)):t&&t.noFocus&&this.close()},getPlaceholder:function(){var t;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((t=this.getPlaceholderOption())!==e?t.text():e)},getPlaceholderOption:function(){if(this.select){var i=this.select.children("option").first();if(this.opts.placeholderOption!==e)return"first"===this.opts.placeholderOption&&i||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===t.trim(i.text())&&""===i.val())return i}},initContainerWidth:function(){function i(){var i,n,r,a,o,s;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if((i=this.opts.element.attr("style"))!==e)for(n=i.split(";"),a=0,o=n.length;a<o;a+=1)if(s=n[a].replace(/\s/g,""),null!==(r=s.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&r.length>=1)return r[1];return"resolve"===this.opts.width?(i=this.opts.element.css("width"),i.indexOf("%")>0?i:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return t.isFunction(this.opts.width)?this.opts.width():this.opts.width}var n=i.call(this);null!==n&&this.container.css("width",n)}}),$=E(D,{createContainer:function(){return t(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""))},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var i,n,r;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),!1!==this.showSearchInput&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),i=this.search.get(0),i.createTextRange?(n=i.createTextRange(),n.collapse(!1),n.select()):i.setSelectionRange&&(r=this.search.val().length,i.setSelectionRange(r,r))),""===this.search.val()&&this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){t("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),M.call(this,"selection","focusser")},initContainer:function(){var e,n,r=this.container,a=this.dropdown,o=P();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=e=r.find(".select2-choice"),this.focusser=r.find(".select2-focusser"),e.find(".select2-chosen").attr("id","select2-chosen-"+o),this.focusser.attr("aria-labelledby","select2-chosen-"+o),this.results.attr("id","select2-results-"+o),this.search.attr("aria-owns","select2-results-"+o),this.focusser.attr("id","s2id_autogen"+o),n=t("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(n.text()).attr("for",this.focusser.attr("id"));var s=this.opts.element.attr("title");this.opts.element.attr("title",s||n.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(t("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()&&229!=t.keyCode){if(t.which===O.PAGE_UP||t.which===O.PAGE_DOWN)return void g(t);switch(t.which){case O.UP:case O.DOWN:return this.moveHighlight(t.which===O.UP?-1:1),void g(t);case O.ENTER:return this.selectHighlighted(),void g(t);case O.TAB:return void this.selectHighlighted({noFocus:!0});case O.ESC:return this.cancel(t),void g(t)}}})),this.search.on("blur",this.bind(function(t){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()&&t.which!==O.TAB&&!O.isControl(t)&&!O.isFunctionKey(t)&&t.which!==O.ESC){if(!1===this.opts.openOnEnter&&t.which===O.ENTER)return void g(t);if(t.which==O.DOWN||t.which==O.UP||t.which==O.ENTER&&this.opts.openOnEnter){if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return;return this.open(),void g(t)}return t.which==O.DELETE||t.which==O.BACKSPACE?(this.opts.allowClear&&this.clear(),void g(t)):void 0}})),u(this.focusser),this.focusser.on("keyup-change input",this.bind(function(t){if(this.opts.minimumResultsForSearch>=0){if(t.stopPropagation(),this.opened())return;this.open()}})),e.on("mousedown touchstart","abbr",this.bind(function(t){this.isInterfaceEnabled()&&(this.clear(),m(t),this.close(),this.selection.focus())})),e.on("mousedown touchstart",this.bind(function(n){i(e),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),g(n)})),a.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),e.on("focus",this.bind(function(t){g(t)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(t.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(e){var i=this.selection.data("select2-data");if(i){var n=t.Event("select2-clearing");if(this.opts.element.trigger(n),n.isDefaultPrevented())return;var r=this.getPlaceholderOption();this.opts.element.val(r?r.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==e&&(this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var t=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==e&&null!==i&&(t.updateSelection(i),t.close(),t.setPlaceholder(),t.nextSearchTerm=t.opts.nextSearchTerm(i,t.search.val()))})}},isPlaceholderOptionSelected:function(){var t;return this.getPlaceholder()!==e&&((t=this.getPlaceholderOption())!==e&&t.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===e||null===this.opts.element.val())},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var n=t.find("option").filter(function(){return this.selected&&!this.disabled});e(i.optionToData(n))}:"data"in e&&(e.initSelection=e.initSelection||function(i,n){var r=i.val(),a=null;e.query({matcher:function(t,i,n){var s=o(r,e.id(n));return s&&(a=n),s},callback:t.isFunction(n)?function(){n(a)}:t.noop})}),e},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===e?e:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var t=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&t!==e){if(this.select&&this.getPlaceholderOption()===e)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(t,e,i){var n=0,r=this;if(this.findHighlightableChoices().each2(function(t,e){if(o(r.id(e.data("select2-data")),r.opts.element.val()))return n=t,!1}),!1!==i&&(!0===e&&n>=0?this.highlight(n):this.highlight(0)),!0===e){var a=this.opts.minimumResultsForSearch;a>=0&&this.showSearch(T(t.results)>=a)}},showSearch:function(e){this.showSearchInput!==e&&(this.showSearchInput=e,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!e),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!e),t(this.dropdown,this.container).toggleClass("select2-with-searchbox",e))},onSelect:function(t,e){if(this.triggerSelect(t)){var i=this.opts.element.val(),n=this.data();this.opts.element.val(this.id(t)),this.updateSelection(t),this.opts.element.trigger({type:"select2-selected",val:this.id(t),choice:t}),this.nextSearchTerm=this.opts.nextSearchTerm(t,this.search.val()),this.close(),e&&e.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),o(i,this.id(t))||this.triggerChange({added:t,removed:n})}},updateSelection:function(t){var i,n,r=this.selection.find(".select2-chosen");this.selection.data("select2-data",t),r.empty(),null!==t&&(i=this.opts.formatSelection(t,r,this.opts.escapeMarkup)),i!==e&&r.append(i),n=this.opts.formatSelectionCssClass(t,r),n!==e&&r.addClass(n),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==e&&this.container.addClass("select2-allowclear")},val:function(){var t,i=!1,n=null,r=this,a=this.data();if(0===arguments.length)return this.opts.element.val();if(t=arguments[0],arguments.length>1&&(i=arguments[1]),this.select)this.select.val(t).find("option").filter(function(){return this.selected}).each2(function(t,e){return n=r.optionToData(e),!1}),this.updateSelection(n),this.setPlaceholder(),i&&this.triggerChange({added:n,removed:a});else{if(!t&&0!==t)return void this.clear(i);if(this.opts.initSelection===e)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(t),this.opts.initSelection(this.opts.element,function(t){r.opts.element.val(t?r.id(t):""),r.updateSelection(t),r.setPlaceholder(),i&&r.triggerChange({added:t,removed:a})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(t){var i,n=!1;if(0===arguments.length)return i=this.selection.data("select2-data"),i==e&&(i=null),i;arguments.length>1&&(n=arguments[1]),t?(i=this.data(),this.opts.element.val(t?this.id(t):""),this.updateSelection(t),n&&this.triggerChange({added:t,removed:i})):this.clear(n)}}),j=E(D,{createContainer:function(){return t(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var n=[];t.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(t,e){n.push(i.optionToData(e))}),e(n)}:"data"in e&&(e.initSelection=e.initSelection||function(i,n){var r=s(i.val(),e.separator),a=[];e.query({matcher:function(i,n,s){var l=t.grep(r,function(t){return o(t,e.id(s))}).length;return l&&a.push(s),l},callback:t.isFunction(n)?function(){for(var t=[],i=0;i<r.length;i++)for(var s=r[i],l=0;l<a.length;l++){var u=a[l];if(o(s,e.id(u))){t.push(u),a.splice(l,1);break}}n(t)}:t.noop})}),e},selectChoice:function(t){var e=this.container.find(".select2-search-choice-focus");e.length&&t&&t[0]==e[0]||(e.length&&this.opts.element.trigger("choice-deselected",e),e.removeClass("select2-search-choice-focus"),t&&t.length&&(this.close(),t.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",t)))},destroy:function(){t("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),M.call(this,"searchContainer","selection")},initContainer:function(){var e,i=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=e=this.container.find(i);var n=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(e){n.search[0].focus(),n.selectChoice(t(this))}),this.search.attr("id","s2id_autogen"+P()),this.search.prev().text(t("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){++this.keydowns;var i=e.find(".select2-search-choice-focus"),n=i.prev(".select2-search-choice:not(.select2-locked)"),r=i.next(".select2-search-choice:not(.select2-locked)"),a=p(this.search);if(i.length&&(t.which==O.LEFT||t.which==O.RIGHT||t.which==O.BACKSPACE||t.which==O.DELETE||t.which==O.ENTER)){var o=i;return t.which==O.LEFT&&n.length?o=n:t.which==O.RIGHT?o=r.length?r:null:t.which===O.BACKSPACE?this.unselect(i.first())&&(this.search.width(10),o=n.length?n:r):t.which==O.DELETE?this.unselect(i.first())&&(this.search.width(10),o=r.length?r:null):t.which==O.ENTER&&(o=null),this.selectChoice(o),g(t),void(o&&o.length||this.open())}if((t.which===O.BACKSPACE&&1==this.keydowns||t.which==O.LEFT)&&0==a.offset&&!a.length)return this.selectChoice(e.find(".select2-search-choice:not(.select2-locked)").last()),void g(t);if(this.selectChoice(null),this.opened())switch(t.which){case O.UP:case O.DOWN:return this.moveHighlight(t.which===O.UP?-1:1),void g(t);case O.ENTER:return this.selectHighlighted(),void g(t);case O.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case O.ESC:return this.cancel(t),void g(t)}if(t.which!==O.TAB&&!O.isControl(t)&&!O.isFunctionKey(t)&&t.which!==O.BACKSPACE&&t.which!==O.ESC){if(t.which===O.ENTER){if(!1===this.opts.openOnEnter)return;if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return}this.open(),t.which!==O.PAGE_UP&&t.which!==O.PAGE_DOWN||g(t),t.which===O.ENTER&&g(t)}}})),this.search.on("keyup",this.bind(function(t){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),e.stopImmediatePropagation(),this.opts.element.trigger(t.Event("select2-blur"))})),this.container.on("click",i,this.bind(function(e){this.isInterfaceEnabled()&&(t(e.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.open(),this.focusSearch(),e.preventDefault()))})),this.container.on("focus",i,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var t=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==e&&null!==i&&(t.updateSelection(i),t.close(),t.clearSearch())})}},clearSearch:function(){var t=this.getPlaceholder(),i=this.getMaxSearchWidth();t!==e&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(t).addClass("select2-default"),this.search.width(i>0?i:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var i=[],n=[],a=this;t(e).each(function(){r(a.id(this),i)<0&&(i.push(a.id(this)),n.push(this))}),e=n,this.selection.find(".select2-search-choice").remove(),t(e).each(function(){a.addSelectedChoice(this)}),a.postprocessResults()},tokenize:function(){var t=this.search.val();null!=(t=this.opts.tokenizer.call(this,t,this.data(),this.bind(this.onSelect),this.opts))&&t!=e&&(this.search.val(t),t.length>0&&this.open())},onSelect:function(t,i){this.triggerSelect(t)&&""!==t.text&&(this.addSelectedChoice(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),this.nextSearchTerm=this.opts.nextSearchTerm(t,this.search.val()),this.moveHighlight(1),!this.select&&this.opts.closeOnSelect||this.postprocessResults(t,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.clearSearch(),this.updateResults(),this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:t}),i&&i.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(i){var n,r,a=!i.locked,o=t("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),s=t("<li class='select2-search-choice select2-locked'><div></div></li>"),l=a?o:s,u=this.id(i),c=this.getVal();n=this.opts.formatSelection(i,l.find("div"),this.opts.escapeMarkup),n!=e&&l.find("div").replaceWith("<div>"+n+"</div>"),r=this.opts.formatSelectionCssClass(i,l.find("div")),r!=e&&l.addClass(r),a&&l.find(".select2-search-choice-close").on("mousedown",g).on("click dblclick",this.bind(function(e){this.isInterfaceEnabled()&&(this.unselect(t(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),g(e),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",i),l.insertBefore(this.searchContainer),c.push(u),this.setVal(c)},unselect:function(e){var i,n,a=this.getVal();if(e=e.closest(".select2-search-choice"),0===e.length)throw"Invalid argument: "+e+". Must be .select2-search-choice";if(i=e.data("select2-data")){var o=t.Event("select2-removing");if(o.val=this.id(i),o.choice=i,this.opts.element.trigger(o),o.isDefaultPrevented())return!1;for(;(n=r(this.id(i),a))>=0;)a.splice(n,1),this.setVal(a),this.select&&this.postprocessResults();return e.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}),!0}},postprocessResults:function(t,e,i){var n=this.getVal(),a=this.results.find(".select2-result"),o=this.results.find(".select2-result-with-children"),s=this;a.each2(function(t,e){r(s.id(e.data("select2-data")),n)>=0&&(e.addClass("select2-selected"),e.find(".select2-result-selectable").addClass("select2-selected"))}),o.each2(function(t,e){e.is(".select2-result-selectable")||0!==e.find(".select2-result-selectable:not(.select2-selected)").length||e.addClass("select2-selected")}),-1==this.highlight()&&!1!==i&&s.highlight(0),!this.opts.createSearchChoice&&!a.filter(".select2-result:not(.select2-selected)").length>0&&(!t||t&&!t.more&&0===this.results.find(".select2-no-results").length)&&k(s.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+S(s.opts.formatNoMatches,s.opts.element,s.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-l(this.search)},resizeSearch:function(){var t,e,i,n,r,a=l(this.search);t=v(this.search)+10,e=this.search.offset().left,i=this.selection.width(),n=this.selection.offset().left,r=i-(e-n)-a,r<t&&(r=i-a),r<40&&(r=i-a),r<=0&&(r=t),this.search.width(Math.floor(r))},getVal:function(){var t;return this.select?(t=this.select.val(),null===t?[]:t):(t=this.opts.element.val(),s(t,this.opts.separator))},setVal:function(e){var i;this.select?this.select.val(e):(i=[],t(e).each(function(){r(this,i)<0&&i.push(this)}),this.opts.element.val(0===i.length?"":i.join(this.opts.separator)))},buildChangeDetails:function(t,e){for(var e=e.slice(0),t=t.slice(0),i=0;i<e.length;i++)for(var n=0;n<t.length;n++)o(this.opts.id(e[i]),this.opts.id(t[n]))&&(e.splice(i,1),i>0&&i--,t.splice(n,1),n--);return{added:e,removed:t}},val:function(i,n){var r,a=this;if(0===arguments.length)return this.getVal();if(r=this.data(),r.length||(r=[]),!i&&0!==i)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(n&&this.triggerChange({added:this.data(),removed:r}));if(this.setVal(i),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),n&&this.triggerChange(this.buildChangeDetails(r,this.data()));else{if(this.opts.initSelection===e)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(e){var i=t.map(e,a.id);a.setVal(i),a.updateSelection(e),a.clearSearch(),n&&a.triggerChange(a.buildChangeDetails(r,a.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],i=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){e.push(i.opts.id(t(this).data("select2-data")))}),this.setVal(e),this.triggerChange()},data:function(e,i){var n,r,a=this;if(0===arguments.length)return this.selection.children(".select2-search-choice").map(function(){return t(this).data("select2-data")}).get();r=this.data(),e||(e=[]),n=t.map(e,function(t){return a.opts.id(t)}),this.setVal(n),this.updateSelection(e),this.clearSearch(),i&&this.triggerChange(this.buildChangeDetails(r,this.data()))}}),t.fn.select2=function(){var i,n,a,o,s,l=Array.prototype.slice.call(arguments,0),u=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],c=["opened","isFocused","container","dropdown"],h=["val","data"],d={search:"externalSearch"};return this.each(function(){if(0===l.length||"object"==typeof l[0])i=0===l.length?{}:t.extend({},l[0]),i.element=t(this),"select"===i.element.get(0).tagName.toLowerCase()?s=i.element.prop("multiple"):(s=i.multiple||!1,"tags"in i&&(i.multiple=s=!0)),n=s?new window.Select2.class.multi:new window.Select2.class.single,n.init(i);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(r(l[0],u)<0)throw"Unknown method: "+l[0];if(o=e,(n=t(this).data("select2"))===e)return;if(a=l[0],"container"===a?o=n.container:"dropdown"===a?o=n.dropdown:(d[a]&&(a=d[a]),o=n[a].apply(n,l.slice(1))),r(l[0],c)>=0||r(l[0],h)>=0&&1==l.length)return!1}}),o===e?this:o},t.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,i,n){var r=[];return y(t.text,i.term,r,n),r.join("")},formatSelection:function(t,i,n){return t?n(t.text):e},sortResults:function(t,e,i){return t},formatResultCssClass:function(t){return t.css},formatSelectionCssClass:function(t,i){return e},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(t){return t==e?null:t.id},matcher:function(t,e){return n(""+e).toUpperCase().indexOf(n(""+t).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:A,escapeMarkup:b,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(t){return t},adaptDropdownCssClass:function(t){return null},nextSearchTerm:function(t,i){return e},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(t){return!(("ontouchstart"in window||navigator.msMaxTouchPoints>0)&&t.opts.minimumResultsForSearch<0)}},t.fn.select2.locales=[],t.fn.select2.locales.en={formatMatches:function(t){return 1===t?"One result is available, press enter to select it.":t+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(t,e,i){return"Loading failed"},formatInputTooShort:function(t,e){var i=e-t.length;return"Please enter "+i+" or more character"+(1==i?"":"s")},formatInputTooLong:function(t,e){var i=t.length-e;return"Please delete "+i+" character"+(1==i?"":"s")},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(1==t?"":"s")},formatLoadMore:function(t){return"Loading more results…"},formatSearching:function(){return"Searching…"}},t.extend(t.fn.select2.defaults,t.fn.select2.locales.en),t.fn.select2.ajaxDefaults={transport:t.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:w,local:x,tags:C},util:{debounce:h,markMatch:y,escapeMarkup:b,stripDiacritics:n},class:{abstract:D,single:$,multi:j}}}}(t)}).call(e,i(0))},function(t,e,i){(function(t){!function(){function e(){var t="{}";if("userDataBehavior"==C){w.load("jStorage");try{t=w.getAttribute("jStorage")}catch(t){}try{T=w.getAttribute("jStorage_update")}catch(t){}b.jStorage=t}s(),c(),h()}function i(){"localStorage"==C||"globalStorage"==C?"addEventListener"in window?window.addEventListener("storage",n,!1):document.attachEvent("onstorage",n):"userDataBehavior"==C&&setInterval(n,1e3)}function n(){var t;clearTimeout(S),S=setTimeout(function(){if("localStorage"==C||"globalStorage"==C)t=b.jStorage_update;else if("userDataBehavior"==C){w.load("jStorage");try{t=w.getAttribute("jStorage_update")}catch(t){}}t&&t!=T&&(T=t,r())},25)}function r(){var t,i=v.parse(v.stringify(y.__jstorage_meta.CRC32));e(),t=v.parse(v.stringify(y.__jstorage_meta.CRC32));var n,r=[],o=[];for(n in i)if(i.hasOwnProperty(n)){if(!t[n]){o.push(n);continue}i[n]!=t[n]&&"2."==String(i[n]).substr(0,2)&&r.push(n)}for(n in t)t.hasOwnProperty(n)&&(i[n]||r.push(n));a(r,"updated"),a(o,"deleted")}function a(t,e){if(t=[].concat(t||[]),"flushed"==e){t=[];for(var i in k)k.hasOwnProperty(i)&&t.push(i);e="deleted"}for(var n=0,r=t.length;n<r;n++){if(k[t[n]])for(var a=0,o=k[t[n]].length;a<o;a++)k[t[n]][a](t[n],e);if(k["*"])for(var a=0,o=k["*"].length;a<o;a++)k["*"][a](t[n],e)}}function o(){var t=(+new Date).toString();if("localStorage"==C||"globalStorage"==C)try{b.jStorage_update=t}catch(t){C=!1}else"userDataBehavior"==C&&(w.setAttribute("jStorage_update",t),w.save("jStorage"));n()}function s(){if(b.jStorage)try{y=v.parse(String(b.jStorage))}catch(t){b.jStorage="{}"}else b.jStorage="{}";x=b.jStorage?String(b.jStorage).length:0,y.__jstorage_meta||(y.__jstorage_meta={}),y.__jstorage_meta.CRC32||(y.__jstorage_meta.CRC32={})}function l(){f();try{b.jStorage=v.stringify(y),w&&(w.setAttribute("jStorage",b.jStorage),w.save("jStorage")),x=b.jStorage?String(b.jStorage).length:0}catch(t){}}function u(t){if(!t||"string"!=typeof t&&"number"!=typeof t)throw new TypeError("Key name must be string or numeric");if("__jstorage_meta"==t)throw new TypeError("Reserved key name");return!0}function c(){var t,e,i,n,r=1/0,s=!1,u=[];if(clearTimeout(_),y.__jstorage_meta&&"object"==typeof y.__jstorage_meta.TTL){t=+new Date,i=y.__jstorage_meta.TTL,n=y.__jstorage_meta.CRC32;for(e in i)i.hasOwnProperty(e)&&(i[e]<=t?(delete i[e],delete n[e],delete y[e],s=!0,u.push(e)):i[e]<r&&(r=i[e]));r!=1/0&&(_=setTimeout(c,r-t)),s&&(l(),o(),a(u,"deleted"))}}function h(){var t;if(y.__jstorage_meta.PubSub){var e,i=M;for(t=y.__jstorage_meta.PubSub.length-1;t>=0;t--)e=y.__jstorage_meta.PubSub[t],e[0]>M&&(i=e[0],d(e[1],e[2]));M=i}}function d(t,e){if(A[t])for(var i=0,n=A[t].length;i<n;i++)A[t][i](t,v.parse(v.stringify(e)))}function f(){if(y.__jstorage_meta.PubSub){for(var t=+new Date-2e3,e=0,i=y.__jstorage_meta.PubSub.length;e<i;e++)if(y.__jstorage_meta.PubSub[e][0]<=t){y.__jstorage_meta.PubSub.splice(e,y.__jstorage_meta.PubSub.length-e);break}y.__jstorage_meta.PubSub.length||delete y.__jstorage_meta.PubSub}}function p(t,e){y.__jstorage_meta||(y.__jstorage_meta={}),y.__jstorage_meta.PubSub||(y.__jstorage_meta.PubSub=[]),y.__jstorage_meta.PubSub.unshift([+new Date,t,e]),l(),o()}function g(t,e){for(var i,n=t.length,r=e^n,a=0;n>=4;)i=255&t.charCodeAt(a)|(255&t.charCodeAt(++a))<<8|(255&t.charCodeAt(++a))<<16|(255&t.charCodeAt(++a))<<24,i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16),i^=i>>>24,i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^i,n-=4,++a;switch(n){case 3:r^=(255&t.charCodeAt(a+2))<<16;case 2:r^=(255&t.charCodeAt(a+1))<<8;case 1:r^=255&t.charCodeAt(a),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)}return r^=r>>>13,r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16),(r^=r>>>15)>>>0}var m=t||window.$||(window.$={}),v={parse:window.JSON&&(window.JSON.parse||window.JSON.decode)||String.prototype.evalJSON&&function(t){return String(t).evalJSON()}||m.parseJSON||m.evalJSON,stringify:Object.toJSON||window.JSON&&(window.JSON.stringify||window.JSON.encode)||m.toJSON};if(!("parse"in v&&"stringify"in v))throw new Error("No JSON support found, include //cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js to page");var _,y={__jstorage_meta:{CRC32:{}}},b={jStorage:"{}"},w=null,x=0,C=!1,k={},S=!1,T=0,A={},M=+new Date,E={isXML:function(t){var e=(t?t.ownerDocument||t:0).documentElement;return!!e&&"HTML"!==e.nodeName},encode:function(t){if(!this.isXML(t))return!1;try{return(new XMLSerializer).serializeToString(t)}catch(e){try{return t.xml}catch(t){}}return!1},decode:function(t){var e,i="DOMParser"in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(t){var e=new ActiveXObject("Microsoft.XMLDOM");return e.async="false",e.loadXML(t),e};return!!i&&(e=i.call("DOMParser"in window&&new DOMParser||window,t,"text/xml"),!!this.isXML(e)&&e)}};m.jStorage={version:"0.4.4",set:function(t,e,i){if(u(t),i=i||{},void 0===e)return this.deleteKey(t),e;if(E.isXML(e))e={_is_xml:!0,xml:E.encode(e)};else{if("function"==typeof e)return;e&&"object"==typeof e&&(e=v.parse(v.stringify(e)))}return y[t]=e,y.__jstorage_meta.CRC32[t]="2."+g(v.stringify(e),2538058380),this.setTTL(t,i.TTL||0),a(t,"updated"),e},get:function(t,e){return u(t),t in y?y[t]&&"object"==typeof y[t]&&y[t]._is_xml?E.decode(y[t].xml):y[t]:void 0===e?null:e},deleteKey:function(t){return u(t),t in y&&(delete y[t],"object"==typeof y.__jstorage_meta.TTL&&t in y.__jstorage_meta.TTL&&delete y.__jstorage_meta.TTL[t],delete y.__jstorage_meta.CRC32[t],l(),o(),a(t,"deleted"),!0)},setTTL:function(t,e){var i=+new Date;return u(t),e=Number(e)||0,t in y&&(y.__jstorage_meta.TTL||(y.__jstorage_meta.TTL={}),e>0?y.__jstorage_meta.TTL[t]=i+e:delete y.__jstorage_meta.TTL[t],l(),c(),o(),!0)},getTTL:function(t){var e=+new Date;return u(t),t in y&&y.__jstorage_meta.TTL&&y.__jstorage_meta.TTL[t]?y.__jstorage_meta.TTL[t]-e||0:0},flush:function(){return y={__jstorage_meta:{CRC32:{}}},l(),o(),a(null,"flushed"),!0},storageObj:function(){function t(){}return t.prototype=y,new t},index:function(){var t,e=[];for(t in y)y.hasOwnProperty(t)&&"__jstorage_meta"!=t&&e.push(t);return e},storageSize:function(){return x},currentBackend:function(){return C},storageAvailable:function(){return!!C},listenKeyChange:function(t,e){u(t),k[t]||(k[t]=[]),k[t].push(e)},stopListening:function(t,e){if(u(t),k[t]){if(!e)return void delete k[t];for(var i=k[t].length-1;i>=0;i--)k[t][i]==e&&k[t].splice(i,1)}},subscribe:function(t,e){if(!(t=(t||"").toString()))throw new TypeError("Channel not defined");A[t]||(A[t]=[]),A[t].push(e)},publish:function(t,e){if(!(t=(t||"").toString()))throw new TypeError("Channel not defined");p(t,e)},reInit:function(){e()}},function(){var t=!1;if("localStorage"in window)try{window.localStorage.setItem("_tmptest","tmpval"),t=!0,window.localStorage.removeItem("_tmptest")}catch(t){}if(t)try{window.localStorage&&(b=window.localStorage,C="localStorage",T=b.jStorage_update)}catch(t){}else if("globalStorage"in window)try{window.globalStorage&&(b="localhost"==window.location.hostname?window.globalStorage["localhost.localdomain"]:window.globalStorage[window.location.hostname],C="globalStorage",T=b.jStorage_update)}catch(t){}else{if(w=document.createElement("link"),!w.addBehavior)return void(w=null);w.style.behavior="url(#default#userData)",document.getElementsByTagName("head")[0].appendChild(w);try{w.load("jStorage")}catch(t){w.setAttribute("jStorage","{}"),w.save("jStorage"),w.load("jStorage")}var e="{}";try{e=w.getAttribute("jStorage")}catch(t){}try{T=w.getAttribute("jStorage_update")}catch(t){}b.jStorage=e,C="userDataBehavior"}s(),c(),i(),h(),"addEventListener"in window&&window.addEventListener("pageshow",function(t){t.persisted&&n()},!1)}()}()}).call(e,i(0))},function(t,e,i){(function(t){!function(t,e){var i,n;n=e.document,i=function(){function i(i){var n;try{n=e.localStorage}catch(t){n=!1}this._options=t.extend({name:"tour",steps:[],container:"body",autoscroll:!0,keyboard:!0,storage:n,debug:!1,backdrop:!1,backdropContainer:"body",backdropPadding:0,redirect:!0,orphan:!1,duration:!1,delay:!1,basePath:"",template:'<div class="popover" role="tooltip"> <div class="arrow"></div> <h3 class="popover-title"></h3> <div class="popover-content"></div> <div class="popover-navigation"> <div class="btn-group"> <button class="btn btn-sm btn-default" data-role="prev">&laquo; Prev</button> <button class="btn btn-sm btn-default" data-role="next">Next &raquo;</button> <button class="btn btn-sm btn-default" data-role="pause-resume" data-pause-text="Pause" data-resume-text="Resume">Pause</button> </div> <button class="btn btn-sm btn-default" data-role="end">End tour</button> </div> </div>',afterSetState:function(t,e){},afterGetState:function(t,e){},afterRemoveState:function(t){},onStart:function(t){},onEnd:function(t){},onShow:function(t){},onShown:function(t){},onHide:function(t){},onHidden:function(t){},onNext:function(t){},onPrev:function(t){},onPause:function(t,e){},onResume:function(t,e){},onRedirectError:function(t){}},i),this._force=!1,this._inited=!1,this._current=null,this.backdrop={overlay:null,$element:null,$background:null,backgroundShown:!1,overlayElementShown:!1}}return i.prototype.addSteps=function(t){var e,i,n;for(i=0,n=t.length;i<n;i++)e=t[i],this.addStep(e);return this},i.prototype.addStep=function(t){return this._options.steps.push(t),this},i.prototype.getStep=function(e){if(null!=this._options.steps[e])return t.extend({id:"step-"+e,path:"",host:"",placement:"right",title:"",content:"<p></p>",next:e===this._options.steps.length-1?-1:e+1,prev:e-1,animation:!0,container:this._options.container,autoscroll:this._options.autoscroll,backdrop:this._options.backdrop,backdropContainer:this._options.backdropContainer,backdropPadding:this._options.backdropPadding,redirect:this._options.redirect,reflexElement:this._options.steps[e].element,orphan:this._options.orphan,duration:this._options.duration,delay:this._options.delay,template:this._options.template,onShow:this._options.onShow,onShown:this._options.onShown,onHide:this._options.onHide,onHidden:this._options.onHidden,onNext:this._options.onNext,onPrev:this._options.onPrev,onPause:this._options.onPause,onResume:this._options.onResume,onRedirectError:this._options.onRedirectError},this._options.steps[e])},i.prototype.init=function(t){return this._force=t,this.ended()?(this._debug("Tour ended, init prevented."),this):(this.setCurrentStep(),this._initMouseNavigation(),this._initKeyboardNavigation(),this._onResize(function(t){return function(){return t.showStep(t._current)}}(this)),null!==this._current&&this.showStep(this._current),this._inited=!0,this)},i.prototype.start=function(t){var e;return null==t&&(t=!1),this._inited||this.init(t),null===this._current&&(e=this._makePromise(null!=this._options.onStart?this._options.onStart(this):void 0),this._callOnPromiseDone(e,this.showStep,0)),this},i.prototype.next=function(){var t;return t=this.hideStep(this._current),this._callOnPromiseDone(t,this._showNextStep)},i.prototype.prev=function(){var t;return t=this.hideStep(this._current),this._callOnPromiseDone(t,this._showPrevStep)},i.prototype.goTo=function(t){var e;return e=this.hideStep(this._current),this._callOnPromiseDone(e,this.showStep,t)},i.prototype.end=function(){var i,r;return i=function(i){return function(r){if(t(n).off("click.tour-"+i._options.name),t(n).off("keyup.tour-"+i._options.name),t(e).off("resize.tour-"+i._options.name),i._setState("end","yes"),i._inited=!1,i._force=!1,i._clearTimer(),null!=i._options.onEnd)return i._options.onEnd(i)}}(this),r=this.hideStep(this._current),this._callOnPromiseDone(r,i)},i.prototype.ended=function(){return!this._force&&!!this._getState("end")},i.prototype.restart=function(){return this._removeState("current_step"),this._removeState("end"),this._removeState("redirect_to"),this.start()},i.prototype.pause=function(){var t;return(t=this.getStep(this._current))&&t.duration?(this._paused=!0,this._duration-=(new Date).getTime()-this._start,e.clearTimeout(this._timer),this._debug("Paused/Stopped step "+(this._current+1)+" timer ("+this._duration+" remaining)."),null!=t.onPause?t.onPause(this,this._duration):void 0):this},i.prototype.resume=function(){var t;return(t=this.getStep(this._current))&&t.duration?(this._paused=!1,this._start=(new Date).getTime(),this._duration=this._duration||t.duration,this._timer=e.setTimeout(function(t){return function(){return t._isLast()?t.next():t.end()}}(this),this._duration),this._debug("Started step "+(this._current+1)+" timer with duration "+this._duration),null!=t.onResume&&this._duration!==t.duration?t.onResume(this,this._duration):void 0):this},i.prototype.hideStep=function(e){var i,n,r;if(r=this.getStep(e))return this._clearTimer(),n=this._makePromise(null!=r.onHide?r.onHide(this,e):void 0),i=function(i){return function(n){var a;if(a=t(r.element),a.data("bs.popover")||a.data("popover")||(a=t("body")),a.popover("destroy").removeClass("tour-"+i._options.name+"-element tour-"+i._options.name+"-"+e+"-element"),a.removeData("bs.popover"),r.reflex&&t(r.reflexElement).removeClass("tour-step-element-reflex").off(i._reflexEvent(r.reflex)+".tour-"+i._options.name),r.backdrop&&i._hideBackdrop(),null!=r.onHidden)return r.onHidden(i)}}(this),this._callOnPromiseDone(n,i),n},i.prototype.showStep=function(t){var i,r,a,o;return this.ended()?(this._debug("Tour ended, showStep prevented."),this):(o=this.getStep(t))?(a=t<this._current,i=this._makePromise(null!=o.onShow?o.onShow(this,t):void 0),r=function(e){return function(i){var r,s;if(e.setCurrentStep(t),r=function(){switch({}.toString.call(o.path)){case"[object Function]":return o.path();case"[object String]":return this._options.basePath+o.path;default:return o.path}}.call(e),!e._isRedirect(o.host,r,n.location)||(e._redirect(o,t,r),e._isJustPathHashDifferent(o.host,r,n.location))){if(e._isOrphan(o)){if(!1===o.orphan)return e._debug("Skip the orphan step "+(e._current+1)+".\nOrphan option is false and the element does not exist or is hidden."),void(a?e._showPrevStep():e._showNextStep());e._debug("Show the orphan step "+(e._current+1)+". Orphans option is true.")}return o.backdrop&&e._showBackdrop(o),s=function(){if(e.getCurrentStep()===t&&!e.ended())return null!=o.element&&o.backdrop&&e._showOverlayElement(o),e._showPopover(o,t),null!=o.onShown&&o.onShown(e),e._debug("Step "+(e._current+1)+" of "+e._options.steps.length)},o.autoscroll?e._scrollIntoView(o.element,s):s(),o.duration?e.resume():void 0}}}(this),o.delay?(this._debug("Wait "+o.delay+" milliseconds to show the step "+(this._current+1)),e.setTimeout(function(t){return function(){return t._callOnPromiseDone(i,r)}}(this),o.delay)):this._callOnPromiseDone(i,r),i):void 0},i.prototype.getCurrentStep=function(){return this._current},i.prototype.setCurrentStep=function(t){return null!=t?(this._current=t,this._setState("current_step",t)):(this._current=this._getState("current_step"),this._current=null===this._current?null:parseInt(this._current,10)),this},i.prototype.redraw=function(){return this._showOverlayElement(this.getStep(this.getCurrentStep()).element,!0)},i.prototype._setState=function(t,e){var i,n;if(this._options.storage){n=this._options.name+"_"+t;try{this._options.storage.setItem(n,e)}catch(t){i=t,i.code===DOMException.QUOTA_EXCEEDED_ERR&&this._debug("LocalStorage quota exceeded. State storage failed.")}return this._options.afterSetState(n,e)}return null==this._state&&(this._state={}),this._state[t]=e},i.prototype._removeState=function(t){var e;return this._options.storage?(e=this._options.name+"_"+t,this._options.storage.removeItem(e),this._options.afterRemoveState(e)):null!=this._state?delete this._state[t]:void 0},i.prototype._getState=function(t){var e,i;return this._options.storage?(e=this._options.name+"_"+t,i=this._options.storage.getItem(e)):null!=this._state&&(i=this._state[t]),void 0!==i&&"null"!==i||(i=null),this._options.afterGetState(t,i),i},i.prototype._showNextStep=function(){var t,e,i;return i=this.getStep(this._current),e=function(t){return function(e){return t.showStep(i.next)}}(this),t=this._makePromise(null!=i.onNext?i.onNext(this):void 0),this._callOnPromiseDone(t,e)},i.prototype._showPrevStep=function(){var t,e,i;return i=this.getStep(this._current),e=function(t){return function(e){return t.showStep(i.prev)}}(this),t=this._makePromise(null!=i.onPrev?i.onPrev(this):void 0),this._callOnPromiseDone(t,e)},i.prototype._debug=function(t){if(this._options.debug)return e.console.log("Bootstrap Tour '"+this._options.name+"' | "+t)},i.prototype._isRedirect=function(t,e,i){var n;return!(""===t||!this._isHostDifferent(t,i.href))||(n=[i.pathname,i.search,i.hash].join(""),null!=e&&""!==e&&("[object RegExp]"==={}.toString.call(e)&&!e.test(n)||"[object String]"==={}.toString.call(e)&&this._isPathDifferent(e,n)))},i.prototype._isHostDifferent=function(t,e){return this._getProtocol(t)!==this._getProtocol(e)||this._getHost(t)!==this._getHost(e)},i.prototype._isPathDifferent=function(t,e){return this._getPath(t)!==this._getPath(e)||!this._equal(this._getQuery(t),this._getQuery(e))||!this._equal(this._getHash(t),this._getHash(e))},i.prototype._isJustPathHashDifferent=function(t,e,i){var n;return(""===t||!this._isHostDifferent(t,i.href))&&(n=[i.pathname,i.search,i.hash].join(""),"[object String]"==={}.toString.call(e)&&(this._getPath(e)===this._getPath(n)&&this._equal(this._getQuery(e),this._getQuery(n))&&!this._equal(this._getHash(e),this._getHash(n))))},i.prototype._redirect=function(e,i,r){if(t.isFunction(e.redirect))return e.redirect.call(this,r);if(!0===e.redirect){if(this._debug("Redirect to "+e.host+r),this._getState("redirect_to")!==""+i)return this._setState("redirect_to",""+i),n.location.href=""+e.host+r;if(this._debug("Error redirection loop to "+r),this._removeState("redirect_to"),null!=e.onRedirectError)return e.onRedirectError(this)}},i.prototype._isOrphan=function(e){return null==e.element||!t(e.element).length||t(e.element).is(":hidden")&&"http://www.w3.org/2000/svg"!==t(e.element)[0].namespaceURI},i.prototype._isLast=function(){return this._current<this._options.steps.length-1},i.prototype._showPopover=function(e,i){var n,r,a,o,s;if(t(".tour-"+this._options.name).remove(),o=t.extend({},this._options),a=this._isOrphan(e),e.template=this._template(e,i),a&&(e.element="body",e.placement="top"),n=t(e.element),n.addClass("tour-"+this._options.name+"-element tour-"+this._options.name+"-"+i+"-element"),e.options&&t.extend(o,e.options),e.reflex&&!a&&t(e.reflexElement).addClass("tour-step-element-reflex").off(this._reflexEvent(e.reflex)+".tour-"+this._options.name).on(this._reflexEvent(e.reflex)+".tour-"+this._options.name,function(t){return function(){return t._isLast()?t.next():t.end()}}(this)),s=!0===e.smartPlacement&&-1===e.placement.search(/auto/i),n.popover({placement:s?"auto "+e.placement:e.placement,trigger:"manual",title:e.title,content:e.content,html:!0,animation:e.animation,container:e.container,template:e.template,selector:e.element}).popover("show"),r=n.data("bs.popover")?n.data("bs.popover").tip():n.data("popover").tip(),r.attr("id",e.id),this._reposition(r,e),a)return this._center(r)},i.prototype._template=function(e,i){var n,r,a,o,s,l;return l=e.template,this._isOrphan(e)&&"[object Boolean]"!=={}.toString.call(e.orphan)&&(l=e.orphan),s=t(t.isFunction(l)?l(i,e):l),n=s.find(".popover-navigation"),a=n.find('[data-role="prev"]'),r=n.find('[data-role="next"]'),o=n.find('[data-role="pause-resume"]'),this._isOrphan(e)&&s.addClass("orphan"),s.addClass("tour-"+this._options.name+" tour-"+this._options.name+"-"+i),e.reflex&&s.addClass("tour-"+this._options.name+"-reflex"),e.prev<0&&(a.addClass("disabled"),a.prop("disabled",!0)),e.next<0&&(r.addClass("disabled"),r.prop("disabled",!0)),e.duration||o.remove(),s.clone().wrap("<div>").parent().html()},i.prototype._reflexEvent=function(t){return"[object Boolean]"==={}.toString.call(t)?"click":t},i.prototype._reposition=function(e,i){var r,a,o,s,l,u,c;if(s=e[0].offsetWidth,a=e[0].offsetHeight,c=e.offset(),l=c.left,u=c.top,r=t(n).outerHeight()-c.top-e.outerHeight(),r<0&&(c.top=c.top+r),o=t("html").outerWidth()-c.left-e.outerWidth(),o<0&&(c.left=c.left+o),c.top<0&&(c.top=0),c.left<0&&(c.left=0),e.offset(c),"bottom"===i.placement||"top"===i.placement){if(l!==c.left)return this._replaceArrow(e,2*(c.left-l),s,"left")}else if(u!==c.top)return this._replaceArrow(e,2*(c.top-u),a,"top")},i.prototype._center=function(i){return i.css("top",t(e).outerHeight()/2-i.outerHeight()/2)},i.prototype._replaceArrow=function(t,e,i,n){return t.find(".arrow").css(n,e?50*(1-e/i)+"%":"")},i.prototype._scrollIntoView=function(i,n){var r,a,o,s,l,u;return r=t(i),r.length?(a=t(e),s=r.offset().top,u=a.height(),l=Math.max(0,s-u/2),this._debug("Scroll into view. ScrollTop: "+l+". Element offset: "+s+". Window height: "+u+"."),o=0,t("body, html").stop(!0,!0).animate({scrollTop:Math.ceil(l)},function(t){return function(){if(2==++o)return n(),t._debug("Scroll into view.\nAnimation end element offset: "+r.offset().top+".\nWindow height: "+a.height()+".")}}(this))):n()},i.prototype._onResize=function(i,n){return t(e).on("resize.tour-"+this._options.name,function(){return clearTimeout(n),n=setTimeout(i,100)})},i.prototype._initMouseNavigation=function(){var e;return e=this,t(n).off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='pause-resume']").on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']",function(t){return function(e){return e.preventDefault(),t.next()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']",function(t){return function(e){return e.preventDefault(),t.prev()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']",function(t){return function(e){return e.preventDefault(),t.end()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='pause-resume']",function(i){var n;return i.preventDefault(),n=t(this),n.text(e._paused?n.data("pause-text"):n.data("resume-text")),e._paused?e.resume():e.pause()})},i.prototype._initKeyboardNavigation=function(){if(this._options.keyboard)return t(n).on("keyup.tour-"+this._options.name,function(t){return function(e){if(e.which)switch(e.which){case 39:return e.preventDefault(),t._isLast()?t.next():t.end();case 37:if(e.preventDefault(),t._current>0)return t.prev();break;case 27:return e.preventDefault(),t.end()}}}(this))},i.prototype._makePromise=function(e){return e&&t.isFunction(e.then)?e:null},i.prototype._callOnPromiseDone=function(t,e,i){return t?t.then(function(t){return function(n){return e.call(t,i)}}(this)):e.call(this,i)},i.prototype._showBackdrop=function(e){if(!this.backdrop.backgroundShown)return this.backdrop=t("<div>",{class:"tour-backdrop"}),this.backdrop.backgroundShown=!0,t(e.backdropContainer).append(this.backdrop)},i.prototype._hideBackdrop=function(){return this._hideOverlayElement(),this._hideBackground()},i.prototype._hideBackground=function(){if(this.backdrop)return this.backdrop.remove(),this.backdrop.overlay=null,this.backdrop.backgroundShown=!1},i.prototype._showOverlayElement=function(e,i){var n,r;if((n=t(e.element))&&0!==n.length&&(!this.backdrop.overlayElementShown||i))return this.backdrop.overlayElementShown||(this.backdrop.$element=n.addClass("tour-step-backdrop"),this.backdrop.$background=t("<div>",{class:"tour-step-background"}),this.backdrop.$background.appendTo(e.backdropContainer),this.backdrop.overlayElementShown=!0),r={width:n.innerWidth(),height:n.innerHeight(),offset:n.offset()},e.backdropPadding&&(r=this._applyBackdropPadding(e.backdropPadding,r)),this.backdrop.$background.width(r.width).height(r.height).offset(r.offset)},i.prototype._hideOverlayElement=function(){if(this.backdrop.overlayElementShown)return this.backdrop.$element.removeClass("tour-step-backdrop"),this.backdrop.$background.remove(),this.backdrop.$element=null,this.backdrop.$background=null,this.backdrop.overlayElementShown=!1},i.prototype._applyBackdropPadding=function(t,e){return"object"==typeof t?(null==t.top&&(t.top=0),null==t.right&&(t.right=0),null==t.bottom&&(t.bottom=0),null==t.left&&(t.left=0),e.offset.top=e.offset.top-t.top,e.offset.left=e.offset.left-t.left,e.width=e.width+t.left+t.right,e.height=e.height+t.top+t.bottom):(e.offset.top=e.offset.top-t,e.offset.left=e.offset.left-t,e.width=e.width+2*t,e.height=e.height+2*t),e},i.prototype._clearTimer=function(){return e.clearTimeout(this._timer),this._timer=null,this._duration=null},i.prototype._getProtocol=function(t){return t=t.split("://"),t.length>1?t[0]:"http"},i.prototype._getHost=function(t){return t=t.split("//"),t=t.length>1?t[1]:t[0],t.split("/")[0]},i.prototype._getPath=function(t){return t.replace(/\/?$/,"").split("?")[0].split("#")[0]},i.prototype._getQuery=function(t){return this._getParams(t,"?")},i.prototype._getHash=function(t){return this._getParams(t,"#")},i.prototype._getParams=function(t,e){var i,n,r,a,o;if(n=t.split(e),1===n.length)return{};for(n=n[1].split("&"),r={},a=0,o=n.length;a<o;a++)i=n[a],i=i.split("="),r[i[0]]=i[1]||"";return r},i.prototype._equal=function(t,e){var i,n;if("[object Object]"==={}.toString.call(t)&&"[object Object]"==={}.toString.call(e)){for(i in t)if(n=t[i],e[i]!==n)return!1;for(i in e)if(n=e[i],t[i]!==n)return!1;return!0}return t===e},i}(),e.Tour=i}(t,window)}).call(e,i(0))},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";(function(t){function n(t,e){o(t).find(".tag-name").each(function(){o(this).click(function(){var t=o(this).text(),i=t.split(":");return e(i[0],i[1]),!0})})}Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),a=function(t){return t&&t.__esModule?t:{default:t}}(r),o=a.default;a.default.fn.autocomplete_tagging=function(e){function i(t){o(t).mouseenter(function(){o(this).attr("src",l.delete_tag_img_rollover)}),o(t).mouseleave(function(){o(this).attr("src",l.delete_tag_img)}),o(t).click(function(){var e=o(this).parent(),i=e.find(".tag-name").eq(0),n=i.text(),r=n.split(":"),a=r[0],s=r[1],u=e.prev();e.remove(),delete l.tags[a];var d=l.get_toggle_link_text_fn(l.tags);return h.text(d),o.ajax({url:l.ajax_delete_tag_url,data:{tag_name:a},error:function(){l.tags[a]=s,u.hasClass("tag-button")?u.after(e):c.prepend(e),alert("Remove tag failed"),h.text(l.get_toggle_link_text_fn(l.tags)),t.mouseenter(function(){o(this).attr("src",l.delete_tag_img_rollover)}),t.mouseleave(function(){o(this).attr("src",l.delete_tag_img)})},success:function(){}}),!0})}function r(t){var e=o("<img/>").attr("src",l.delete_tag_img).addClass("delete-tag-img");i(e);var n=o("<span>").text(t).addClass("tag-name");n.click(function(){var e=t.split(":");return l.tag_click_fn(e[0],e[1]),!0});var r=o("<span></span>").addClass("tag-button");return r.append(n),l.editable&&r.append(e),r}var s={get_toggle_link_text_fn:function(e){var i=t.size(e);return i>0?i+(i>1?" Tags":" Tag"):"Add tags"},tag_click_fn:function(t,e){},editable:!0,input_size:20,in_form:!1,tags:{},use_toggle_link:!0,item_id:"",add_tag_img:"",add_tag_img_rollover:"",delete_tag_img:"",ajax_autocomplete_tag_url:"",ajax_retag_url:"",ajax_delete_tag_url:"",ajax_add_tag_url:""},l=a.default.extend(s,e),u=o(this),c=u.find(".tag-area"),h=u.find(".toggle-link"),d=u.find(".tag-input"),f=u.find(".add-tag-button");h.click(function(){var t;return t=c.is(":hidden")?function(){0===o(this).find(".tag-button").length&&c.click()}:function(){c.blur()},c.slideToggle("fast",t),o(this)}),l.editable&&d.hide(),d.keyup(function(t){if(27===t.keyCode)o(this).trigger("blur");else if(13===t.keyCode||188===t.keyCode||32===t.keyCode){var e=this.value;if(-1!==e.indexOf(": ",e.length-2))return this.value=e.substring(0,e.length-1),!1;if(188!==t.keyCode&&32!==t.keyCode||(e=e.substring(0,e.length-1)),e=o.trim(e),e.length<2)return!1;this.value="";var i=r(e),n=c.children(".tag-button");if(0!==n.length){var a=n.slice(n.length-1);a.after(i)}else c.prepend(i);var s=e.split(":");l.tags[s[0]]=s[1];var u=l.get_toggle_link_text_fn(l.tags);h.text(u);var d=o(this);return o.ajax({url:l.ajax_add_tag_url,data:{new_tag:e},error:function(){i.remove(),delete l.tags[s[0]];var t=l.get_toggle_link_text_fn(l.tags);h.text(t),alert("Add tag failed")},success:function(){d.data("autocompleter").cacheFlush()}}),!1}});var p=function(t,e,i,n,r){var a=n.split(":");return 1===a.length?a[0]:a[1]},g={selectFirst:!1,formatItem:p,autoFill:!1,highlight:!1};d.autocomplete_verheul(l.ajax_autocomplete_tag_url,g),u.find(".delete-tag-img").each(function(){i(o(this))}),n(o(this),l.tag_click_fn),f.click(function(){return o(this).hide(),c.click(),!1}),l.editable&&(c.bind("blur",function(e){t.size(l.tags)>0&&(f.show(),d.hide(),c.removeClass("active-tag-area"))}),c.click(function(t){var e=o(this).hasClass("active-tag-area");if(o(t.target).hasClass("delete-tag-img")&&!e)return!1;if(o(t.target).hasClass("tag-name")&&!e)return!1;o(this).addClass("active-tag-area"),f.hide(),d.show(),d.focus();var i=function(t){!function(t,e){t.attr("id");e!==t&&(t.blur(),o(window).unbind("click.tagging_blur"),o(this).addClass("tooltip"))}(c,o(t.target))};return o(window).bind("click.tagging_blur",i),!1})),l.use_toggle_link&&c.hide()},e.default=n}).call(e,i(1))},function(t,e,i){"use strict";function n(){h.hide()}function r(t,e,i,n,r){h.setContent({title:t,body:e,buttons:i,extra_buttons:n}),h.show({backdrop:!0},r)}function a(t,e,i,n,r){h.setContent({title:t,body:e,buttons:i,extra_buttons:n}),h.show({backdrop:!1},r)}function o(t){var e=t.width||"600",i=t.height||"400",r=t.scroll||"auto";u("#overlay-background").bind("click.overlay",function(){n(),u("#overlay-background").unbind("click.overlay")}),h.setContent({closeButton:!0,title:"&nbsp;",body:u("<div style='margin: -5px;'><iframe style='margin: 0; padding: 0;' src='"+t.url+"' width='"+e+"' height='"+i+"' scrolling='"+r+"' frameborder='0'></iframe></div>")}),h.show({backdrop:!0})}Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),l=function(t){return t&&t.__esModule?t:{default:t}}(s),u=l.default,c=function(t){this.$overlay=t.overlay,this.$dialog=t.dialog,this.$header=this.$dialog.find(".modal-header"),this.$body=this.$dialog.find(".modal-body"),this.$footer=this.$dialog.find(".modal-footer"),this.$backdrop=t.backdrop,this.$header.find(".close").on("click",u.proxy(this.hide,this))};u.extend(c.prototype,{setContent:function(t){this.$header.hide(),t.title&&(this.$header.find(".title").html(t.title),this.$header.show()),t.closeButton?(this.$header.find(".close").show(),this.$header.show()):this.$header.find(".close").hide(),this.$footer.hide();var e=this.$footer.find(".buttons").html("");t.buttons&&(u.each(t.buttons,function(t,i){e.append(u("<button></button> ").text(t).click(i)).append(" ")}),this.$footer.show());var i=this.$footer.find(".extra_buttons").html("");t.extra_buttons&&(u.each(t.extra_buttons,function(t,e){i.append(u("<button></button>").text(t).click(e)).append(" ")}),this.$footer.show());var n=t.body;"progress"==n&&(n=u("<div class='progress progress-striped active'><div class='progress-bar' style='width: 100%'></div></div>")),this.$body.html(n)},show:function(t,e){this.$dialog.is(":visible")||(t.backdrop?this.$backdrop.addClass("in"):this.$backdrop.removeClass("in"),this.$overlay.show(),this.$dialog.show(),this.$overlay.addClass("in"),this.$body.css("min-width",this.$body.width()),this.$body.css("max-height",u(window).height()-this.$footer.outerHeight()-this.$header.outerHeight()-parseInt(this.$dialog.css("padding-top"),10)-parseInt(this.$dialog.css("padding-bottom"),10))),e&&e()},hide:function(){var t=this;t.$dialog.fadeOut(function(){t.$overlay.hide(),t.$backdrop.removeClass("in"),t.$body.children().remove(),t.$body.css("min-width",void 0)})}});var h;u(function(){h=new c({overlay:u("#top-modal"),dialog:u("#top-modal-dialog"),backdrop:u("#top-modal-backdrop")})}),e.default={Modal:c,hide_modal:n,show_modal:r,show_message:a,show_in_overlay:o}},function(t,e,i){"use strict";function n(t,e,i,n,r,a,s,l,u){void 0===r&&(r=30),void 0===s&&(s=4),o("#"+t).click(function(){if(!(o("#renaming-active").length>0)){var t,c=o("#"+e),h=c.text();t=a?o("<textarea></textarea>").attr({rows:s,cols:r}).text(o.trim(h)):o("<input type='text'></input>").attr({value:o.trim(h),size:r}),t.attr("id","renaming-active"),t.blur(function(){o(this).remove(),c.show(),u&&u(t)}),t.keyup(function(r){if(27===r.keyCode)o(this).trigger("blur");else if(13===r.keyCode){var a={};a[n]=o(this).val(),o(this).trigger("blur"),o.ajax({url:i,data:a,error:function(){alert("Text editing for elt "+e+" failed")},success:function(e){""!==e?c.text(e):c.html("<em>None</em>"),u&&u(t)}})}}),l&&l(t),c.hide(),t.insertAfter(c),t.focus(),t.select()}})}Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),a=function(t){return t&&t.__esModule?t:{default:t}}(r),o=a.default;e.default=n},function(t,e,i){"use strict";(function(t,n,r){function a(e){var i=f(e);sessionStorage.setItem("activeGalaxyTour",JSON.stringify(e));var n=new c(t.extend({steps:i.steps},d));return n.init(),n.goTo(0),n.restart(),n}function o(t){var e=h+"api/tours/"+t;n.getJSON(e,function(t){a(t)})}function s(){var e=JSON.parse(sessionStorage.getItem("activeGalaxyTour"));if(e&&(e=f(e))&&e.steps&&window&&window.self===window.top){var i=new c(t.extend({steps:e.steps},d));i.init(),i.restart()}}Object.defineProperty(e,"__esModule",{value:!0}),e.ToursView=void 0,e.giveTourWithData=a,e.giveTourById=o,e.activeGalaxyTourRunner=s;var l=i(3),u=function(t){return t&&t.__esModule?t:{default:t}}(l);i(108);var c=window.Tour,h="undefined"==typeof Galaxy?"/":Galaxy.root,d={storage:window.sessionStorage,onEnd:function(){sessionStorage.removeItem("activeGalaxyTour")},delay:150,orphan:!0},f=function(e){return t.each(e.steps,function(e){e.preclick&&(e.onShow=function(){t.each(e.preclick,function(t){n(t).click()})}),e.postclick&&(e.onHide=function(){t.each(e.postclick,function(t){n(t).click()})}),e.textinsert&&(e.onShown=function(){n(e.element).val(e.textinsert).trigger("change")}),e.path&&(console.warn("This Galaxy Tour is attempting to use path navigation.  This is known to be unstable and can possibly get the Galaxy client 'stuck' in a tour, and at this time is not allowed."),delete e.path)}),e},p=r.Model.extend({urlRoot:h+"api/tours"}),g=r.Collection.extend({url:h+"api/tours",model:p}),m=e.ToursView=r.View.extend({title:(0,u.default)("Tours"),initialize:function(){var t=this;this.setElement("<div/>"),this.model=new g,this.model.fetch({success:function(){t.render()},error:function(){console.error("Failed to fetch tours.")}})},render:function(){var e=t.template('<h2>Galaxy Tours</h2>\n<p>This page presents a list of interactive tours available on this Galaxy server.\nSelect any tour to get started (and remember, you can click \'End Tour\' at any time).</p>\n\n<div class="col-12 btn-group" role="group" aria-label="Tag selector">\n    <% _.each(tourtagorder, function(tag) { %>\n    <button class="btn btn-primary tag-selector-button" tag-selector-button="<%- tag %>">\n        <%- tag %>\n    </button>\n    <% }); %>\n</div>\n\n<% _.each(tourtagorder, function(tourtagkey) { %>\n<div tag="<%- tourtagkey %>" style="display: block;">\n    <% var tourtag = tourtags[tourtagkey]; %>\n    <h4>\n        <%- tourtag.name %>\n    </h4>\n    <ul class="list-group">\n    <% _.each(tourtag.tours, function(tour) { %>\n        <li class="list-group-item">\n            <a href="/tours/<%- tour.id %>" class="tourItem" data-tour.id=<%- tour.id %>>\n                <%- tour.name || tour.id %>\n            </a>\n             - <%- tour.attributes.description || "No description given." %>\n             <% _.each(tour.attributes.tags, function(tag) { %>\n                <span class="label label-primary sm-label-pad">\n                    <%- tag.charAt(0).toUpperCase() + tag.slice(1) %>\n                </span>\n             <% }); %>\n        </li>\n    <% }); %>\n    </ul>\n</div>\n<% }); %>'),i={};t.each(this.model.models,function(e){null===e.attributes.tags?(void 0===i.Untagged&&(i.Untagged={name:"Untagged",tours:[]}),i.Untagged.tours.push(e)):t.each(e.attributes.tags,function(t){t=t.charAt(0).toUpperCase()+t.slice(1),void 0===i[t]&&(i[t]={name:t,tours:[]}),i[t].tours.push(e)})});var r=Object.keys(i).sort();this.$el.html(e({tours:this.model.models,tourtags:i,tourtagorder:r})).on("click",".tourItem",function(t){t.preventDefault(),o(n(this).data("tour.id"))}).on("click",".tag-selector-button",function(t){var e=n(t.target),i="block",r=e.attr("tag-selector-button");e.toggleClass("btn-primary"),e.toggleClass("btn-secondary"),e.hasClass("btn-secondary")&&(i="none"),n("div[tag='"+r+"']").css({display:i})})}});e.default={ToursView:m,giveTourWithData:a,giveTourById:o,activeGalaxyTourRunner:s}}).call(e,i(1),i(0),i(2))},function(t,e,i){"use strict";(function(t,n,r){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),s=a(o),l=i(79),u=a(l),c=t.View.extend({initialize:function(e){var i=this;this.data=[],this.data2=[],this.model=e&&e.model||new t.Model({id:s.default.uid(),cls:"ui-select",error_text:"No options available",empty_text:"Nothing selected",visible:!0,wait:!1,multiple:!1,searchable:!0,optional:!1,disabled:!1,readonly:!1,onchange:function(){},value:null,individual:!1,pagesize:20}).set(e),this.on("change",function(){i.model.get("onchange")&&i.model.get("onchange")(i.value())}),this.listenTo(this.model,"change:data",this._changeData,this),this.listenTo(this.model,"change:disabled",this._changeDisabled,this),this.listenTo(this.model,"change:wait",this._changeWait,this),this.listenTo(this.model,"change:visible",this._changeVisible,this),this.listenTo(this.model,"change:value",this._changeValue,this),this.listenTo(this.model,"change:multiple change:searchable change:cls change:id",this.render,this),this.render()},render:function(){var t=this;this.model.get("searchable")?this._renderSearchable():this._renderClassic(),this.$el.addClass(this.model.get("cls")).attr("id",this.model.get("id")),this.$select.empty().addClass("select").attr("id",this.model.get("id")+"_select").prop("multiple",this.model.get("multiple")).on("change",function(){t.value(t._getValue()),t.trigger("change")}),this._changeData(),this._changeWait(),this._changeVisible(),this._changeDisabled()},_renderClassic:function(){var t=this;this.$el.addClass(this.model.get("multiple")?"ui-select-multiple":"ui-select").append(this.$select=n("<select/>")).append(this.$dropdown=n("<div/>")).append(this.$resize=n("<div/>").append(this.$resize_icon=n("<i/>"))),this.model.get("multiple")?(this.$dropdown.hide(),this.$resize_icon.addClass("fa fa-angle-double-right fa-rotate-45").show(),this.$resize.removeClass().addClass("icon-resize").show().off("mousedown").on("mousedown",function(e){var i=e.pageY,r=t.$select.height();t.minHeight=t.minHeight||r,n("#dd-helper").show().on("mousemove",function(e){t.$select.height(Math.max(r+(e.pageY-i),t.minHeight))}).on("mouseup mouseleave",function(){n("#dd-helper").hide().off()})})):(this.$dropdown.show(),this.$resize.hide(),this.$resize_icon.hide())},_renderSearchable:function(){var t=this;this.$el.append(this.$select=n("<div/>")).append(this.$dropdown=n("<div/>")),this.$dropdown.hide(),this.model.get("multiple")||this.$dropdown.show().on("click",function(){t.$select.select2&&t.$select.select2("open")}),this.all_button=null,!this.model.get("multiple")||this.model.get("individual")||this.model.get("readonly")||(this.all_button=new u.default.ButtonCheck({onclick:function(){var e=[];0!==t.all_button.value()&&r.each(t.model.get("data"),function(t){e.push(t.value)}),t.value(e),t.trigger("change")}}),this.$el.prepend(this.all_button.$el))},_match:function(t,e){return!t||""===t||String(e).toUpperCase().indexOf(t.toUpperCase())>=0},_changeData:function(){var t=this;this.data=[],!this.model.get("multiple")&&this.model.get("optional")&&this.data.push({value:"__null__",label:this.model.get("empty_text")}),r.each(this.model.get("data"),function(e){t.data.push(e)}),0===this.length()&&this.data.push({value:"__null__",label:this.model.get("error_text")}),this.model.get("searchable")?(this.data2=[],r.each(this.data,function(e,i){t.data2.push({order:i,id:e.value,text:e.label,tags:e.tags})}),this.$select.data("select2")&&this.$select.select2("destroy"),this.matched_tags={},this.$select.select2({data:this.data2,closeOnSelect:!this.model.get("multiple"),multiple:this.model.get("multiple"),query:function(e){t.matched_tags={};var i=t.model.get("pagesize"),n=r.filter(t.data2,function(i){var n=!1;return r.each(i.tags,function(i){t._match(e.term,i)&&(n=t.matched_tags[i]=!0)}),n||t._match(e.term,i.text)});e.callback({results:n.slice((e.page-1)*i,e.page*i),more:n.length>=e.page*i})},formatResult:function(e){var i="",n=r.filter(e.tags,function(e){return t.matched_tags.hasOwnProperty(e)});return n.length>5&&(i='&nbsp;<div class="label label-warning">'+(n.length-5)+" more tags</div>"),"\n                    "+r.escape(e.text)+'\n                    <div class="ui-tags">\n                        '+r.reduce(n.slice(0,5),function(t,e){return t+'&nbsp;<div class="label label-info">'+r.escape(e)+"</div>"},"")+"\n                        "+i+"\n                   </div>"}}),this.$(".select2-container .select2-search input").off("blur")):(this.$select.find("option").remove(),r.each(this.data,function(e){t.$select.append(n("<option/>").attr("value",e.value).html(r.escape(e.label)))})),this.model.set("disabled",this.model.get("readonly")||0===this.length()),this._changeValue()},_changeDisabled:function(){this.model.get("searchable")?this.$select.select2(this.model.get("disabled")?"disable":"enable"):this.$select.prop("disabled",this.model.get("disabled"))},_changeWait:function(){this.$dropdown.removeClass().addClass("icon-dropdown fa").addClass(this.model.get("wait")?"fa-spinner fa-spin":"fa-caret-down")},_changeVisible:function(){this.$el[this.model.get("visible")?"show":"hide"](),this.$select[this.model.get("visible")?"show":"hide"]()},_changeValue:function(){if(this._setValue(this.model.get("value")),this.model.get("multiple")){if(this.all_button){var t=this._getValue();this.all_button.value(n.isArray(t)?t.length:0,this.length())}}else null!==this._getValue()||this.model.get("optional")||this._setValue(this.first())},value:function(t){return void 0!==t&&this.model.set("value",t),this._getValue()},first:function(){return this.data.length>0?this.data[0].value:null},exists:function(t){return r.findWhere(this.data,{value:t})},text:function(){var t=this._getValue(),e=this.exists(n.isArray(t)?t[0]:t);return e?e.label:""},show:function(){this.model.set("visible",!0)},hide:function(){this.model.set("visible",!1)},wait:function(){this.model.set("wait",!0)},unwait:function(){this.model.set("wait",!1)},disabled:function(){return this.model.get("disabled")},enable:function(){this.model.set("disabled",!1)},disable:function(){this.model.set("disabled",!0)},add:function(t,e){r.each(this.model.get("data"),function(e){e.keep&&!r.findWhere(t,{value:e.value})&&t.push(e)}),e&&t&&t.sort(e),this.model.set("data",t)},update:function(t){this.model.set("data",t)},setOnChange:function(t){this.model.set("onchange",t)},length:function(){return n.isArray(this.model.get("data"))?this.model.get("data").length:0},_setValue:function(t){var e=this;if(null!==t&&void 0!==t||(t="__null__"),this.model.get("multiple")?t=n.isArray(t)?t:[t]:n.isArray(t)&&(t=t.length>0?t[0]:"__null__"),this.model.get("searchable")){if(n.isArray(t)){var i=[];r.each(t,function(t){var n=r.findWhere(e.data2,{id:t});n&&i.push(n)}),t=i}else{t=r.findWhere(this.data2,{id:t})}this.$select.select2("data",t)}else this.$select.val(t)},_getValue:function(){var t=null;if(this.model.get("searchable")){var e=this.$select.select2("data");e&&(n.isArray(e)?(t=[],e.sort(function(t,e){return t.order-e.order}),r.each(e,function(e){t.push(e.id)})):t=e.id)}else t=this.$select.val();return s.default.isEmpty(t)?null:t}});e.default={View:c}}).call(e,i(2),i(0),i(1))},function(t,e,i){"use strict";(function(t,n,r){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),s=a(o),l=i(79),u=a(l),c=t.View.extend({initialize:function(e){var i=this;this.model=e&&e.model||new t.Model({visible:!0,data:[],id:s.default.uid(),error_text:"No options available.",wait_text:"Please wait...",multiple:!1,optional:!1,onchange:function(){}}).set(e),this.listenTo(this.model,"change:value",this._changeValue,this),this.listenTo(this.model,"change:wait",this._changeWait,this),this.listenTo(this.model,"change:data",this._changeData,this),this.listenTo(this.model,"change:visible",this._changeVisible,this),this.on("change",function(){i.model.get("onchange")(i.value())}),this.render()},render:function(){var t=this;this.$el.empty().removeClass().addClass("ui-options").append(this.$message=n("<div/>")).append(this.$menu=n("<div/>").addClass("ui-options-menu")).append(this.$options=n(this._template())),this.all_button=null,this.model.get("multiple")&&(this.all_button=new u.default.ButtonCheck({onclick:function(){t.$("input").prop("checked",0!==t.all_button.value()),t.value(t._getValue()),t.trigger("change")}}),this.$menu.append(this.all_button.$el)),this._changeData(),this._changeWait(),this._changeVisible()},update:function(t){this.model.set("data",t)},_changeData:function(){var t=this;this.$options.empty(),this._templateOptions?this.$options.append(this._templateOptions(this.model.get("data"))):r.each(this.model.get("data"),function(e){t.$options.append(n(t._templateOption(e)).addClass("ui-option").tooltip({title:e.tooltip,placement:"bottom"}))});var t=this;this.$("input").on("change",function(){t.value(t._getValue()),t.trigger("change")}),this._changeValue(),this._changeWait()},_changeVisible:function(){this.$el[this.model.get("visible")?"show":"hide"]()},_changeWait:function(){this.model.get("wait")?0===this.length()&&(this._messageShow(this.model.get("wait_text"),"info"),this.$options.hide(),this.$menu.hide()):0===this.length()?(this._messageShow(this.model.get("error_text"),"danger"),this.$options.hide(),this.$menu.hide()):(this.$message.hide(),this.$options.css("display","inline-block"),this.$menu.show())},_changeValue:function(){this._setValue(this.model.get("value")),null!==this._getValue()||this.model.get("multiple")||this.model.get("optional")||this._setValue(this.first()),this.all_button&&this.all_button.value(n.isArray(this._getValue())?this._getValue().length:0,this.length())},value:function(t){return void 0!==t&&this.model.set("value",t),this._getValue()},first:function(){var t=this.$("input").first();return t.length>0?t.val():null},wait:function(){this.model.set("wait",!0)},unwait:function(){this.model.set("wait",!1)},length:function(){return this.$(".ui-option").length},_setValue:function(t){var e=this;if(void 0!==t&&(this.$("input").prop("checked",!1),null!==t)){var i=n.isArray(t)?t:[t];r.each(i,function(t){e.$('input[value="'+t+'"]').first().prop("checked",!0)})}},_getValue:function(){var t=[];return this.$(":checked").each(function(){t.push(n(this).val())}),s.default.isEmpty(t)?null:this.model.get("multiple")?t:t[0]},_messageShow:function(t,e){this.$message.show().removeClass().addClass("ui-message alert alert-"+e).html(t)},_template:function(){return n("<div/>").addClass("ui-options-list")}}),h=c.extend({_templateOption:function(t){var e=s.default.uid();return n("<div/>").addClass("ui-option").append(n("<input/>").attr({id:e,type:this.model.get("type"),name:this.model.id,value:t.value})).append(n("<label/>").addClass("ui-options-label").attr("for",e).html(t.label))}}),d={};d.View=h.extend({initialize:function(t){t.type="radio",h.prototype.initialize.call(this,t)}});var f={};f.View=h.extend({initialize:function(t){t.type="checkbox",t.multiple=!0,h.prototype.initialize.call(this,t)}});var p={};p.View=c.extend({initialize:function(t){c.prototype.initialize.call(this,t)},_setValue:function(t){void 0!==t&&(this.$("input").prop("checked",!1),this.$("label").removeClass("active"),this.$('[value="'+t+'"]').prop("checked",!0).closest("label").addClass("active"))},_templateOption:function(t){var e=n("<label/>").addClass("btn btn-default");return t.icon&&e.append(n("<i/>").addClass("fa").addClass(t.icon).addClass(!t.label&&"no-padding")),e.append(n("<input/>").attr({type:"radio",name:this.model.id,value:t.value})),t.label&&e.append(t.label),e},_template:function(){return n("<div/>").addClass("btn-group ui-radiobutton").attr("data-toggle","buttons")}}),e.default={Base:c,BaseIcons:h,Radio:d,RadioButton:p,Checkbox:f}}).call(e,i(2),i(0),i(1))},function(t,e,i){"use strict";(function(t,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(3),o=r(a),s=i(1),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(s),u=i(117),c=r(u),h=i(25),d=r(h),f=i(44),p=r(f),g=i(27),m=r(g),v=i(26),_=r(v),y=i(5),b=r(y);i(103),i(102),i(104),i(63),i(106),i(77),i(76),i(105),i(15);var w=null,x=null,C=function(){this.initialize&&this.initialize.apply(this,arguments)};C.extend=t.Model.extend;var k=C.extend({initialize:function(t){b.default.cssLoadFile("static/style/jquery.rating.css"),b.default.cssLoadFile("static/style/autocomplete_tagging.css"),b.default.cssLoadFile("static/style/jquery-ui/smoothness/jquery-ui.css"),b.default.cssLoadFile("static/style/library.css"),b.default.cssLoadFile("static/style/trackster.css"),this.baseURL=t},save_viz:function(){Galaxy.modal.show({title:"Saving...",body:"progress"});var t=[];n(".bookmark").each(function(){t.push({position:n(this).children(".position").text(),annotation:n(this).children(".annotation").text()})});var e=x.overview_drawable?x.overview_drawable.config.get_value("name"):null,i={view:x.to_dict(),viewport:{chrom:x.chrom,start:x.low,end:x.high,overview:e},bookmarks:t};return n.ajax({url:Galaxy.root+"visualization/save",type:"POST",dataType:"json",data:{id:x.vis_id,title:x.config.get_value("name"),dbkey:x.dbkey,type:"trackster",vis_json:JSON.stringify(i)}}).success(function(t){Galaxy.modal.hide(),x.vis_id=t.vis_id,x.has_changes=!1,window.history.pushState({},"",t.url+window.location.hash)}).error(function(){Galaxy.modal.show({title:(0,o.default)("Could Not Save"),body:"Could not save visualization. Please try again later.",buttons:{Cancel:function(){Galaxy.modal.hide()}}})})},createButtonMenu:function(){var t=this,e=p.default.create_icon_buttons_menu([{icon_class:"plus-button",title:(0,o.default)("Add tracks"),on_click:function(){d.default.select_datasets({dbkey:x.dbkey},function(t){l.each(t,function(t){x.add_drawable(c.default.object_from_template(t,x,x))})})}},{icon_class:"block--plus",title:(0,o.default)("Add group"),on_click:function(){x.add_drawable(new c.default.DrawableGroup(x,x,{name:"New Group"}))}},{icon_class:"bookmarks",title:(0,o.default)("Bookmarks"),on_click:function(){window.force_right_panel("0px"==n("div#right").css("right")?"hide":"show")}},{icon_class:"globe",title:(0,o.default)("Circster"),on_click:function(){window.location=t.baseURL+"visualization/circster?id="+x.vis_id}},{icon_class:"disk--arrow",title:(0,o.default)("Save"),on_click:function(){t.save_viz()}},{icon_class:"cross-circle",title:(0,o.default)("Close"),on_click:function(){t.handle_unsaved_changes(x)}}],{tooltip_config:{placement:"bottom"}});return this.buttonMenu=e,e},add_bookmark:function(t,e,i){var r=n("#right .unified-panel-body"),a=n("<div/>").addClass("bookmark").appendTo(r),o=n("<div/>").addClass("position").appendTo(a),s=(n("<a href=''/>").text(t).appendTo(o).click(function(){return x.go_to(t),!1}),n("<div/>").text(e).appendTo(a));if(i){var l=n("<div/>").addClass("delete-icon-container").prependTo(a).click(function(){return a.slideUp("fast"),a.remove(),x.has_changes=!0,!1});n("<a href=''/>").addClass("icon-button delete").appendTo(l);s.make_text_editable({num_rows:3,use_textarea:!0,help_text:"Edit bookmark note"}).addClass("annotation")}return x.has_changes=!0,a},create_visualization:function(t,e,i,r,a){var o=this;return x=new c.default.TracksterView(l.extend(t,{header:!1})),x.editor=!0,n.when(x.load_chroms_deferred).then(function(t){if(e){var n=e.chrom,s=e.start,l=e.end,u=e.overview;n&&void 0!==s&&l?x.change_chrom(n,s,l):x.change_chrom(t[0].chrom)}else x.change_chrom(t[0].chrom);if(i)for(var h=0;h<i.length;h++)x.add_drawable(c.default.object_from_template(i[h],x,x));for(var h=0;h<x.drawables.length;h++)if(x.drawables[h].config.get_value("name")===u){x.set_overview(x.drawables[h]);break}if(r)for(var d,h=0;h<r.length;h++)d=r[h],o.add_bookmark(d.position,d.annotation,a);x.has_changes=!1}),this.set_up_router({view:x}),x},set_up_router:function(e){new d.default.TrackBrowserRouter(e),t.history.start()},init_keyboard_nav:function(t){n(document).keyup(function(e){if(!n(e.srcElement).is(":input"))switch(e.which){case 37:t.move_fraction(.25);break;case 38:Math.round(t.viewport_container.height()/15);t.viewport_container.scrollTop(t.viewport_container.scrollTop()-20);break;case 39:t.move_fraction(-.25);break;case 40:Math.round(t.viewport_container.height()/15);t.viewport_container.scrollTop(t.viewport_container.scrollTop()+20)}})},handle_unsaved_changes:function(t){if(t.has_changes){var e=this;Galaxy.modal.show({title:(0,o.default)("Close visualization"),body:"There are unsaved changes to your visualization which will be lost if you do not save them.",buttons:{Cancel:function(){Galaxy.modal.hide()},"Leave without Saving":function(){n(window).off("beforeunload"),window.location=Galaxy.root+"visualization"},Save:function(){n.when(e.save_viz()).then(function(){window.location=Galaxy.root+"visualization"})}}})}else window.location=Galaxy.root+"visualization"}}),S=t.View.extend({initialize:function(){w=new k(Galaxy.root),w.createButtonMenu(),w.buttonMenu.$el.attr("style","float: right"),n("#center .unified-panel-header-inner").append(w.buttonMenu.$el),n("#right .unified-panel-title").append("Bookmarks"),n("#right .unified-panel-icons").append("<a id='add-bookmark-button' class='icon-button menu-button plus-button' href='javascript:void(0);' title='Add bookmark'></a>"),n("#right-border").click(function(){x.resize_window()}),window.force_right_panel("hide"),window.galaxy_config.app.id?this.view_existing():m.default.get("dataset_id")?this.choose_existing_or_new():this.view_new()},choose_existing_or_new:function(){var t=this,e=m.default.get("dbkey"),i={},n={dbkey:e,dataset_id:m.default.get("dataset_id"),hda_ldda:m.default.get("hda_ldda"),gene_region:m.default.get("gene_region")};e&&(i["f-dbkey"]=e),Galaxy.modal.show({title:"View Data in a New or Saved Visualization?",body:"<p><ul style='list-style: disc inside none'>You can add this dataset as:<li>a new track to one of your existing, saved Trackster sessions if they share the genome build: <b>"+(e||"Not available.")+"</b></li><li>or create a new session with this dataset as the only track</li></ul></p>",buttons:{Cancel:function(){window.location=Galaxy.root+"visualizations/list"},"View in saved visualization":function(){t.view_in_saved(n)},"View in new visualization":function(){t.view_new()}}})},view_in_saved:function(t){var e=new _.default({url_base:Galaxy.root+"visualization/list_tracks",embedded:!0});Galaxy.modal.show({title:(0,o.default)("Add Data to Saved Visualization"),body:e.$el,buttons:{Cancel:function(){window.location=Galaxy.root+"visualizations/list"},"Add to visualization":function(){n(parent.document).find("input[name=id]:checked").each(function(){t.id=n(this).val(),window.location=Galaxy.root+"visualization/trackster?"+n.param(t)})}}})},view_existing:function(){var t=window.galaxy_config.app.viz_config;x=w.create_visualization({container:n("#center .unified-panel-body"),name:t.title,vis_id:t.vis_id,dbkey:t.dbkey},t.viewport,t.tracks,t.bookmarks,!0),this.init_editor()},view_new:function(){var t=this;n.ajax({url:Galaxy.root+"api/genomes?chrom_info=True",data:{},error:function(){alert("Couldn't create new browser.")},success:function(e){Galaxy.modal.show({title:(0,o.default)("New Visualization"),body:t.template_view_new(e),buttons:{Cancel:function(){window.location=Galaxy.root+"visualizations/list"},Create:function(){t.create_browser(n("#new-title").val(),n("#new-dbkey").val()),Galaxy.modal.hide()}}});var i=e.map(function(t){return t[1]});window.galaxy_config.app.default_dbkey&&l.contains(i,window.galaxy_config.app.default_dbkey)&&n("#new-dbkey").val(window.galaxy_config.app.default_dbkey),n("#new-title").focus(),n("select[name='dbkey']").select2(),n("#overlay").css("overflow","auto")}})},template_view_new:function(t){for(var e='<form id="new-browser-form" action="javascript:void(0);" method="post" onsubmit="return false;"><div class="form-row"><label for="new-title">Browser name:</label><div class="form-row-input"><input type="text" name="title" id="new-title" value="Unnamed"></input></div><div style="clear: both;"></div></div><div class="form-row"><label for="new-dbkey">Reference genome build (dbkey): </label><div class="form-row-input"><select name="dbkey" id="new-dbkey">',i=0;i<t.length;i++)e+='<option value="'+t[i][1]+'">'+t[i][0]+"</option>";return e+='</select></div><div style="clear: both;"></div></div><div class="form-row">Is the build not listed here? <a href="'+Galaxy.root+'custom_builds">Add a Custom Build</a></div></form>'},create_browser:function(t,e){n(document).trigger("convert_to_values"),x=w.create_visualization({container:n("#center .unified-panel-body"),name:t,dbkey:e},window.galaxy_config.app.gene_region),this.init_editor(),x.editor=!0},init_editor:function(){n("#center .unified-panel-title").text(x.config.get_value("name")+" ("+x.dbkey+")"),window.galaxy_config.app.add_dataset&&n.ajax({url:Galaxy.root+"api/datasets/"+window.galaxy_config.app.add_dataset,data:{hda_ldda:"hda",data_type:"track_config"},dataType:"json",success:function(t){x.add_drawable(c.default.object_from_template(t,x,x))}}),n("#add-bookmark-button").click(function(){var t=x.chrom+":"+x.low+"-"+x.high;return w.add_bookmark(t,"Bookmark description",!0)}),w.init_keyboard_nav(x),n(window).on("beforeunload",function(){if(x.has_changes)return"There are unsaved changes to your visualization that will be lost if you leave this page."})}});e.default={TracksterUI:k,GalaxyApp:S}}).call(e,i(2),i(0))},function(t,e,i){"use strict";(function(t,n){function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){e||(e=0);var i=Math.pow(10,e);return Math.round(t*i)/i}function o(e){var i=t.Deferred();return t.ajax({type:"HEAD",url:e,beforeSend:function(t){t.setRequestHeader("Range","bytes=0-10")},success:function(t,e,n){i.resolve(206===n.status)}}),i}Object.defineProperty(e,"__esModule",{value:!0});var s=i(3),l=r(s),u=i(1),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(u),h=i(25),d=r(h),f=i(161),p=r(f),g=i(45),m=r(g),v=i(162),_=r(v),y=i(163),b=r(y),w=i(164),x=r(w),C=i(24),k=r(C),S=i(80),T=r(S),A=i(46),M=r(A),E=i(245),O=r(E);i(15);var D=c.extend,$={},j=function(t,e){$[t.attr("id")]=e},P=function(e,i,n,r){n=".group",$[e.attr("id")]=r,e.bind("drag",{handle:"."+i,relative:!0},function(e,i){var r,a,o,s,l,u=(t(this),t(this).parent()),c=u.children(".track,.group"),h=$[t(this).attr("id")];if(a=t(this).parents(n),0!==a.length){o=a.position().top,s=o+a.outerHeight();var d=$[a.attr("id")];if(i.offsetY<o)return t(this).insertBefore(a),d.remove_drawable(h),void d.container.add_drawable_before(h,d);if(i.offsetY>s)return t(this).insertAfter(a),d.remove_drawable(h),void d.container.add_drawable(h)}for(a=null,l=0;l<c.length;l++)if(r=t(c.get(l)),o=r.position().top,s=o+r.outerHeight(),r.is(n)&&this!==r.get(0)&&i.offsetY>=o&&i.offsetY<=s)return i.offsetY-o<s-i.offsetY?r.find(".content-div").prepend(this):r.find(".content-div").append(this),h.container&&h.container.remove_drawable(h),void $[r.attr("id")].add_drawable(h);for(l=0;l<c.length&&(r=t(c.get(l)),!(i.offsetY<r.position().top)||r.hasClass("reference-track")||r.hasClass("intro"));l++);l===c.length?this!==c.get(l-1)&&(u.append(this),$[u.attr("id")].move_drawable(h,l)):this!==c.get(l)&&(t(this).insertBefore(c.get(l)),$[u.attr("id")].move_drawable(h,i.deltaY>0?l-1:l))}).bind("dragstart",function(){t(this).addClass("dragging")}).bind("dragend",function(){t(this).removeClass("dragging")})},R="A converter for this dataset is not installed. Please check your datatypes_conf.xml file.",I=["Histogram","Line","Filled","Intensity"],N=function t(e,i,n){if(t.id_counter||(t.id_counter=0),this.id=t.id_counter++,this.view=e,this.container=i,this.drag_handle_class=n.drag_handle_class,this.is_overview=!1,this.action_icons={},this.config=M.default.ConfigSettingCollection.from_models_and_saved_values(this.config_params,n.prefs),this.config.get_value("name")||this.config.set_value("name",n.name),this.config_onchange&&this.config.on("change",this.config_onchange,this),this.container_div=this.build_container_div(),this.header_div=null,!1!==n.header){var r=new p.default.TrackHeaderView({model:this,id:this.id});this.header_div=r.$el,this.container_div.append(this.header_div);var a=r.icons_div;this.action_icons=r.action_icons,this.container_div.hover(function(){a.show()},function(){a.hide()})}};N.prototype.action_icons_def=[{name:"toggle_icon",title:"Hide/show content",css_class:"toggle",on_click_fn:function(t){t.config.get_value("content_visible")?(t.action_icons.toggle_icon.addClass("toggle-expand").removeClass("toggle"),t.hide_contents(),t.config.set_value("content_visible",!1)):(t.action_icons.toggle_icon.addClass("toggle").removeClass("toggle-expand"),t.config.set_value("content_visible",!0),t.show_contents())}},{name:"settings_icon",title:(0,l.default)("Edit settings"),css_class:"gear",on_click_fn:function(t){new M.default.ConfigSettingCollectionView({collection:t.config}).render_in_modal("Configure Track")}},{name:"remove_icon",title:(0,l.default)("Remove"),css_class:"remove-icon",on_click_fn:function(e){t(".tooltip").remove(),e.remove()}}],D(N.prototype,{config_params:[{key:"name",label:"Name",type:"text",default_value:""},{key:"content_visible",type:"bool",default_value:!0,hidden:!0}],config_onchange:function(){},init:function(){},changed:function(){this.view.changed()},can_draw:function(){return!(!this.enabled||!this.config.get_value("content_visible"))},request_draw:function(){},_draw:function(t){},to_dict:function(){},set_name:function(t){this.old_name=this.config.get_value("name"),this.config.set_value("name",t)},revert_name:function(){this.old_name&&this.config.set_value("name",this.old_name)},remove:function(){this.changed(),this.container.remove_drawable(this);var e=this.view;this.container_div.hide(0,function(){t(this).remove(),e.update_intro_div()})},build_container_div:function(){},update_icons:function(){},hide_contents:function(){},show_contents:function(){},get_drawables:function(){}});var L=function(t,e,i){N.call(this,t,e,i),this.obj_type=i.obj_type,this.drawables=[]};D(L.prototype,N.prototype,{unpack_drawables:function(t){this.drawables=[];for(var e,i=0;i<t.length;i++)e=at(t[i],this.view,this),this.add_drawable(e)},init:function(){for(var t=0;t<this.drawables.length;t++)this.drawables[t].init()},_draw:function(t){for(var e=0;e<this.drawables.length;e++)this.drawables[e]._draw(t)},to_dict:function(){for(var t=[],e=0;e<this.drawables.length;e++)t.push(this.drawables[e].to_dict());return{prefs:this.config.to_key_value_dict(),obj_type:this.obj_type,drawables:t}},add_drawable:function(t){this.drawables.push(t),t.container=this,this.changed()},add_drawable_before:function(t,e){this.changed();var i=this.drawables.indexOf(e);return-1!==i&&(this.drawables.splice(i,0,t),!0)},replace_drawable:function(t,e,i){var n=this.drawables.indexOf(t);return-1!==n&&(this.drawables[n]=e,i&&t.container_div.replaceWith(e.container_div),this.changed()),n},remove_drawable:function(t){var e=this.drawables.indexOf(t);return-1!==e&&(this.drawables.splice(e,1),t.container=null,this.changed(),!0)},move_drawable:function(t,e){var i=this.drawables.indexOf(t);return-1!==i&&(this.drawables.splice(i,1),this.drawables.splice(e,0,t),this.changed(),!0)},get_drawables:function(){return this.drawables},get_tracks:function(t){for(var e,i=this.drawables.slice(0),n=[];0!==i.length;)e=i.shift(),e instanceof t?n.push(e):e.drawables&&(i=i.concat(e.drawables));return n}});var z=function(e,i,n){if(D(n,{obj_type:"DrawableGroup",drag_handle_class:"group-handle"}),L.call(this,e,i,n),this.content_div=t("<div/>").addClass("content-div").attr("id","group_"+this.id+"_content_div").appendTo(this.container_div),j(this.container_div,this),j(this.content_div,this),P(this.container_div,this.drag_handle_class,".group",this),this.filters_manager=new x.default.FiltersManager(this),this.header_div.after(this.filters_manager.parent_div),this.filters_manager.parent_div.after(t("<div style='clear: both'/>")),this.saved_filters_managers=[],"drawables"in n&&this.unpack_drawables(n.drawables),"filters"in n){var r=this.filters_manager;this.filters_manager=new x.default.FiltersManager(this,n.filters),r.parent_div.replaceWith(this.filters_manager.parent_div),n.filters.visible&&this.setup_multitrack_filtering()}};D(z.prototype,N.prototype,L.prototype,{action_icons_def:[N.prototype.action_icons_def[0],N.prototype.action_icons_def[1],{name:"composite_icon",title:(0,l.default)("Show composite track"),css_class:"layers-stack",on_click_fn:function(e){t(".tooltip").remove(),e.show_composite_track()}},{name:"filters_icon",title:(0,l.default)("Filters"),css_class:"ui-slider-050",on_click_fn:function(t){t.filters_manager.visible()?(t.filters_manager.clear_filters(),t._restore_filter_managers()):(t.setup_multitrack_filtering(),t.request_draw({clear_tile_cache:!0})),t.filters_manager.toggle()}},N.prototype.action_icons_def[2]],build_container_div:function(){var e=t("<div/>").addClass("group").attr("id","group_"+this.id);return this.container&&this.container.content_div.append(e),e},hide_contents:function(){this.tiles_div.hide()},show_contents:function(){this.tiles_div.show(),this.request_draw()},update_icons:function(){var e=this.drawables.length;if(0===e)this.action_icons.composite_icon.hide(),this.action_icons.filters_icon.hide();else if(1===e)this.action_icons.composite_icon.toggle(this.drawables[0]instanceof K),this.action_icons.filters_icon.hide();else{var i,n,r,a=this.drawables[0].get_type(),o=0;for(i=0;i<e;i++){if(r=this.drawables[i],r.get_type()!==a){can_composite=!1;break}r instanceof et&&o++}if(this.drawables[0]instanceof Z?this.action_icons.composite_icon.show():(this.action_icons.composite_icon.hide(),t(".tooltip").remove()),o>1&&o===this.drawables.length){var s,l={};for(r=this.drawables[0],n=0;n<r.filters_manager.filters.length;n++)s=r.filters_manager.filters[n],l[s.name]=[s];for(i=1;i<this.drawables.length;i++)for(r=this.drawables[i],n=0;n<r.filters_manager.filters.length;n++)s=r.filters_manager.filters[n],s.name in l&&l[s.name].push(s);this.filters_manager.remove_all();var u,c;for(var h in l)u=l[h],u.length===o&&(c=new x.default.NumberFilter({name:u[0].name,index:u[0].index}),this.filters_manager.add_filter(c));this.action_icons.filters_icon.toggle(this.filters_manager.filters.length>0)}else this.action_icons.filters_icon.hide()}},_restore_filter_managers:function(){for(var t=0;t<this.drawables.length;t++)this.drawables[t].filters_manager=this.saved_filters_managers[t];this.saved_filters_managers=[]},setup_multitrack_filtering:function(){if(this.filters_manager.filters.length>0){this.saved_filters_managers=[];for(var t=0;t<this.drawables.length;t++){var e=this.drawables[t];this.saved_filters_managers.push(e.filters_manager),e.filters_manager=this.filters_manager}}this.filters_manager.init_filters()},show_composite_track:function(){var t=new K(this.view,this.view,{name:this.config.get_value("name"),drawables:this.drawables});this.container.replace_drawable(this,t,!0);t.request_draw()},add_drawable:function(t){L.prototype.add_drawable.call(this,t),this.update_icons()},remove_drawable:function(t){L.prototype.remove_drawable.call(this,t),this.update_icons()},to_dict:function(){this.filters_manager.visible()&&this._restore_filter_managers();var t=D(L.prototype.to_dict.call(this),{filters:this.filters_manager.to_dict()});return this.filters_manager.visible()&&this.setup_multitrack_filtering(),t},request_draw:function(t){c.each(this.drawables,function(e){e.request_draw(t)})}});var H=n.View.extend({initialize:function(t){D(t,{obj_type:"View"}),L.call(this,"View",t.container,t),this.chrom=null,this.vis_id=t.vis_id,this.dbkey=t.dbkey,this.stand_alone=void 0===t.stand_alone||t.stand_alone,this.label_tracks=[],this.tracks_to_be_redrawn=[],this.max_low=0,this.max_high=0,this.zoom_factor=3,this.min_separation=30,this.has_changes=!1,this.load_chroms_deferred=null,this.render(),this.canvas_manager=new d.default.CanvasManager(this.container.get(0).ownerDocument),this.reset(),this.config=M.default.ConfigSettingCollection.from_models_and_saved_values([{key:"name",label:"Name",type:"text",default_value:""},{key:"a_color",label:"A Color",type:"color",default_value:"#FF0000"},{key:"c_color",label:"C Color",type:"color",default_value:"#00FF00"},{key:"g_color",label:"G Color",type:"color",default_value:"#0000FF"},{key:"t_color",label:"T Color",type:"color",default_value:"#FF00FF"},{key:"n_color",label:"N Color",type:"color",default_value:"#AAAAAA"}],{name:t.name})},render:function(){this.requested_redraw=!1;var e=this.container,i=this;this.top_container=t("<div/>").addClass("top-container").appendTo(e),this.browser_content_div=t("<div/>").addClass("content").appendTo(e),this.bottom_container=t("<div/>").addClass("bottom-container").appendTo(e),this.top_labeltrack=t("<div/>").addClass("top-labeltrack").appendTo(this.top_container),this.viewport_container=t("<div/>").addClass("viewport-container").attr("id","viewport-container").appendTo(this.browser_content_div),this.content_div=this.viewport_container,j(this.viewport_container,i),this.intro_div=t("<div/>").addClass("intro").appendTo(this.viewport_container);t("<div/>").text("Add Datasets to Visualization").addClass("action-button").appendTo(this.intro_div).click(function(){d.default.select_datasets({dbkey:i.dbkey},function(t){c.each(t,function(t){i.add_drawable(at(t,i,i))})})});this.nav_container=t("<div/>").addClass("trackster-nav-container").prependTo(this.top_container),this.nav=t("<div/>").addClass("trackster-nav").appendTo(this.nav_container),this.stand_alone&&(this.nav_container.addClass("stand-alone"),this.nav.addClass("stand-alone")),this.overview=t("<div/>").addClass("overview").appendTo(this.bottom_container),this.overview_viewport=t("<div/>").addClass("overview-viewport").appendTo(this.overview),this.overview_close=t("<a/>").attr("title","Close overview").addClass("icon-button overview-close tooltip").hide().appendTo(this.overview_viewport),this.overview_highlight=t("<div/>").addClass("overview-highlight").hide().appendTo(this.overview_viewport),this.overview_box_background=t("<div/>").addClass("overview-boxback").appendTo(this.overview_viewport),this.overview_box=t("<div/>").addClass("overview-box").appendTo(this.overview_viewport),this.default_overview_height=this.overview_box.height(),this.nav_controls=t("<div/>").addClass("nav-controls").appendTo(this.nav),this.chrom_select=t("<select/>").attr({name:"chrom"}).addClass("chrom-nav").append("<option value=''>Loading</option>").appendTo(this.nav_controls);var n=function(e){"focusout"!==e.type&&13!==(e.keyCode||e.which)&&27!==(e.keyCode||e.which)||(27!==(e.keyCode||e.which)&&i.go_to(t(this).val()),t(this).hide(),t(this).val(""),i.location_span.show(),i.chrom_select.show()),e.stopPropagation()};this.nav_input=t("<input/>").addClass("nav-input").hide().bind("keyup focusout",n).appendTo(this.nav_controls),this.location_span=t("<span/>").addClass("location").attr("title","Click to change location").tooltip({placement:"bottom"}).appendTo(this.nav_controls),this.location_span.click(function(){i.location_span.hide(),i.chrom_select.hide(),i.nav_input.val(i.chrom+":"+i.low+"-"+i.high),i.nav_input.css("display","inline-block"),i.nav_input.select(),i.nav_input.focus(),i.nav_input.autocomplete({source:function(e,n){var r=[],a=t.map(i.get_tracks(et),function(t){return t.data_manager.search_features(e.term).success(function(t){r=r.concat(t)})});t.when.apply(t,a).done(function(){n(t.map(r,function(t){return{label:t[0],value:t[1]}}))})},minLength:2})}),void 0!==this.vis_id&&(this.hidden_input=t("<input/>").attr("type","hidden").val(this.vis_id).appendTo(this.nav_controls)),this.zo_link=t("<a/>").attr("id","zoom-out").attr("title","Zoom out").tooltip({placement:"bottom"}).click(function(){i.zoom_out()}).appendTo(this.nav_controls),this.zi_link=t("<a/>").attr("id","zoom-in").attr("title","Zoom in").tooltip({placement:"bottom"}).click(function(){i.zoom_in()}).appendTo(this.nav_controls),this.load_chroms_deferred=this.load_chroms({low:0}),this.chrom_select.bind("change",function(){i.change_chrom(i.chrom_select.val())}),this.browser_content_div.click(function(e){t(this).find("input").trigger("blur")}),this.browser_content_div.bind("dblclick",function(t){i.zoom_in(t.pageX,this.viewport_container)}),this.overview_box.bind("dragstart",function(t,e){this.current_x=e.offsetX}).bind("drag",function(t,e){var n=e.offsetX-this.current_x;this.current_x=e.offsetX;var r=Math.round(n/i.viewport_container.width()*(i.max_high-i.max_low));i.move_delta(-r)}),this.overview_close.click(function(){i.reset_overview()}),this.viewport_container.bind("draginit",function(t,e){if(t.clientX>i.viewport_container.width()-16)return!1}).bind("dragstart",function(t,e){e.original_low=i.low,e.current_height=t.clientY,e.current_x=e.offsetX}).bind("drag",function(e,n){var r=t(this),a=n.offsetX-n.current_x,o=r.scrollTop()-(e.clientY-n.current_height);r.scrollTop(o),n.current_height=e.clientY,n.current_x=n.offsetX;var s=Math.round(a/i.viewport_container.width()*(i.high-i.low));i.move_delta(s)}),this.top_labeltrack.bind("dragstart",function(e,n){return t("<div/>").addClass("zoom-area").css("height",i.browser_content_div.height()+i.top_labeltrack.height()+1).appendTo(t(this))}).bind("drag",function(e,n){t(n.proxy).css({left:Math.min(e.pageX,n.startX)-i.container.offset().left,width:Math.abs(e.pageX-n.startX)});var r=Math.min(e.pageX,n.startX)-i.container.offset().left,a=Math.max(e.pageX,n.startX)-i.container.offset().left,o=i.high-i.low,s=i.viewport_container.width();i.update_location(Math.round(r/s*o)+i.low,Math.round(a/s*o)+i.low)}).bind("dragend",function(e,n){var r=Math.min(e.pageX,n.startX),a=Math.max(e.pageX,n.startX),o=i.high-i.low,s=i.viewport_container.width(),l=i.low;i.low=Math.round(r/s*o)+l,i.high=Math.round(a/s*o)+l,t(n.proxy).remove(),i.request_redraw()}),this.add_label_track(new J(this,{content_div:this.top_labeltrack})),t(window).bind("resize",function(){this.resize_timer&&clearTimeout(this.resize_timer),this.resize_timer=setTimeout(function(){i.resize_window()},500)}),t(document).bind("redraw",function(){i.redraw()}),this.reset(),t(window).trigger("resize")},get_base_color:function(t){return this.config.get_value(t.toLowerCase()+"_color")||this.config.get_value("n_color")}});D(H.prototype,L.prototype,{changed:function(){this.has_changes=!0},update_intro_div:function(){this.intro_div.toggle(0===this.drawables.length)},trigger_navigate:function(t,e,i,n){if(this.timer&&clearTimeout(this.timer),n){var r=this;this.timer=setTimeout(function(){r.trigger("navigate",t+":"+e+"-"+i)},500)}else view.trigger("navigate",t+":"+e+"-"+i)},update_location:function(t,e){this.location_span.text(m.default.commatize(t)+" - "+m.default.commatize(e)),this.nav_input.val(this.chrom+":"+m.default.commatize(t)+"-"+m.default.commatize(e));var i=this.chrom_select.val();""!==i&&this.trigger_navigate(i,this.low,this.high,!0)},load_chroms:function(e){e.num=100;var i=this,n=t.Deferred();return t.ajax({url:Galaxy.root+"api/genomes/"+this.dbkey,data:e,dataType:"json",success:function(e){if(0!==e.chrom_info.length){if(e.reference){var r=new Q(i);i.add_label_track(r),i.reference_track=r}i.chrom_data=e.chrom_info,i.chrom_select.html(""),i.chrom_select.append(t('<option value="">Select Chrom/Contig</option>'));for(var a=0,o=i.chrom_data.length;a<o;a++){var s=i.chrom_data[a].chrom,l=t("<option>");l.text(s),l.val(s),i.chrom_select.append(l)}e.prev_chroms&&i.chrom_select.append(t('<option value="previous">Previous 100</option>')),e.next_chroms&&i.chrom_select.append(t('<option value="next">Next 100</option>')),i.chrom_start_index=e.start_index,n.resolve(e.chrom_info)}},error:function(){alert("Could not load chroms for this dbkey: "+i.dbkey)}}),n},change_chrom:function(e,i,n){var r=this;if(!r.chrom_data)return void r.load_chroms_deferred.then(function(){r.change_chrom(e,i,n)});if(e&&"None"!==e){if("previous"===e)return void r.load_chroms({low:this.chrom_start_index-100});if("next"===e)return void r.load_chroms({low:this.chrom_start_index+100});var a=t.grep(r.chrom_data,function(t,i){return t.chrom===e})[0];if(void 0===a)return void r.load_chroms({chrom:e},function(){r.change_chrom(e,i,n)});if(e!==r.chrom){r.chrom=e,r.chrom_select.val(r.chrom),r.max_high=a.len-1,r.reset();for(var o=0,s=r.drawables.length;o<s;o++){var l=r.drawables[o];l.init&&l.init()}r.reference_track&&r.reference_track.init()}void 0===i&&void 0===n?(r.low=0,r.high=r.max_high):(r.low=void 0!==i?Math.max(i,0):0,void 0===n?(r.low=Math.max(r.low-15,0),r.high=r.low+30):r.high=Math.min(n,r.max_high)),r.request_redraw()}},go_to:function(t){t=t.replace(/,/g,""),t=t.replace(/:|\-/g," ");var e=t.split(/\s+/),i=e[0],n=e[1]?parseInt(e[1],10):void 0,r=e[2]?parseInt(e[2],10):void 0;this.change_chrom(i,n,r)},move_fraction:function(t){var e=this,i=e.high-e.low;this.move_delta(t*i)},move_delta:function(t){var e=this,i=e.high-e.low;e.low-t<e.max_low?(e.low=e.max_low,e.high=e.max_low+i):e.high-t>e.max_high?(e.high=e.max_high,e.low=e.max_high-i):(e.high-=t,e.low-=t),e.request_redraw({data_fetch:!1}),this.redraw_on_move_fn&&clearTimeout(this.redraw_on_move_fn),this.redraw_on_move_fn=setTimeout(function(){e.request_redraw()},200);var n=e.chrom_select.val();this.trigger_navigate(n,e.low,e.high,!0)},add_drawable:function(t){L.prototype.add_drawable.call(this,t),t.init(),this.changed(),this.update_intro_div();var e=this;t.config.on("change",function(){e.changed()})},add_label_track:function(t){t.view=this,t.init(),this.label_tracks.push(t)},remove_drawable:function(e,i){if(L.prototype.remove_drawable.call(this,e),i){var n=this;e.container_div.hide(0,function(){t(this).remove(),n.update_intro_div()})}},reset:function(){this.low=this.max_low,this.high=this.max_high,this.viewport_container.find(".yaxislabel").remove()},request_redraw:function(t,e){var i=this,n=e?[e]:i.drawables;c.each(n,function(e){var n=c.find(i.tracks_to_be_redrawn,function(t){return t[0]===e});n?n[1]=t:i.tracks_to_be_redrawn.push([e,t])}),this.requested_redraw||(requestAnimationFrame(function(){i._redraw()}),this.requested_redraw=!0)},_redraw:function(){this.requested_redraw=!1;var t=this.low,e=this.high;t<this.max_low&&(t=this.max_low),e>this.max_high&&(e=this.max_high);var i=this.high-this.low;0!==this.high&&i<this.min_separation&&(e=t+this.min_separation),this.low=Math.floor(t),this.high=Math.ceil(e),this.update_location(this.low,this.high),this.resolution_px_b=this.viewport_container.width()/(this.high-this.low);var n=this.low/(this.max_high-this.max_low)*this.overview_viewport.width()||0,r=(this.high-this.low)/(this.max_high-this.max_low)*this.overview_viewport.width()||0;this.overview_box.css({left:n,width:Math.max(13,r)}).show(),r<13&&this.overview_box.css("left",n-(13-r)/2),this.overview_highlight&&this.overview_highlight.css({left:n,width:r}),c.each(this.tracks_to_be_redrawn,function(t){var e=t[0],i=t[1];e&&e._draw(i)}),this.tracks_to_be_redrawn=[],c.each(this.label_tracks,function(t){t._draw()})},zoom_in:function(t,e){if(!(0===this.max_high||this.high-this.low<=this.min_separation)){var i=this.high-this.low,n=i/2+this.low,r=i/this.zoom_factor/2;t&&(n=t/this.viewport_container.width()*(this.high-this.low)+this.low),this.low=Math.round(n-r),this.high=Math.round(n+r),this.changed(),this.request_redraw()}},zoom_out:function(){if(0!==this.max_high){var t=this.high-this.low,e=t/2+this.low,i=t*this.zoom_factor/2;this.low=Math.round(e-i),this.high=Math.round(e+i),this.changed(),this.request_redraw()}},resize_viewport:function(){this.viewport_container.height(this.container.height()-this.top_container.height()-this.bottom_container.height())},resize_window:function(){this.resize_viewport(),this.request_redraw()},set_overview:function(t){if(this.overview_drawable){if(this.overview_drawable.dataset.id===t.dataset.id)return;this.overview_viewport.find(".track").remove()}var e=t.copy({content_div:this.overview_viewport}),i=this;e.header_div.hide(),e.is_overview=!0,i.overview_drawable=e,this.overview_drawable.postdraw_actions=function(){i.overview_highlight.show().height(i.overview_drawable.content_div.height()),i.overview_viewport.height(i.overview_drawable.content_div.height()+i.overview_box.outerHeight()),i.overview_close.show(),i.resize_window()},i.overview_drawable.request_draw(),this.changed()},reset_overview:function(){t(".tooltip").remove(),this.overview_viewport.find(".track-tile").remove(),this.overview_viewport.height(this.default_overview_height),this.overview_box.height(this.default_overview_height),this.overview_close.hide(),this.overview_highlight.hide(),view.resize_window(),view.overview_drawable=null}});var q=T.default.Tool.extend({defaults:{track:null},initialize:function(t){T.default.Tool.prototype.initialize.call(this,t);var e=!0;void 0!==t.tool_state&&void 0!==t.tool_state.hidden&&(e=t.tool_state.hidden),this.set("hidden",e),this.remove_inputs(["data","hidden_data","conditional"])},state_dict:function(t){return c.extend(this.get_inputs_dict(),{hidden:!this.is_visible()})}}),F=n.View.extend({events:{"change :input":"update_value"},render:function(){var e=this.$el.addClass("param-row"),i=this.model;t("<div>").addClass("param-label").text(i.get("label")).appendTo(e);t("<div/>").addClass("param-input").html(i.get("html")).appendTo(e).find(":input").val(i.get("value")),t("<div style='clear: both;'/>").appendTo(e)},update_value:function(e){this.model.set_value(t(e.target).val())}}),B=n.View.extend({initialize:function(t){this.model.on("change:hidden",this.set_visible,this)},render:function(){var e=this,i=this.model,n=this.$el.addClass("dynamic-tool").hide();n.bind("drag",function(t){t.stopPropagation()}).click(function(t){t.stopPropagation()}).bind("dblclick",function(t){t.stopPropagation()}).keydown(function(t){t.stopPropagation()});t("<div class='tool-name'>").appendTo(n).text(i.get("name"));i.get("inputs").each(function(t){var e=new F({model:t});e.render(),n.append(e.$el)}),n.find("input").click(function(){t(this).select()});var r=t("<div>").addClass("param-row").appendTo(n),a=t("<input type='submit'>").attr("value","Run on complete dataset").appendTo(r);t("<input type='submit'>").attr("value","Run on visible region").appendTo(r).click(function(){e.run_on_region()}),a.click(function(){e.run_on_dataset()}),i.is_visible()&&this.$el.show()},set_visible:function(){this.$el.toggle(this.model.is_visible())},update_params:function(){for(var t=0;t<this.params.length;t++)this.params[t].update_value()},run_on_dataset:function(){var t=this.model;this.run({target_dataset_id:this.model.get("track").dataset.id,action:"rerun",tool_id:t.id},null,function(e){Galaxy.modal.show({title:t.get("name")+" is Running",body:t.get("name")+" is running on the complete dataset. Tool outputs are in dataset's history.",buttons:{Close:function(){Galaxy.modal.hide()}}})})},run_on_region:function(){var t,e=this.model.get("track"),i=this.model,n=new d.default.GenomeRegion({chrom:e.view.chrom,start:e.view.low,end:e.view.high}),r={target_dataset_id:e.dataset.id,action:"rerun",tool_id:i.id,regions:[n.toJSON()]},a=e,o=i.get("name")+a.tool_region_and_parameters_str(n);if(a.container===view){var s=new z(view,view,{name:e.config.get_value("name")}),l=a.container.replace_drawable(a,s,!1);s.container_div.insertBefore(a.view.content_div.children()[l]),s.add_drawable(a),a.container_div.appendTo(s.content_div),t=s}else t=a.container;var u=new a.constructor(view,t,{name:o,hda_ldda:"hda"});u.init_for_tool_data(),u.change_mode(a.mode),u.set_filters_manager(a.filters_manager.copy(u)),u.update_icons(),t.add_drawable(u),u.tiles_div.text("Starting job."),this.run(r,u,function(t){u.set_dataset(new k.default.Dataset(t)),u.tiles_div.text("Running job."),u.init()})},run:function(e,i,n){e.inputs=this.model.get_inputs_dict();var r=new m.default.ServerStateDeferred({ajax_settings:{url:Galaxy.root+"api/tools",data:JSON.stringify(e),dataType:"json",contentType:"application/json",type:"POST"},interval:2e3,success_fn:function(t){return"pending"!==t}});t.when(r.go()).then(function(t){"no converter"===t?(i.container_div.addClass("error"),i.content_div.text(R)):t.error?(i.container_div.addClass("error"),i.content_div.text("Tool cannot be rerun: "+t.message)):n(t)})}}),V=function(t,e){b.default.Scaler.call(this,e),this.filter=t};V.prototype.gen_val=function(t){return this.filter.high===Number.MAX_VALUE||this.filter.low===-Number.MAX_VALUE||this.filter.low===this.filter.high?this.default_val:(parseFloat(t[this.filter.index])-this.filter.low)/(this.filter.high-this.filter.low)};var U=function(e,i,n,r,a){this.track=e,this.region=i,this.low=i.get("start"),this.high=i.get("end"),this.w_scale=n,this.canvas=r,this.html_elt=t("<div class='track-tile'/>").append(r),this.data=a,this.stale=!1};U.prototype.predisplay_actions=function(){};var W=function(t,e,i,n,r){U.call(this,t,e,i,n,r)};W.prototype.predisplay_actions=function(){};var G=function(t,e,i,n,r,a,o,s,l,u,c){U.call(this,t,e,i,n,r),this.mode=a,this.all_slotted=s,this.feature_mapper=l,this.has_icons=!1,this.incomplete_features=u,this.other_tiles_features_drawn={},this.seq_data=c};D(G.prototype,U.prototype),G.prototype.predisplay_actions=function(){};var X=function(e,i,r){D(r,{drag_handle_class:"draghandle"}),N.call(this,e,i,r),this.dataset=null,r.dataset&&(this.dataset=r.dataset instanceof n.Model?r.dataset:new k.default.Dataset(r.dataset)),this.dataset_check_type="converted_datasets_state",this.data_url_extra_params={},this.data_query_wait="data_query_wait"in r?r.data_query_wait:5e3,this.data_manager="data_manager"in r?r.data_manager:new d.default.GenomeDataManager({dataset:this.dataset,genome:new d.default.Genome({key:e.dbkey,chroms_info:{chrom_info:e.chrom_data}}),data_mode_compatible:this.data_and_mode_compatible,can_subset:this.can_subset}),this.min_height_px=16,this.max_height_px=800,this.visible_height_px=this.config.get_value("height"),this.content_div=t("<div class='track-content'>").appendTo(this.container_div),this.container&&(this.container.content_div.append(this.container_div),"resize"in r&&!r.resize||this.add_resize_handle())};D(X.prototype,N.prototype,{action_icons_def:[{name:"mode_icon",title:(0,l.default)("Set display mode"),css_class:"chevron-expand",on_click_fn:function(){}},N.prototype.action_icons_def[0],{name:"overview_icon",title:(0,l.default)("Set as overview"),css_class:"application-dock-270",on_click_fn:function(t){t.view.set_overview(t)}},N.prototype.action_icons_def[1],{name:"filters_icon",title:(0,l.default)("Filters"),css_class:"ui-slider-050",on_click_fn:function(t){t.filters_manager.visible()?t.filters_manager.clear_filters():t.filters_manager.init_filters(),t.filters_manager.toggle()}},{name:"tools_icon",title:(0,l.default)("Tool"),css_class:"hammer",on_click_fn:function(e){e.tool.toggle(),e.tool.is_visible()?e.set_name(e.config.get_value("name")+e.tool_region_and_parameters_str()):e.revert_name(),t(".tooltip").remove()}},{name:"param_space_viz_icon",title:(0,l.default)("Tool parameter space visualization"),css_class:"arrow-split",on_click_fn:function(e){var i="<strong>Tool</strong>:"+e.tool.get("name")+"<br/><strong>Dataset</strong>:"+e.config.get_value("name")+'<br/><strong>Region(s)</strong>: <select name="regions"><option value="cur">current viewing area</option><option value="bookmarks">bookmarks</option><option value="both">current viewing area and bookmarks</option></select>',r=function(){Galaxy.modal.hide(),t(window).unbind("keypress.check_enter_esc")},a=function(){var i,r=t('select[name="regions"] option:selected').val(),a=new d.default.GenomeRegion({chrom:view.chrom,start:view.low,end:view.high}),o=c.map(t(".bookmark"),function(e){return new d.default.GenomeRegion({from_str:t(e).children(".position").text()})});i="cur"===r?[a]:"bookmarks"===r?o:[a].concat(o),Galaxy.modal.hide(),window.location.href=Galaxy.root+"visualization/sweepster?"+t.param({dataset_id:e.dataset.id,hda_ldda:e.dataset.get("hda_ldda"),regions:JSON.stringify(new n.Collection(i).toJSON())})};Galaxy.modal.show({title:"Visualize tool parameter space and output from different parameter settings?",body:i,buttons:{No:r,Yes:a}})}},N.prototype.action_icons_def[2]],can_draw:function(){return this.dataset&&N.prototype.can_draw.call(this)},build_container_div:function(){return t("<div/>").addClass("track").attr("id","track_"+this.id)},set_dataset:function(t){this.dataset=t,this.data_manager.set("dataset",t)},on_resize:function(){this.request_draw({clear_tile_cache:!0})},add_resize_handle:function(){var e=this,i=!1,n=!1,r=t("<div class='track-resize'>");t(e.container_div).hover(function(){e.config.get_value("content_visible")&&(i=!0,r.show())},function(){i=!1,n||r.hide()}),r.hide().bind("dragstart",function(i,r){n=!0,r.original_height=t(e.content_div).height()}).bind("drag",function(i,n){var r=Math.min(Math.max(n.original_height+n.deltaY,e.min_height_px),e.max_height_px);t(e.tiles_div).css("height",r),e.visible_height_px=e.max_height_px===r?0:r,e.on_resize()}).bind("dragend",function(t,a){e.tile_cache.clear(),n=!1,i||r.hide(),e.config.set_value("height",e.visible_height_px),e.changed()}).appendTo(e.container_div)},hide_contents:function(){this.tiles_div.hide(),this.container_div.find(".yaxislabel, .track-resize").hide()},show_contents:function(){this.tiles_div.show(),this.container_div.find(".yaxislabel, .track-resize").show(),this.request_draw()},get_type:function(){return this instanceof J?"LabelTrack":this instanceof Q?"ReferenceTrack":this instanceof Z?"LineTrack":this instanceof nt?"ReadTrack":this instanceof it?"VariantTrack":this instanceof K?"CompositeTrack":this instanceof et?"FeatureTrack":""},show_message:function(e){return this.tiles_div.remove(),t("<span/>").addClass("message").html(e).appendTo(this.content_div)},init:function(e){var i=this;if(i.enabled=!1,i.tile_cache.clear(),i.data_manager.clear(),i.content_div.children().remove(),i.container_div.removeClass("nodata error pending"),i.tiles_div=t("<div/>").addClass("tiles").appendTo(i.content_div),i.dataset.id){var n=t.Deferred(),r={hda_ldda:i.dataset.get("hda_ldda"),data_type:this.dataset_check_type,chrom:i.view.chrom,retry:e};return t.getJSON(this.dataset.url(),r,function(e){if(e&&"error"!==e&&"error"!==e.kind)"no converter"===e?(i.container_div.addClass("error"),i.show_message(R)):"no data"===e||void 0!==e.data&&(null===e.data||0===e.data.length)?(i.container_div.addClass("nodata"),i.show_message("No data for this chrom/contig.")):"pending"===e?(i.container_div.addClass("pending"),i.show_message("Preparing data. This can take a while for a large dataset. If the visualization is saved and closed, preparation will continue in the background."),setTimeout(function(){i.init()},i.data_query_wait)):"data"!==e&&"data"!==e.status||(e.valid_chroms&&(i.valid_chroms=e.valid_chroms,i.update_icons()),i.tiles_div.text("Ready for display"),i.view.chrom?(i.tiles_div.text(""),i.tiles_div.css("height",i.visible_height_px+"px"),i.enabled=!0,t.when.apply(t,i.predraw_init()).done(function(){n.resolve(),i.container_div.removeClass("nodata error pending"),i.request_draw()})):n.resolve());else{i.container_div.addClass("error");var r=i.show_message("Cannot display dataset due to an error. ");e.message&&(r.append(t("<a href='javascript:void(0);'></a>").text("View error").click(function(){Galaxy.modal.show({title:(0,l.default)("Trackster Error"),body:"<pre>"+e.message+"</pre>",buttons:{Close:function(){Galaxy.modal.hide()}}})})),r.append(t("<span/>").text(" ")),r.append(t("<a href='javascript:void(0);'></a>").text("Try again").click(function(){i.init(!0)})))}}),this.update_icons(),n}},predraw_init:function(){var e=this;return t.getJSON(e.dataset.url(),{data_type:"data",stats:!0,chrom:e.view.chrom,low:0,high:e.view.max_high,hda_ldda:e.dataset.get("hda_ldda")},function(t){var i=t.data;if(i&&void 0!==i.min&&void 0!==i.max){var n=i.min,r=i.max;n=Math.floor(Math.min(0,Math.max(n,i.mean-2*i.sd))),r=Math.ceil(Math.max(0,Math.min(r,i.mean+2*i.sd))),e.config.set_default_value("min_value",n),e.config.set_default_value("max_value",r),e.config.set_value("min_value",n),e.config.set_value("max_value",r)}})},get_drawables:function(){return this}});var Y=function(e,i,n){X.call(this,e,i,n);var r=this;if(P(r.container_div,r.drag_handle_class,".group",r),this.filters_manager=new x.default.FiltersManager(this,"filters"in n?n.filters:null),this.data_manager.set("filters_manager",this.filters_manager),this.filters_available=!1,this.tool=n.tool?new q(c.extend(n.tool,{track:this,tool_state:n.tool_state})):null,this.tile_cache=new d.default.Cache(10),this.left_offset=0,this.header_div&&(this.set_filters_manager(this.filters_manager),this.tool)){var a=new B({model:this.tool});a.render(),this.dynamic_tool_div=a.$el,this.header_div.after(this.dynamic_tool_div)}this.tiles_div=t("<div/>").addClass("tiles").appendTo(this.content_div),this.config.get_value("content_visible")||this.tiles_div.hide(),this.overlay_div=t("<div/>").addClass("overlay").appendTo(this.content_div),n.mode&&this.change_mode(n.mode)};D(Y.prototype,N.prototype,X.prototype,{action_icons_def:X.prototype.action_icons_def.concat([{name:"show_more_rows_icon",title:"To minimize track height, not all feature rows are displayed. Click to display more rows.",css_class:"exclamation",on_click_fn:function(e){t(".tooltip").remove(),e.slotters[e.view.resolution_px_b].max_rows*=2,e.request_draw({clear_tile_cache:!0})},hide:!0}]),copy:function(t){var e=this.to_dict();D(e,{data_manager:this.data_manager});var i=new this.constructor(this.view,t,e);return i.change_mode(this.mode),i.enabled=this.enabled,i},set_filters_manager:function(t){this.filters_manager=t,this.header_div.after(this.filters_manager.parent_div)},to_dict:function(){return{track_type:this.get_type(),dataset:{id:this.dataset.id,hda_ldda:this.dataset.get("hda_ldda")},prefs:this.config.to_key_value_dict(),mode:this.mode,filters:this.filters_manager.to_dict(),tool_state:this.tool?this.tool.state_dict():{}}},set_min_max:function(){var e=this;return t.getJSON(e.dataset.url(),{data_type:"data",stats:!0,chrom:e.view.chrom,low:0,high:e.view.max_high,hda_ldda:e.dataset.get("hda_ldda")},function(t){var i=t.data;if(isNaN(parseFloat(e.config.get_value("min_value")))||isNaN(parseFloat(e.config.get_value("max_value")))){var n=i.min,r=i.max;n=Math.floor(Math.min(0,Math.max(n,i.mean-2*i.sd))),r=Math.ceil(Math.max(0,Math.min(r,i.mean+2*i.sd))),e.config.set_value("min_value",n),e.config.set_value("max_value",r)}})},change_mode:function(t){var e=this;return e.mode=t,e.config.set_value("mode",t),"Auto"===t&&this.data_manager.clear(),e.request_draw({clear_tile_cache:!0}),this.action_icons.mode_icon.attr("title","Set display mode (now: "+e.mode+")"),e},update_icons:function(){var t=this;t.action_icons.filters_icon.toggle(t.filters_available),t.action_icons.tools_icon.toggle(null!==t.tool),t.action_icons.param_space_viz_icon.toggle(null!==t.tool)},_gen_tile_cache_key:function(t,e){return t+"_"+e},request_draw:function(t){t&&t.clear_tile_cache&&this.tile_cache.clear(),this.view.request_redraw(t,this)},before_draw:function(){this.max_height_px=0},_draw:function(e){if(this.can_draw()){var i=e&&e.clear_after,n=this.view.low,r=this.view.high,a=this.view.container.width(),o=this.view.resolution_px_b,s=1/o;this.is_overview&&(n=this.view.max_low,r=this.view.max_high,o=a/(view.max_high-view.max_low),s=1/o),this.before_draw(),this.tiles_div.children().addClass("remove");for(var l,u,h=Math.floor(400*s),f=Math.floor(n/h),p=[],g=[];f*h<r;)l=new d.default.GenomeRegion({chrom:this.view.chrom,start:f*h,end:Math.min((f+1)*h,this.view.max_high)}),u=this.draw_helper(l,o,e),p.push(u),t.when(u).then(function(t){g.push(t)}),f+=1;i||this.tiles_div.children(".remove").removeClass("remove").remove();var m=this;t.when.apply(t,p).then(function(){m.tiles_div.children(".remove").remove(),g=c.filter(g,function(t){return null!==t}),0!==g.length&&m.postdraw_actions(g,a,o,i)})}},_add_yaxis_label:function(e,i){var n=this,r="max"===e?"top":"bottom",o="max"===e?"max":"min",s="max"===e?"max_value":"min_value",l=this.container_div.find(".yaxislabel."+r),u=a(n.config.get_value(s),1);i=i||function(){n.request_draw({clear_tile_cache:!0})},0!==l.length?l.text(u):(l=t("<div/>").text(u).make_text_editable({num_cols:12,on_finish:function(e){t(".tooltip").remove(),n.config.set_value(s,a(e,1)),i()},help_text:"Set "+o+" value"}).addClass("yaxislabel "+r).css("color",this.config.get_value("label_color")),this.container_div.prepend(l))},postdraw_actions:function(t,e,i,n){if(c.filter(t,function(t){return t instanceof W}).length>0){this.max_height_px=0;var r=this;c.each(t,function(t){t instanceof W||(t.html_elt.remove(),r.draw_helper(t.region,i,{force:!0,mode:"Coverage"}))}),r._add_yaxis_label("max")}else this.container_div.find(".yaxislabel").remove(),c.find(t,function(t){return t.has_icons})&&c.each(t,function(t){t.has_icons||t.html_elt.css("padding-top",20)})},get_mode:function(t){return this.mode},update_auto_mode:function(t){},_get_drawables:function(){return[this]},draw_helper:function(e,i,n){n||(n={});var r=n.force,a=n.mode||this.mode,o=1/i,s=this,l=this._get_drawables(),u=this._gen_tile_cache_key(i,e),h=r?void 0:s.tile_cache.get_elt(u);if(h)return function(t){return t&&"track"in t}(h)&&s.show_tile(h,i),h;if(!1===n.data_fetch)return null;var d=function(){var t=c.find(I,function(t){return t===a})?"Coverage":a,i=c.map(l,function(i){return i.data_manager.get_data(e,t,o,s.data_url_extra_params)});return view.reference_track&&i.push(view.reference_track.data_manager.get_data(e,a,o,view.reference_track.data_url_extra_params)),i},f=t.Deferred();return s.tile_cache.set_elt(u,f),t.when.apply(t,d()).then(function(){var r,a=d(),o=a;if(c.find(a,function(t){return m.default.is_deferred(t)}))return s.tile_cache.set_elt(u,void 0),void t.when(s.draw_helper(e,i,n)).then(function(t){f.resolve(t)});view.reference_track&&(r=view.reference_track.data_manager.subset_entry(a.pop(),e));var h=[],p=[];c.each(l,function(t,e){var n=t.mode,r=o[e];"Auto"===n&&(n=t.get_mode(r),t.update_auto_mode(n)),h.push(n),p.push(t.get_canvas_height(r,n,i,b))});var g,v=s.view.canvas_manager.new_canvas(),_=e.get("start"),y=e.get("end"),b=Math.ceil((y-_)*i)+s.left_offset,w=c.max(p);v.width=b,v.height=n.height||w;var x=v.getContext("2d");x.translate(s.left_offset,0),l.length>1&&(x.globalAlpha=.5,x.globalCompositeOperation="source-over"),c.each(l,function(t,n){g=t.draw_tile(o[n],x,h[n],e,i,r)}),void 0!==g&&(s.tile_cache.set_elt(u,g),s.show_tile(g,i)),f.resolve(g)}),f},get_canvas_height:function(t,e,i,n){return this.visible_height_px},_draw_line_track_tile:function(t,e,i,n,r){-1!==[void 0,null].indexOf(this.config.get_value("min_value"))&&this.config.set_value("min_value",0),-1!==[void 0,null,0].indexOf(this.config.get_value("max_value"))&&this.config.set_value("max_value",c.max(c.map(t.data,function(t){return t[1]}))||0);var a=e.canvas;return new b.default.LinePainter(t.data,n.get("start"),n.get("end"),this.config.to_key_value_dict(),i).draw(e,a.width,a.height,r),new W(this,n,r,a,t.data)},draw_tile:function(t,e,i,n,r,a){},show_tile:function(t,e){var i=t.html_elt;t.predisplay_actions();var n=Math.round((t.low-(this.is_overview?this.view.max_low:this.view.low))*e);this.left_offset&&(n-=this.left_offset),i.css("left",n),i.hasClass("remove")?i.removeClass("remove"):this.tiles_div.append(i),i.css("height","auto"),this.max_height_px=Math.max(this.max_height_px,i.height()-2),i.parent().children().css("height",this.max_height_px+"px");var r=this.max_height_px;0!==this.visible_height_px&&(r=Math.min(this.max_height_px,this.visible_height_px)),this.tiles_div.css("height",r+"px")},tool_region_and_parameters_str:function(t){var e=this;return" - region=["+(void 0!==t?t.toString():"all")+"], parameters=["+c.values(e.tool.get_inputs_dict()).join(", ")+"]"},data_and_mode_compatible:function(t,e){return"Auto"===e||("Coverage"===e?"bigwig"===t.dataset_type:"bigwig"!==t.dataset_type&&"no_detail"!==t.extra_info)},can_subset:function(t){return!t.message&&"no_detail"!==t.extra_info&&("bigwig"!==t.dataset_type||t.data[1][0]-t.data[0][0]==1)},init_for_tool_data:function(){this.data_manager.set("data_type","raw_data"),this.data_query_wait=1e3,this.dataset_check_type="state"}});var J=function(t,e){X.call(this,t,e,{resize:!1,header:!1}),this.container_div.addClass("label-track")};D(J.prototype,X.prototype,{init:function(){this.enabled=!0},predraw_init:function(){},_draw:function(e){for(var i=this.view,n=i.high-i.low,r=Math.floor(Math.pow(10,Math.floor(Math.log(n)/Math.log(10)))),a=Math.floor(i.low/r)*r,o=this.view.container.width(),s=t("<div/>").addClass("label-container");a<i.high;){var l=Math.floor((a-i.low)/n*o);s.append(t("<div/>").addClass("pos-label").text(m.default.commatize(a)).css({left:l})),a+=r}this.content_div.children(":first").remove(),this.content_div.append(s)}});var K=function(t,e,i){if(Y.call(this,t,e,i),this.drawables=[],"drawables"in i){for(var n,r=0;r<i.drawables.length;r++)n=i.drawables[r],this.drawables[r]=at(n,t,null),n.left_offset>this.left_offset&&(this.left_offset=n.left_offset);this.enabled=!0}c.each(this.drawables,function(t){(t instanceof et||t instanceof nt)&&t.change_mode("Coverage")}),this.update_icons(),this.obj_type="CompositeTrack"};D(K.prototype,Y.prototype,{display_modes:I,build_config_params:function(){return c.union(N.prototype.config_params,[{key:"min_value",label:"Min Value",type:"float",default_value:void 0},{key:"max_value",label:"Max Value",type:"float",default_value:void 0},{key:"mode",type:"string",default_value:this.mode,hidden:!0},{key:"height",type:"int",default_value:30,hidden:!0}])},action_icons_def:[{name:"composite_icon",title:(0,l.default)("Show individual tracks"),css_class:"layers-stack",on_click_fn:function(e){t(".tooltip").remove(),e.show_group()}}].concat(Y.prototype.action_icons_def),to_dict:L.prototype.to_dict,add_drawable:L.prototype.add_drawable,unpack_drawables:L.prototype.unpack_drawables,config_onchange:function(){this.set_name(this.config.get_value("name")),this.request_draw({clear_tile_cache:!0})},on_resize:function(){var t=this.visible_height_px;c.each(this.drawables,function(e){e.visible_height_px=t}),X.prototype.on_resize.call(this)},change_mode:function(t){Y.prototype.change_mode.call(this,t);for(var e=0;e<this.drawables.length;e++)this.drawables[e].change_mode(t)},init:function(){for(var e=[],i=0;i<this.drawables.length;i++)e.push(this.drawables[i].init());var n=this;t.when.apply(t,e).then(function(){n.enabled=!0,n.request_draw()})},update_icons:function(){this.action_icons.filters_icon.hide(),this.action_icons.tools_icon.hide(),this.action_icons.param_space_viz_icon.hide()},can_draw:N.prototype.can_draw,_get_drawables:function(){return this.drawables},show_group:function(){for(var t,e=new z(this.view,this.container,{name:this.config.get_value("name")}),i=0;i<this.drawables.length;i++)t=this.drawables[i],t.update_icons(),e.add_drawable(t),t.container=e,e.content_div.append(t.container_div);this.container.replace_drawable(this,e,!0);e.request_draw({clear_tile_cache:!0})},before_draw:function(){var t=c.min(c.map(this.drawables,function(t){return t.config.get_value("min_value")})),e=c.max(c.map(this.drawables,function(t){return t.config.get_value("max_value")}));this.config.set_value("min_value",t),this.config.set_value("max_value",e),c.each(this.drawables,function(i){i.config.set_value("min_value",t),i.config.set_value("max_value",e)})},update_all_min_max:function(){var t=this.config.get_value("min_value"),e=this.config.get_value("max_value");c.each(this.drawables,function(i){i.config.set_value("min_value",t),i.config.set_value("max_value",e)}),this.request_draw({clear_tile_cache:!0})},postdraw_actions:function(t,e,i,n){var r,a=-1;for(r=0;r<t.length;r++){var o=t[r].html_elt.find("canvas").height();o>a&&(a=o)}for(r=0;r<t.length;r++){var s=t[r];s.html_elt.find("canvas").height()!==a&&(this.draw_helper(s.region,i,{force:!0,height:a}),s.html_elt.remove())}var l=this,u=function(){l.update_all_min_max()};this._add_yaxis_label("min",u),this._add_yaxis_label("max",u)}});var Q=function(t){Y.call(this,t,{content_div:t.top_labeltrack},{resize:!1,header:!1}),this.left_offset=t.canvas_manager.char_width_px,this.container_div.addClass("reference-track"),this.data_url=Galaxy.root+"api/genomes/"+this.view.dbkey,this.data_url_extra_params={reference:!0},this.data_manager=new d.default.GenomeReferenceDataManager({data_url:this.data_url,can_subset:this.can_subset}),this.hide_contents()};D(Q.prototype,N.prototype,Y.prototype,{build_config_params:function(){return c.union(N.prototype.config_params,[{key:"height",type:"int",default_value:13,hidden:!0}])},init:function(){this.data_manager.clear(),this.enabled=!0},predraw_init:function(){},can_draw:N.prototype.can_draw,draw_helper:function(t,e,i){var n,r=this.tiles_div.is(":visible"),a=null;return e>this.view.canvas_manager.char_width_px?(this.tiles_div.show(),n=!0,a=Y.prototype.draw_helper.call(this,t,e,i)):(n=!1,this.tiles_div.hide()),r!==n&&this.view.resize_viewport(),a},can_subset:function(t){return!0},draw_tile:function(t,e,i,n,r){var a=this.data_manager.subset_entry(t,n),o=a.data,s=e.canvas;e.font=e.canvas.manager.default_font,e.textAlign="center";for(var l=0,u=o.length;l<u;l++)e.fillStyle=this.view.get_base_color(o[l]),e.fillText(o[l],Math.floor(l*r),10);return new U(this,n,r,s,a)}});var Z=function(e,i,n){this.mode="Histogram",Y.call(this,e,i,n),this.left_offset=30;var r=this;t.when(o(Galaxy.root+"datasets/"+this.dataset.id+"/display")).then(function(t){t&&(r.data_manager=new O.default.BBIDataManager({dataset:r.dataset}))})};D(Z.prototype,N.prototype,Y.prototype,{display_modes:I,build_config_params:function(){return c.union(N.prototype.config_params,[{key:"color",label:"Color",type:"color"},{key:"min_value",label:"Min Value",type:"float",default_value:void 0},{key:"max_value",label:"Max Value",type:"float",default_value:void 0},{key:"mode",type:"string",default_value:this.mode,hidden:!0},{key:"height",type:"int",default_value:30,hidden:!0}])},config_onchange:function(){this.set_name(this.config.get_value("name")),this.request_draw({clear_tile_cache:!0})},before_draw:function(){},draw_tile:function(t,e,i,n,r){return this._draw_line_track_tile(t,e,i,n,r)},can_subset:function(t){return t.data[1][0]-t.data[0][0]==1},postdraw_actions:function(t,e,i,n){this._add_yaxis_label("max"),this._add_yaxis_label("min")}});var tt=function(t,e,i){this.mode="Heatmap",Y.call(this,t,e,i)};D(tt.prototype,N.prototype,Y.prototype,{display_modes:["Heatmap"],build_config_params:function(){return c.union(N.prototype.config_params,[{key:"pos_color",label:"Positive Color",type:"color",default_value:"#FF8C00"},{key:"neg_color",label:"Negative Color",type:"color",default_value:"#4169E1"},{key:"min_value",label:"Min Value",type:"int",default_value:void 0},{key:"max_value",label:"Max Value",type:"int",default_value:void 0},{key:"mode",type:"string",default_value:this.mode,hidden:!0},{key:"height",type:"int",default_value:500,hidden:!0}])},config_onchange:function(){this.set_name(this.config.get_value("name")),this.request_draw({clear_tile_cache:!0})},predraw_init:function(){var e=this;return t.getJSON(e.dataset.url(),{data_type:"data",stats:!0,chrom:e.view.chrom,low:0,high:e.view.max_high,hda_ldda:e.dataset.get("hda_ldda")},function(t){t.data})},draw_tile:function(t,e,i,n,r){var a=e.canvas;return new b.default.DiagonalHeatmapPainter(t.data,n.get("start"),n.get("end"),this.config.to_key_value_dict(),i).draw(e,a.width,a.height,r),new U(this,n,r,a,t.data)}});var et=function(t,e,i){Y.call(this,t,e,i),this.container_div.addClass("feature-track"),this.summary_draw_height=30,this.slotters={},this.start_end_dct={},this.left_offset=200,this.set_painter_from_config()};D(et.prototype,N.prototype,Y.prototype,{display_modes:["Auto","Coverage","Dense","Squish","Pack"],build_config_params:function(){return c.union(N.prototype.config_params,[{key:"block_color",label:"Block color",type:"color"},{key:"reverse_strand_color",label:"Antisense strand color",type:"color"},{key:"label_color",label:"Label color",type:"color",default_value:"black"},{key:"show_counts",label:"Show summary counts",type:"bool",default_value:!0,help:"Show the number of items in each bin when drawing summary histogram"},{key:"min_value",label:"Histogram minimum",type:"float",default_value:void 0,help:"clear value to set automatically"},{key:"max_value",label:"Histogram maximum",type:"float",default_value:void 0,help:"clear value to set automatically"},{key:"connector_style",label:"Connector style",type:"select",default_value:"fishbones",options:[{label:"Line with arrows",value:"fishbone"},{label:"Arcs",value:"arcs"}]},{key:"mode",type:"string",default_value:this.mode,hidden:!0},{key:"height",type:"int",default_value:0,hidden:!0}])},config_onchange:function(){this.set_name(this.config.get_value("name")),this.set_painter_from_config(),this.request_draw({clear_tile_cache:!0})},set_painter_from_config:function(){"arcs"===this.config.get_value("connector_style")?this.painter=b.default.ArcLinkedFeaturePainter:this.painter=b.default.LinkedFeaturePainter},postdraw_actions:function(e,i,n,r){Y.prototype.postdraw_actions.call(this,e,i,n,r);var a,o=this;if(0===c.filter(e,function(t){return t instanceof W}).length){var s={};c.each(c.pluck(e,"incomplete_features"),function(t){c.each(t,function(t){s[t[0]]=t})});var l=this;c.each(e,function(e){var i=c.omit(s,c.map(e.incomplete_features,function(t){return t[0]}));if(i=c.omit(i,c.keys(e.other_tiles_features_drawn)),0!==c.size(i)){var n={data:c.values(i)},r=l.view.canvas_manager.new_canvas(),a=r.getContext("2d");r.height=Math.max(e.canvas.height,l.get_canvas_height(n,e.mode,e.w_scale,100)),r.width=e.canvas.width,a.drawImage(e.canvas,0,0),a.translate(o.left_offset,0);var u=l.draw_tile(n,a,e.mode,e.region,e.w_scale,e.seq_data);t(e.canvas).replaceWith(t(u.canvas)),e.canvas=r,c.extend(e.other_tiles_features_drawn,s)}})}if(o.filters_manager){var u,h=o.filters_manager.filters;for(u=0;u<h.length;u++)h[u].update_ui_elt();var d,f,p=!1;for(a=0;a<e.length;a++)if(e[a].data.length)for(d=e[a].data[0],u=0;u<h.length;u++)if(f=h[u],f.applies_to(d)&&f.min!==f.max){p=!0;break}o.filters_available!==p&&(o.filters_available=p,o.filters_available||o.filters_manager.hide(),o.update_icons())}if(e[0]instanceof G){var g=!0;for(a=0;a<e.length;a++)if(!e[a].all_slotted){g=!1;break}this.action_icons.show_more_rows_icon.toggle(!g)}else this.action_icons.show_more_rows_icon.hide()},update_auto_mode:function(t){"Auto"===this.mode&&("no_detail"===t&&(t="feature spans"),this.action_icons.mode_icon.attr("title","Set display mode (now: Auto/"+t+")"))},incremental_slots:function(t,e,i){var n=this.view.canvas_manager.dummy_context,r=this.slotters[t];return r&&r.mode===i||(r=new _.default.FeatureSlotter(t,i,100,function(t){return n.measureText(t)}),this.slotters[t]=r),r.slot_features(e)},get_mode:function(t){return"no_detail"===t.extra_info||this.is_overview?"no_detail":this.view.high-this.view.low>12e3?"Squish":"Pack"},get_canvas_height:function(t,e,i,n){if("Coverage"===e||"bigwig"===t.dataset_type)return this.summary_draw_height;var r=this.incremental_slots(i,t.data,e),a=new this.painter(null,null,null,this.config.to_key_value_dict(),e);return Math.max(this.min_height_px,a.get_required_height(r,n))},draw_tile:function(t,e,i,n,r,a,o){var s=this,l=e.canvas,u=n.get("start"),c=n.get("end"),h=this.left_offset;if("bigwig"===t.dataset_type)return this._draw_line_track_tile(t,e,i,n,r);var d=[],f=this.slotters[r].slots,p=!0;if(t.data)for(var g=this.filters_manager.filters,m=0,v=t.data.length;m<v;m++){for(var _,y=t.data[m],b=!1,w=0,x=g.length;w<x;w++)if(_=g[w],_.update_attrs(y),!_.keep(y)){b=!0;break}b||(d.push(y),y[0]in f||(p=!1))}var C=this.filters_manager.alpha_filter?new V(this.filters_manager.alpha_filter):null,k=this.filters_manager.height_filter?new V(this.filters_manager.height_filter):null,S=new this.painter(d,u,c,this.config.to_key_value_dict(),i,C,k,a,function(t){return s.view.get_base_color(t)}),T=null;if(e.fillStyle=this.config.get_value("block_color"),e.font=e.canvas.manager.default_font,e.textAlign="right",t.data){var A=S.draw(e,l.width,l.height,r,f);T=A.feature_mapper,incomplete_features=A.incomplete_features,T.translation=-h}return o?void 0:new G(s,n,r,l,t.data,i,t.message,p,T,incomplete_features,a)}});var it=function(t,e,i){Y.call(this,t,e,i),this.painter=b.default.VariantPainter,this.summary_draw_height=30,this.left_offset=30};D(it.prototype,N.prototype,Y.prototype,{display_modes:["Auto","Coverage","Dense","Squish","Pack"],build_config_params:function(){return c.union(N.prototype.config_params,[{key:"color",label:"Histogram color",type:"color"},{key:"show_sample_data",label:"Show sample data",type:"bool",default_value:!0},{key:"show_labels",label:"Show summary and sample labels",type:"bool",default_value:!0},{key:"summary_height",label:"Locus summary height",type:"float",default_value:20},{key:"mode",type:"string",default_value:this.mode,hidden:!0},{key:"height",type:"int",default_value:0,hidden:!0}])},config_onchange:function(){this.set_name(this.config.get_value("name")),this.request_draw({clear_tile_cache:!0})},draw_tile:function(t,e,i,n,r){if("bigwig"===t.dataset_type)return this._draw_line_track_tile(t,e,"Histogram",n,r);var a=this.view;return new this.painter(t.data,n.get("start"),n.get("end"),this.config.to_key_value_dict(),i,function(t){return a.get_base_color(t)}).draw(e,e.canvas.width,e.canvas.height,r),new U(this,n,r,e.canvas,t.data)},get_canvas_height:function(t,e,i,n){if("bigwig"===t.dataset_type)return this.summary_draw_height;var r=this.dataset.get_metadata("sample_names")?this.dataset.get_metadata("sample_names").length:0;return 0===r&&0!==t.data.length&&(r=t.data[0][7].match(/,/g),r=null===r?1:r.length+1),new this.painter(null,null,null,this.config.to_key_value_dict(),e).get_required_height(r)},predraw_init:function(){var t=[X.prototype.predraw_init.call(this)];return this.dataset.get_metadata("sample_names")||t.push(this.dataset.fetch()),t},postdraw_actions:function(e,i,n,r){Y.prototype.postdraw_actions.call(this,e,i,n,r);var a=c.filter(e,function(t){return t instanceof W}),o=this.dataset.get_metadata("sample_names");if(0===a.length&&this.config.get_value("show_labels")&&o&&o.length>1){var s;if(0===this.container_div.find(".yaxislabel.variant").length&&(s=this.config.get_value("summary_height")/2,this.tiles_div.prepend(t("<div/>").text("Summary").addClass("yaxislabel variant top").css({"font-size":s+"px",top:(this.config.get_value("summary_height")-s)/2+"px"})),this.config.get_value("show_sample_data"))){var l=o.join("<br/>");this.tiles_div.prepend(t("<div/>").html(l).addClass("yaxislabel variant top sample").css({top:this.config.get_value("summary_height")}))}s=("Squish"===this.mode?5:10)+"px",t(this.tiles_div).find(".sample").css({"font-size":s,"line-height":s}),t(this.tiles_div).find(".yaxislabel").css("color",this.config.get_value("label_color"))}else this.container_div.find(".yaxislabel.variant").remove()}});var nt=function(t,e,i){et.call(this,t,e,i),this.painter=b.default.ReadPainter,this.update_icons()};D(nt.prototype,N.prototype,Y.prototype,et.prototype,{build_config_params:function(){return c.union(N.prototype.config_params,[{key:"block_color",label:"Histogram color",type:"color"},{key:"detail_block_color",label:"Sense strand block color",type:"color",default_value:"#AAAAAA"},{key:"reverse_strand_color",label:"Antisense strand block color",type:"color",default_value:"#DDDDDD"},{key:"label_color",label:"Label color",type:"color",default_value:"black"},{key:"show_insertions",label:"Show insertions",type:"bool",default_value:!1},{key:"show_differences",label:"Show differences only",type:"bool",default_value:!0},{key:"show_counts",label:"Show summary counts",type:"bool",default_value:!0},{key:"mode",type:"string",default_value:this.mode,hidden:!0},{key:"min_value",label:"Histogram minimum",type:"float",default_value:void 0,help:"clear value to set automatically"},{key:"max_value",label:"Histogram maximum",type:"float",default_value:void 0,help:"clear value to set automatically"},{key:"height",type:"int",default_value:0,hidden:!0}])},config_onchange:function(){this.set_name(this.config.get_value("name")),this.request_draw({clear_tile_cache:!0})}});var rt={CompositeTrack:K,DrawableGroup:z,DiagonalHeatmapTrack:tt,FeatureTrack:et,LineTrack:Z,ReadTrack:nt,VariantTrack:it,VcfTrack:it},at=function(t,e,i){if("copy"in t)return t.copy(i);var n=t.obj_type;return n||(n=t.track_type),new rt[n](e,i,t)};e.default={TracksterView:H,DrawableGroup:z,LineTrack:Z,FeatureTrack:et,DiagonalHeatmapTrack:tt,ReadTrack:nt,VariantTrack:it,CompositeTrack:K,object_from_template:at}}).call(e,i(0),i(2))},function(t,e,i){"use strict";(function(t,n,r){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=a(o),l=i(5),u=a(l),c=i(6),h=a(c),d=i(9),f=a(d),p=i(81),g=a(p),m=i(35),v=a(m),_=t.View.extend({initialize:function(t){var e=this;this.modal=parent.Galaxy.modal||new f.default.View,this.form=new g.default(u.default.merge({listen_to_history:!0,always_refresh:!1,buildmodel:function(t,i){var r=i.model.attributes,a="",o={},l=r.job_id;l?a=Galaxy.root+"api/jobs/"+l+"/build_for_rerun":(a=Galaxy.root+"api/tools/"+r.id+"/build",o=n.extend({},Galaxy.params),o.tool_id&&delete o.tool_id),r.version&&(o.tool_version=r.version),u.default.get({url:a,data:o,success:function(n){if(!n.display)return void(window.location=Galaxy.root);i.model.set(n),e._customize(i),Galaxy.emit.debug("tool-form-base::_buildModel()","Initial tool model ready.",n),t.resolve()},error:function(e,a){var o=e&&e.err_msg||"Uncaught error.";401==a?window.location=Galaxy.root+"user/login?"+n.param({redirect:Galaxy.root+"?tool_id="+r.id}):i.$el.is(":empty")?i.$el.prepend(new h.default.Message({message:o,status:"danger",persistent:!0,large:!0}).$el):Galaxy.modal&&Galaxy.modal.show({title:(0,s.default)("Tool request failed"),body:o,buttons:{Close:function(){Galaxy.modal.hide()}}}),Galaxy.emit.debug("tool-form-base::_buildModel()","Initial tool model request failed.",e),t.reject()}})},postchange:function(t,e){var i={tool_id:e.model.get("id"),tool_version:e.model.get("version"),inputs:n.extend(!0,{},e.data.create())};e.wait(!0),Galaxy.emit.debug("tool-form::postchange()","Sending current state.",i),u.default.request({type:"POST",url:Galaxy.root+"api/tools/"+e.model.get("id")+"/build",data:i,success:function(i){e.update(i),e.wait(!1),Galaxy.emit.debug("tool-form::postchange()","Received new model.",i),t.resolve()},error:function(e){Galaxy.emit.debug("tool-form::postchange()","Refresh request failed.",e),t.reject()}})}},t)),this.deferred=this.form.deferred,this.setElement("<div/>"),this.$el.append(this.form.$el)},_customize:function(t){var e=this,i=t.model.attributes,n=new h.default.Button({icon:"fa-check",tooltip:"Execute: "+i.name+" ("+i.version+")",title:(0,s.default)("Execute"),cls:"btn btn-primary ui-clear-float",wait_cls:"btn btn-info ui-clear-float",onclick:function(){n.wait(),t.portlet.disable(),e.submit(i,function(){n.unwait(),t.portlet.enable()})}});if(i.buttons={execute:n},i.job_id&&i.job_remap){if("job_produced_collection_elements"===i.job_remap)var r="Replace elements in collection ?",a="The previous run of this tool failed. Use this option to replace the failed element(s) in the dataset collectio that were produced during the previous tool run.";else var r="Resume dependencies from this job ?",a="The previous run of this tool failed and other tools were waiting for it to finish successfully. Use this option to resume those tools using the new output(s) of this tool run.";i.inputs.push({label:r,name:"rerun_remap_job_id",type:"select",display:"radio",ignore:"__ignore__",value:"__ignore__",options:[["Yes",i.job_id],["No","__ignore__"]],help:a})}var o={};Galaxy.user.attributes.preferences&&"extra_user_preferences"in Galaxy.user.attributes.preferences&&(o=JSON.parse(Galaxy.user.attributes.preferences.extra_user_preferences)),"true"===("use_cached_job|use_cached_job_checkbox"in o&&o["use_cached_job|use_cached_job_checkbox"])&&i.inputs.push({label:"BETA: Attempt to re-use jobs with identical parameters ?",help:"This may skip executing jobs that you have already run",name:"use_cached_job",type:"select",display:"radio",ignore:"__ignore__",value:"__ignore__",options:[["No",!1],["Yes",!0]]})},submit:function(t,e){var i=this,a={tool_id:t.id,tool_version:t.version,inputs:this.form.data.create()};if(this.form.trigger("reset"),!i.validate(a))return Galaxy.emit.debug("tool-form::submit()","Submission canceled. Validation failed."),void(e&&e());if(t.action!==Galaxy.root+"tool_runner/index"){var o=n("<form/>").attr({action:t.action,method:t.method,enctype:t.enctype});return r.each(a.inputs,function(t,e){o.append(n("<input/>").attr({name:e,value:t}))}),o.hide().appendTo("body").submit().remove(),void(e&&e())}Galaxy.emit.debug("tool-form::submit()","Validation complete.",a),u.default.request({type:"POST",url:Galaxy.root+"api/tools",data:a,success:function(t){if(e&&e(),i.$el.children().hide(),i.$el.append(i._templateSuccess(t)),t.jobs&&t.jobs.length>0){i.$el.append(n("<div/>",{id:"webhook-view"}));new v.default.WebhookView({type:"tool",toolId:a.tool_id})}parent.Galaxy&&parent.Galaxy.currHistoryPanel&&parent.Galaxy.currHistoryPanel.refreshContents()},error:function(t){e&&e(),Galaxy.emit.debug("tool-form::submit","Submission failed.",t);var n=!1;if(t&&t.err_data){var r=i.form.data.matchResponse(t.err_data);for(var o in r){i.form.highlight(o,r[o]),n=!0;break}}n||i.modal.show({title:(0,s.default)("Job submission failed"),body:i._templateError(a,t&&t.err_msg),buttons:{Close:function(){i.modal.hide()}}})}})},validate:function(t){var e=t.inputs,i=-1,n=null;for(var r in e){var a=e[r],o=this.form.data.match(r),s=this.form.field_list[o],l=this.form.input_list[o];if(o&&l&&s){if(!l.optional&&null==a)return this.form.highlight(o),!1;if(a&&a.batch){var u=a.values.length,c=u>0&&a.values[0]&&a.values[0].src;if(c)if(null===n)n=c;else if(n!==c)return this.form.highlight(o,"Please select either dataset or dataset list fields for all batch mode fields."),!1;if(-1===i)i=u;else if(i!==u)return this.form.highlight(o,"Please make sure that you select the same number of inputs for all batch mode fields. This field contains <b>"+u+"</b> selection(s) while a previous field contains <b>"+i+"</b>."),!1}}else Galaxy.emit.debug("tool-form::validate()","Retrieving input objects failed.")}return!0},_templateSuccess:function(t){if(t.jobs&&t.jobs.length>0){var e=t.jobs.length,i=1==e?"1 job has":e+" jobs have",a=n("<div/>").addClass("donemessagelarge").append(n("<p/>").text(i+" been successfully added to the queue - resulting in the following datasets:"));return r.each(t.outputs,function(t){a.append(n("<p/>").addClass("messagerow").append(n("<b/>").text(t.hid+": "+t.name)))}),a.append(n("<p/>").append("<b/>").text("You can check the status of queued jobs and view the resulting data by refreshing the History pane. When the job has been run the status will change from 'running' to 'finished' if completed successfully or 'error' if problems were encountered.")),a}return this._templateError(t,"Invalid success response. No jobs found.")},_templateError:function(t,e){return n("<div/>").addClass("errormessagelarge").append(n("<p/>").text("The server could not complete the request. Please contact the Galaxy Team if this error persists. "+(e||""))).append(n("<pre/>").text(JSON.stringify(t,null,4)))}});e.default={View:_}}).call(e,i(2),i(0),i(1))},function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(5),a=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=t.Model.extend({initialize:function(){this.active={},this.last=null},execute:function(t){var e=this,i=a.default.uid(),r=t.length>0;this.active[i]=!0;var o=n.Deferred();o.promise().always(function(){delete e.active[i],r&&Galaxy.emit.debug("deferred::execute()",this.state().charAt(0).toUpperCase()+this.state().slice(1)+" "+i)}),n.when(this.last).always(function(){e.active[i]?(r&&Galaxy.emit.debug("deferred::execute()","Running "+i),t(o),!r&&o.resolve()):o.reject()}),this.last=o.promise()},reset:function(){Galaxy.emit.debug("deferred::execute()","Reset");for(var t in this.active)this.active[t]=!1},ready:function(){return n.isEmptyObject(this.active)}})}).call(e,i(2),i(0))},function(t,e,i){"use strict";(function(t,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(5),o=r(a),s=i(69),l=r(s),u=i(6),c=r(u),h=t.View.extend({initialize:function(t){var e=this;this.options=t,this.name=t.name||"element",this.multiple=t.multiple||!1,this.message=new c.default.Message,this.portlet=new l.default.View({cls:"ui-portlet-section"}),this.select=new c.default.Select.View({optional:t.optional}),this.button=new c.default.ButtonIcon({icon:"fa fa-sign-in",tooltip:"Insert new "+this.name,onclick:function(){e.add({id:e.select.value(),name:e.select.text()})}}),this.setElement(this._template(t)),this.$(".ui-list-message").append(this.message.$el),this.$(".ui-list-portlet").append(this.portlet.$el),this.$(".ui-list-button").append(this.button.$el),this.$(".ui-list-select").append(this.select.$el)},value:function(t){if(void 0!==t){if(this.portlet.empty(),n.isArray(t))for(var e in t){var i=t[e],r=null,a=null;"string"!=n.type(i)?(r=i.id,a=i.name):r=a=i,null!=r&&this.add({id:r,name:a})}this._refresh()}var o=[];return this.$(".ui-list-id").each(function(){o.push({id:n(this).prop("id"),name:n(this).find(".ui-list-name").html()})}),0==o.length?null:o},add:function(t){var e=this;if(0===this.$('[id="'+t.id+'"]').length)if(o.default.isEmpty(t.id))this.message.update({message:"Please select a valid "+this.name+".",status:"danger"});else{var i=n(this._templateRow({id:t.id,name:t.name}));i.on("click",function(){i.remove(),e._refresh()}),i.on("mouseover",function(){i.addClass("portlet-highlight")}),i.on("mouseout",function(){i.removeClass("portlet-highlight")}),this.portlet.append(i),this._refresh()}else this.message.update({message:"This "+this.name+" is already in the list."})},update:function(t){this.select.update(t)},_refresh:function(){this.$(".ui-list-id").length>0?(!this.multiple&&this.button.disable(),this.$(".ui-list-portlet").show()):(this.button.enable(),this.$(".ui-list-portlet").hide()),this.options.onchange&&this.options.onchange()},_template:function(t){return'<div class="ui-list"><div class="ui-margin-top"><span class="ui-list-button"/><span class="ui-list-select"/></div><div class="ui-list-message"/><div class="ui-list-portlet"/></div>'},_templateRow:function(t){return'<div id="'+t.id+'" class="ui-list-id"><span class="ui-list-delete fa fa-trash"/><span class="ui-list-name">'+t.name+"</span></div>"}});e.default={View:h}}).call(e,i(2),i(0))},function(t,e,i){"use strict";(function(t,i,n){Object.defineProperty(e,"__esModule",{value:!0});var r=e.Manager=t.Model.extend({initialize:function(t){this.app=t},checksum:function(){var t="",e=this;return this.app.section.$el.find(".section-row").each(function(){var n=i(this).attr("id"),r=e.app.field_list[n];r&&(t+=n+":"+JSON.stringify(r.value&&r.value())+":"+r.collapsed+";")}),t},create:function(){function t(t,e,n){i.flat_dict[t]=e,r[t]=n,i.app.element_list[e]&&i.app.element_list[e].$el.attr("tour_id",t)}function e(n,r){for(var o in r){var s=r[o];if(s.input){var l=s.input,u=n;switch(""!==n&&(u+="|"),u+=l.name,l.type){case"repeat":var c=[],h=null;for(var d in s){var f=d.indexOf("section-");-1!=f&&(f+="section-".length,c.push(parseInt(d.substr(f))),h||(h=d.substr(0,f)))}c.sort(function(t,e){return t-e}),o=0;for(var p in c)e(u+"_"+o++,s[h+c[p]]);break;case"conditional":var g=i.app.field_list[l.id].value();t(u+"|"+l.test_param.name,l.id,g);var m=a(l,g);-1!=m&&e(u,r[l.id+"-section-"+m]);break;case"section":e(!l.flat&&u||"",s);break;default:var v=i.app.field_list[l.id];if(v&&v.value&&(g=v.value(),(void 0===l.ignore||l.ignore!=g)&&(v.collapsed&&l.collapsible_value&&(g=l.collapsible_value),t(u,l.id,g),l.payload)))for(var _ in l.payload)t(_,l.id,l.payload[_])}}}}var i=this,n={};this._iterate(this.app.section.$el,n);var r={};return this.flat_dict={},e("",n),r},match:function(t){return this.flat_dict&&this.flat_dict[t]},matchCase:function(t,e){return a(t,e)},matchModel:function(t,e){var i=this;o(t.inputs,function(t,n){i.flat_dict[n]&&e(t,i.flat_dict[n])})},matchResponse:function(t){function e(t,r){if("string"==typeof r){var a=n.flat_dict[t];a&&(i[a]=r)}else for(var o in r){var s=o;if(""!==t){var l="|";r instanceof Array&&(l="_"),s=t+l+s}e(s,r[o])}}var i={},n=this;return e("",t),i},_iterate:function(t,e){var n=this;i(t).children().each(function(){var t=this,r=i(t).attr("id");if(i(t).hasClass("section-row")){var a=n.app.input_list[r];e[r]=a&&{input:a}||{},n._iterate(t,e[r])}else n._iterate(t,e)})}}),a=function(t,e){"boolean"==t.test_param.type&&(e="true"==e?t.test_param.truevalue||"true":t.test_param.falsevalue||"false");for(var i in t.cases)if(t.cases[i].value==e)return i;return-1};e.matchCase=a;var o=e.visitInputs=function t(e,r,o,s){s=i.extend(!0,{},s),n.each(e,function(t){t&&t.type&&t.name&&(s[t.name]=t)});for(var l in e){var u=e[l];u.name=u.name||l;var c=o?o+"|"+u.name:u.name;switch(u.type){case"repeat":n.each(u.cache,function(e,i){t(e,r,c+"_"+i,s)});break;case"conditional":if(u.test_param){r(u.test_param,c+"|"+u.test_param.name,s);var h=a(u,u.test_param.value);-1!=h?t(u.cases[h].inputs,r,c,s):Galaxy.emit.debug("form-data::visitInputs() - Invalid case for "+c+".")}else Galaxy.emit.debug("form-data::visitInputs() - Conditional test parameter missing for "+c+".");break;case"section":t(u.inputs,r,c,s);break;default:r(u,c,s)}}};e.default={Manager:r,visitInputs:o}}).call(e,i(2),i(0),i(1))},function(t,e,i){"use strict";function n(t){i(175)}Object.defineProperty(e,"__esModule",{value:!0});var r=i(178),a=i.n(r),o=i(244),s=i(19),l=n,u=s(a.a,o.a,!1,l,null,null);e.default=u.exports},function(t,e,i){"use strict";t.exports=function(t,e){return function(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];return t.apply(e,i)}}},function(t,e,i){"use strict";var n=i(11),r=i(184),a=i(186),o=i(187),s=i(188),l=i(125),u="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||i(189);t.exports=function(t){return new Promise(function(e,c){var h=t.data,d=t.headers;n.isFormData(h)&&delete d["Content-Type"];var f=new XMLHttpRequest,p="onreadystatechange",g=!1;if(window.XMLHttpRequest||"undefined"==typeof window||!window.XDomainRequest||"withCredentials"in f||s(t.url)||(f=new window.XDomainRequest,p="onload",g=!0,f.onprogress=function(){},f.ontimeout=function(){}),t.auth){var m=t.auth.username||"",v=t.auth.password||"";d.Authorization="Basic "+u(m+":"+v)}if(f.open(t.method.toUpperCase(),a(t.url,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,f[p]=function(){if(f&&(4===f.readyState||g)&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var i="getAllResponseHeaders"in f?o(f.getAllResponseHeaders()):null,n=t.responseType&&"text"!==t.responseType?f.response:f.responseText,a={data:n,status:1223===f.status?204:f.status,statusText:1223===f.status?"No Content":f.statusText,headers:i,config:t,request:f};r(e,c,a),f=null}},f.onerror=function(){c(l("Network Error",t,null,f)),f=null},f.ontimeout=function(){c(l("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",f)),f=null},n.isStandardBrowserEnv()){var _=i(190),y=(t.withCredentials||s(t.url))&&t.xsrfCookieName?_.read(t.xsrfCookieName):void 0;y&&(d[t.xsrfHeaderName]=y)}if("setRequestHeader"in f&&n.forEach(d,function(t,e){void 0===h&&"content-type"===e.toLowerCase()?delete d[e]:f.setRequestHeader(e,t)}),t.withCredentials&&(f.withCredentials=!0),t.responseType)try{f.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){f&&(f.abort(),c(t),f=null)}),void 0===h&&(h=null),f.send(h)})}},function(t,e,i){"use strict";var n=i(185);t.exports=function(t,e,i,r,a){var o=new Error(t);return n(o,e,i,r,a)}},function(t,e,i){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,i){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.supportedMarkups={ascii:!0,unicode:!0,html:!0}},function(t,e,i){"use strict";function n(t){return r(e.defaultCategories,t)}function r(t,e){for(var i=[],n=0;n<e.length;n++){var r=e.charAt(n);i.push({string:r,category:t(r)})}return i}Object.defineProperty(e,"__esModule",{value:!0}),e.defaultCategories=function(t){switch(t){case"\\":return 0;case"{":return 1;case"}":return 2;case"$":return 3;case"&":return 4;case"\r":return 5;case"#":return 6;case"^":return 7;case"_":return 8;case"\0":return 9;case" ":return 10;case"~":return 13;case"%":return 14;case"d":return 15;default:return 11}},e.convertToTeXCharsDefault=n,e.convertToTeXChars=r},function(t,e,i){!function(e,i){t.exports=i()}(0,function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,i){"use strict";function n(t){if(!(this instanceof n))return new n(t);this._=t}function r(t){return t instanceof n}function a(t){return"[object Array]"==={}.toString.call(t)}function o(t,e){return{status:!0,index:t,value:e,furthest:-1,expected:[]}}function s(t,e){return{status:!1,index:-1,value:null,furthest:t,expected:[e]}}function l(t,e){if(!e)return t;if(t.furthest>e.furthest)return t;var i=t.furthest===e.furthest?c(t.expected,e.expected):e.expected;return{status:t.status,index:t.index,value:t.value,furthest:e.furthest,expected:i}}function u(t,e){var i=t.slice(0,e).split("\n");return{offset:e,line:i.length,column:i[i.length-1].length+1}}function c(t,e){var i=t.length,n=e.length;if(0===i)return e;if(0===n)return t;for(var r={},a=0;a<i;a++)r[t[a]]=!0;for(var o=0;o<n;o++)r[e[o]]=!0;var s=[];for(var l in r)r.hasOwnProperty(l)&&s.push(l);return s.sort(),s}function h(t){if(!r(t))throw new Error("not a parser: "+t)}function d(t){if(!a(t))throw new Error("not an array: "+t)}function f(t){if("number"!=typeof t)throw new Error("not a number: "+t)}function p(t){if(!(t instanceof RegExp))throw new Error("not a regexp: "+t);for(var e=b(t),i=0;i<e.length;i++){var n=e.charAt(i);if("i"!==n&&"m"!==n&&"u"!==n)throw new Error('unsupported regexp flag "'+n+'": '+t)}}function g(t){if("function"!=typeof t)throw new Error("not a function: "+t)}function m(t){if("string"!=typeof t)throw new Error("not a string: "+t)}function v(t){return 1===t.length?t[0]:"one of "+t.join(", ")}function _(t,e){var i=e.index,n=i.offset;if(n===t.length)return", got the end of the input";var r=n>0?"'...":"'",a=t.length-n>12?"...'":"'";return" at line "+i.line+" column "+i.column+", got "+r+t.slice(n,n+12)+a}function y(t,e){return"expected "+v(e.expected)+_(t,e)}function b(t){var e=""+t;return e.slice(e.lastIndexOf("/")+1)}function w(t){return RegExp("^(?:"+t.source+")",b(t))}function x(){for(var t=[].slice.call(arguments),e=t.length,i=0;i<e;i+=1)h(t[i]);return n(function(i,n){for(var r,a=new Array(e),s=0;s<e;s+=1){if(r=l(t[s]._(i,n),r),!r.status)return r;a[s]=r.value,n=r.index}return l(o(n,a),r)})}function C(){for(var t={},e=0,i=[].slice.call(arguments),s=i.length,u=0;u<s;u+=1){var c=i[u];if(!r(c)){if(a(c)&&2===c.length&&"string"==typeof c[0]&&r(c[1])){var h=c[0];if(t[h])throw new Error("seqObj: duplicate key "+h);t[h]=!0,e++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(0===e)throw new Error("seqObj expects at least one named parser, found zero");return n(function(t,e){for(var n,r={},u=0;u<s;u+=1){var c,h;if(a(i[u])?(c=i[u][0],h=i[u][1]):(c=null,h=i[u]),n=l(h._(t,e),n),!n.status)return n;c&&(r[c]=n.value),e=n.index}return l(o(e,r),n)})}function k(){var t=[].slice.call(arguments);if(0===t.length)throw new Error("seqMap needs at least one argument");var e=t.pop();return g(e),x.apply(null,t).map(function(t){return e.apply(null,t)})}function S(t){var e={};for(var i in t)({}).hasOwnProperty.call(t,i)&&function(i){var n=function(){return t[i](e)};e[i]=q(n)}(i);return e}function T(){var t=[].slice.call(arguments),e=t.length;if(0===e)return $("zero alternates");for(var i=0;i<e;i+=1)h(t[i]);return n(function(e,i){for(var n,r=0;r<t.length;r+=1)if(n=l(t[r]._(e,i),n),n.status)return n;return n})}function A(t,e){return M(t,e).or(D([]))}function M(t,e){h(t),h(e);var i=e.then(t).many();return t.chain(function(t){return i.map(function(e){return[t].concat(e)})})}function E(t){m(t);var e="'"+t+"'";return n(function(i,n){var r=n+t.length,a=i.slice(n,r);return a===t?o(r,a):s(n,e)})}function O(t,e){p(t),arguments.length>=2?f(e):e=0;var i=w(t),r=""+t;return n(function(t,n){var a=i.exec(t.slice(n));if(a){if(0<=e&&e<=a.length){var l=a[0],u=a[e];return o(n+l.length,u)}return s(n,"valid match group (0 to "+a.length+") in "+r)}return s(n,r)})}function D(t){return n(function(e,i){return o(i,t)})}function $(t){return n(function(e,i){return s(i,t)})}function j(t){if(r(t))return n(function(e,i){var n=t._(e,i);return n.index=i,n.value="",n});if("string"==typeof t)return j(E(t));if(t instanceof RegExp)return j(O(t));throw new Error("not a string, regexp, or parser: "+t)}function P(t){return h(t),n(function(e,i){var n=t._(e,i),r=e.slice(i,n.index);return n.status?s(i,'not "'+r+'"'):o(i,null)})}function R(t){return g(t),n(function(e,i){var n=e.charAt(i);return i<e.length&&t(n)?o(i+1,n):s(i,"a character matching "+t)})}function I(t){return R(function(e){return t.indexOf(e)>=0})}function N(t){return R(function(e){return t.indexOf(e)<0})}function L(t){return n(t(o,s))}function z(t,e){return R(function(i){return t<=i&&i<=e}).desc(t+"-"+e)}function H(t){return g(t),n(function(e,i){for(var n=i;n<e.length&&t(e.charAt(n));)n++;return o(n,e.slice(i,n))})}function q(t,e){arguments.length<2&&(e=t,t=void 0);var i=n(function(t,n){return i._=e()._,i._(t,n)});return t?i.desc(t):i}function F(){return $("fantasy-land/empty")}var B=n.prototype;B.parse=function(t){if("string"!=typeof t)throw new Error(".parse must be called with a string as its argument");var e=this.skip(G)._(t,0);return e.status?{status:!0,value:e.value}:{status:!1,index:u(t,e.furthest),expected:e.expected}},B.tryParse=function(t){var e=this.parse(t);if(e.status)return e.value;var i=y(t,e),n=new Error(i);throw n.type="ParsimmonError",n.result=e,n},B.or=function(t){return T(this,t)},B.trim=function(t){return this.wrap(t,t)},B.wrap=function(t,e){return k(t,this,e,function(t,e){return e})},B.thru=function(t){return t(this)},B.then=function(t){return h(t),x(this,t).map(function(t){return t[1]})},B.many=function(){var t=this;return n(function(e,i){for(var n=[],r=void 0;;){if(r=l(t._(e,i),r),!r.status)return l(o(i,n),r);i=r.index,n.push(r.value)}})},B.tie=function(){return this.map(function(t){d(t);for(var e="",i=0;i<t.length;i++)m(t[i]),e+=t[i];return e})},B.times=function(t,e){var i=this;return arguments.length<2&&(e=t),f(t),f(e),n(function(n,r){for(var a=[],s=void 0,u=void 0,c=0;c<t;c+=1){if(s=i._(n,r),u=l(s,u),!s.status)return u;r=s.index,a.push(s.value)}for(;c<e&&(s=i._(n,r),u=l(s,u),s.status);c+=1)r=s.index,a.push(s.value);return l(o(r,a),u)})},B.result=function(t){return this.map(function(){return t})},B.atMost=function(t){return this.times(0,t)},B.atLeast=function(t){return k(this.times(t),this.many(),function(t,e){return t.concat(e)})},B.map=function(t){g(t);var e=this;return n(function(i,n){var r=e._(i,n);return r.status?l(o(r.index,t(r.value)),r):r})},B.skip=function(t){return x(this,t).map(function(t){return t[0]})},B.mark=function(){return k(V,this,V,function(t,e,i){return{start:t,value:e,end:i}})},B.node=function(t){return k(V,this,V,function(e,i,n){return{name:t,value:i,start:e,end:n}})},B.sepBy=function(t){return A(this,t)},B.sepBy1=function(t){return M(this,t)},B.lookahead=function(t){return this.skip(j(t))},B.notFollowedBy=function(t){return this.skip(P(t))},B.desc=function(t){var e=this;return n(function(i,n){var r=e._(i,n);return r.status||(r.expected=[t]),r})},B.fallback=function(t){return this.or(D(t))},B.ap=function(t){return k(t,this,function(t,e){return t(e)})},B.chain=function(t){var e=this;return n(function(i,n){var r=e._(i,n);return r.status?l(t(r.value)._(i,r.index),r):r})},B.concat=B.or,B.empty=F,B.of=D,B["fantasy-land/ap"]=B.ap,B["fantasy-land/chain"]=B.chain,B["fantasy-land/concat"]=B.concat,B["fantasy-land/empty"]=B.empty,B["fantasy-land/of"]=B.of,B["fantasy-land/map"]=B.map;var V=n(function(t,e){return o(e,u(t,e))}),U=n(function(t,e){return e>=t.length?s(e,"any character"):o(e+1,t.charAt(e))}),W=n(function(t,e){return o(t.length,t.slice(e))}),G=n(function(t,e){return e<t.length?s(e,"EOF"):o(e,null)}),X=O(/[0-9]/).desc("a digit"),Y=O(/[0-9]*/).desc("optional digits"),J=O(/[a-z]/i).desc("a letter"),K=O(/[a-z]*/i).desc("optional letters"),Q=O(/\s*/).desc("optional whitespace"),Z=O(/\s+/).desc("whitespace");n.all=W,n.alt=T,n.any=U,n.createLanguage=S,n.custom=L,n.digit=X,n.digits=Y,n.empty=F,n.eof=G,n.fail=$,n.formatError=y,n.index=V,n.isParser=r,n.lazy=q,n.letter=J,n.letters=K,n.lookahead=j,n.makeFailure=s,n.makeSuccess=o,n.noneOf=N,n.notFollowedBy=P,n.of=D,n.oneOf=I,n.optWhitespace=Q,n.Parser=n,n.range=z,n.regex=O,n.regexp=O,n.sepBy=A,n.sepBy1=M,n.seq=x,n.seqMap=k,n.seqObj=C,n.string=E,n.succeed=D,n.takeWhile=H,n.test=R,n.whitespace=Z,n["fantasy-land/empty"]=F,n["fantasy-land/of"]=D,t.exports=n}])})},function(t,e,i){"use strict";function n(t){return new Error("I do not know command "+t)}Object.defineProperty(e,"__esModule",{value:!0}),e.unknownCommandError=n},function(t,e,i){"use strict";function n(t,e,i,n){return{name:t,optionalArguments:e,argumentCount:i,apply:n}}function r(t,e,i){return{name:t,optionalArguments:e,argumentCount:i}}function a(t,e){return{name:t,optionalArguments:0,argumentCount:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.createCommandHandler=n,e.createKnownCommandWithOptArgs=r,e.createKnownCommandWithArgs=a},function(t,e,i){"use strict";function n(t){return"bb"===t||"mathbb"===t||"textbb"===t}function r(t){return"bf"===t||"mathbf"===t||"textbf"===t}function a(t){return"mono"===t}function o(t){return"frak"===t||"mathfrak"===t||"textfrak"===t}function s(t){return"it"===t||"mathit"===t||"textit"===t}function l(t){return"tt"===t||"mathtt"===t||"texttt"===t}function u(t){return"cal"===t||"mathcal"===t||"textcal"===t}function c(t){return"sup"===t||"mathsup"===t||"textsup"===t||"superscript"===t||"mathsuperscript"===t||"textsuperscript"===t}function h(t){return"sub"===t||"mathsub"===t||"textsub"===t||"subscript"===t||"mathsubscript"===t||"textsubscript"===t}function d(t){return e.formattingText.hasOwnProperty(t)||e.formattingMath.hasOwnProperty(t)||e.formattingNoMode.hasOwnProperty(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.formattingText={textbb:!0,textbf:!0,textfrak:!0,textit:!0,texttt:!0,textcal:!0,textsup:!0,textsub:!0,textsuperscript:!0,textsubscript:!0},e.formattingNoMode={bb:!0,bf:!0,frak:!0,it:!0,tt:!0,cal:!0,mono:!0,sup:!0,sub:!0,superscript:!0,subscript:!0},e.formattingMath={mathbb:!0,mathbf:!0,mathfrak:!0,mathit:!0,mathtt:!0,mathcal:!0,mathsup:!0,mathsub:!0,mathsuperscript:!0,mathsubscript:!0},e.isBbCmd=n,e.isBfCmd=r,e.isMonoCmd=a,e.isFrakCmd=o,e.isItCmd=s,e.isTtCmd=l,e.isCalCmd=u,e.isSupCmd=c,e.isSubCmd=h,e.isFormattingCmd=d},function(t,e,i){"use strict";function n(t){return e.superscriptCharacters.hasOwnProperty(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.superscriptCharacters={0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","+":"⁺","-":"⁻","=":"⁼","(":"⁽",")":"⁾",a:"ᵃ",b:"ᵇ",c:"ᶜ",d:"ᵈ",e:"ᵉ",f:"ᶠ",g:"ᵍ",h:"ʰ",i:"ⁱ",j:"ʲ",k:"ᵏ",l:"ˡ",m:"ᵐ",n:"ⁿ",o:"ᵒ",p:"ᵖ",r:"ʳ",s:"ˢ",t:"ᵗ",u:"ᵘ",v:"ᵛ",w:"ʷ",x:"ˣ",y:"ʸ",z:"ᶻ",A:"ᴬ",B:"ᴮ",D:"ᴰ",E:"ᴱ",G:"ᴳ",H:"ᴴ",I:"ᴵ",J:"ᴶ",K:"ᴷ",L:"ᴸ",M:"ᴹ",N:"ᴺ",O:"ᴼ",P:"ᴾ",R:"ᴿ",T:"ᵀ",U:"ᵁ",V:"ⱽ",W:"ᵂ","α":"ᵅ","β":"ᵝ","γ":"ᵞ","δ":"ᵟ","∊":"ᵋ","θ":"ᶿ","ι":"ᶥ","Φ":"ᶲ","φ":"ᵠ","χ":"ᵡ"},e.isSuperscriptCharacter=n,e.translateCharToSuperscript=function(t){return n(t)?e.superscriptCharacters[t]:void 0}},function(t,e,i){"use strict";function n(t){return e.oneArgsCommands.hasOwnProperty(t)}Object.defineProperty(e,"__esModule",{value:!0});var r=i(234),a=i(235),o=i(133);e.oneArgsCommands=Object.assign({},r.spaceCmds1arg,o.formattingText,o.formattingMath,o.formattingNoMode,a.diacriticsTextMode,a.diacriticsMathMode,{cyrchar:!0,vec:!0,mono:!0}),e.is1argsCommand=n},,,,,,function(t,e,i){i(142),i(0),i(143),i(101),i(102),i(103),i(104),i(76),i(105),i(106),i(144),i(63),i(107),i(145),i(77),i(146),i(108),i(64),i(1),i(2),i(7),i(110),i(111),i(42),t.exports=i(148)},function(t,e,i){"use strict";(function(t){!function(){window.console=window.console||{log:function(){},debug:function(){},info:function(){},warn:function(){},error:function(){},assert:function(){}},Object.assign=Object.assign||t.extend;for(var e=0,i=["ms","moz","webkit","o"],n=0;n<i.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[i[n]+"RequestAnimationFrame"],window.cancelRequestAnimationFrame=window[i[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,i){var n=(new Date).getTime(),r=Math.max(0,16-(n-e)),a=window.setTimeout(function(){t(n+r)},r);return e=n+r,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)});var r=[{name:"canvas",compatible:function(){return window.CanvasRenderingContext2D}},{name:"sessionStorage",compatible:function(){try{return window.sessionStorage.length>=0}catch(t){}return!1}}],a=r.filter(function(t){return!t.compatible()}).map(function(t){return t.name});if(a.length){var o=document.querySelectorAll('link[rel="index"]').item(0);o&&(window.location=o.href+"static/incompatible-browser.html"),console.log("incompatible browser:\n"+a.join("\n"))}}()}).call(e,i(1))},function(t,e,i){(function(t){/*!
 * jQuery Migrate - v1.4.1 - 2016-05-19
 * Copyright jQuery Foundation and other contributors
 */
!function(t,e,i){function n(i){var n=e.console;a[i]||(a[i]=!0,t.migrateWarnings.push(i),n&&n.warn&&!t.migrateMute&&(n.warn("JQMIGRATE: "+i),t.migrateTrace&&n.trace&&n.trace()))}function r(e,i,r,a){if(Object.defineProperty)try{return void Object.defineProperty(e,i,{configurable:!0,enumerable:!0,get:function(){return n(a),r},set:function(t){n(a),r=t}})}catch(t){}t._definePropertyBroken=!0,e[i]=r}t.migrateVersion="1.4.1";var a={};t.migrateWarnings=[],e.console&&e.console.log&&e.console.log("JQMIGRATE: Migrate is installed"+(t.migrateMute?"":" with logging active")+", version "+t.migrateVersion),void 0===t.migrateTrace&&(t.migrateTrace=!0),t.migrateReset=function(){a={},t.migrateWarnings.length=0},"BackCompat"===document.compatMode&&n("jQuery is not compatible with Quirks Mode");var o=t("<input/>",{size:1}).attr("size")&&t.attrFn,s=t.attr,l=t.attrHooks.value&&t.attrHooks.value.get||function(){return null},u=t.attrHooks.value&&t.attrHooks.value.set||function(){},c=/^(?:input|button)$/i,h=/^[238]$/,d=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:checked|selected)$/i;r(t,"attrFn",o||{},"jQuery.attrFn is deprecated"),t.attr=function(e,i,r,a){var l=i.toLowerCase(),u=e&&e.nodeType;/*!
 * jQuery Migrate - v1.4.1 - 2016-05-19
 * Copyright jQuery Foundation and other contributors
 */
return a&&(s.length<4&&n("jQuery.fn.attr( props, pass ) is deprecated"),e&&!h.test(u)&&(o?i in o:t.isFunction(t.fn[i])))?t(e)[i](r):("type"===i&&void 0!==r&&c.test(e.nodeName)&&e.parentNode&&n("Can't change the 'type' of an input or button in IE 6/7/8"),!t.attrHooks[l]&&d.test(l)&&(t.attrHooks[l]={get:function(e,i){var n,r=t.prop(e,i);return!0===r||"boolean"!=typeof r&&(n=e.getAttributeNode(i))&&!1!==n.nodeValue?i.toLowerCase():void 0},set:function(e,i,n){var r;return!1===i?t.removeAttr(e,n):(r=t.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},f.test(l)&&n("jQuery.fn.attr('"+l+"') might use property instead of attribute")),s.call(t,e,i,r))},t.attrHooks.value={get:function(t,e){var i=(t.nodeName||"").toLowerCase();return"button"===i?l.apply(this,arguments):("input"!==i&&"option"!==i&&n("jQuery.fn.attr('value') no longer gets properties"),e in t?t.value:null)},set:function(t,e){var i=(t.nodeName||"").toLowerCase();if("button"===i)return u.apply(this,arguments);"input"!==i&&"option"!==i&&n("jQuery.fn.attr('value', val) no longer sets properties"),t.value=e}};var p,g,m=t.fn.init,v=t.find,_=t.parseJSON,y=/^\s*</,b=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,w=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g,x=/^([^<]*)(<[\w\W]+>)([^>]*)$/;t.fn.init=function(e,i,r){var a,o;return e&&"string"==typeof e&&!t.isPlainObject(i)&&(a=x.exec(t.trim(e)))&&a[0]&&(y.test(e)||n("$(html) HTML strings must start with '<' character"),a[3]&&n("$(html) HTML text after last tag is ignored"),"#"===a[0].charAt(0)&&(n("HTML string cannot start with a '#' character"),t.error("JQMIGRATE: Invalid selector string (XSS)")),i&&i.context&&i.context.nodeType&&(i=i.context),t.parseHTML)?m.call(this,t.parseHTML(a[2],i&&i.ownerDocument||i||document,!0),i,r):(o=m.apply(this,arguments),e&&void 0!==e.selector?(o.selector=e.selector,o.context=e.context):(o.selector="string"==typeof e?e:"",e&&(o.context=e.nodeType?e:i||document)),o)},t.fn.init.prototype=t.fn,t.find=function(t){var e=Array.prototype.slice.call(arguments);if("string"==typeof t&&b.test(t))try{document.querySelector(t)}catch(i){t=t.replace(w,function(t,e,i,n){return"["+e+i+'"'+n+'"]'});try{document.querySelector(t),n("Attribute selector with '#' must be quoted: "+e[0]),e[0]=t}catch(t){n("Attribute selector with '#' was not fixed: "+e[0])}}return v.apply(this,e)};var C;for(C in v)Object.prototype.hasOwnProperty.call(v,C)&&(t.find[C]=v[C]);t.parseJSON=function(t){return t?_.apply(this,arguments):(n("jQuery.parseJSON requires a valid JSON string"),null)},t.uaMatch=function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},t.browser||(p=t.uaMatch(navigator.userAgent),g={},p.browser&&(g[p.browser]=!0,g.version=p.version),g.chrome?g.webkit=!0:g.webkit&&(g.safari=!0),t.browser=g),r(t,"browser",t.browser,"jQuery.browser is deprecated"),t.boxModel=t.support.boxModel="CSS1Compat"===document.compatMode,r(t,"boxModel",t.boxModel,"jQuery.boxModel is deprecated"),r(t.support,"boxModel",t.support.boxModel,"jQuery.support.boxModel is deprecated"),t.sub=function(){function e(t,i){return new e.fn.init(t,i)}t.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,r){var a=t.fn.init.call(this,n,r,i);return a instanceof e?a:e(a)},e.fn.init.prototype=e.fn;var i=e(document);return n("jQuery.sub() is deprecated"),e},t.fn.size=function(){return n("jQuery.fn.size() is deprecated; use the .length property"),this.length};var k=!1;t.swap&&t.each(["height","width","reliableMarginRight"],function(e,i){var n=t.cssHooks[i]&&t.cssHooks[i].get;n&&(t.cssHooks[i].get=function(){var t;return k=!0,t=n.apply(this,arguments),k=!1,t})}),t.swap=function(t,e,i,r){var a,o,s={};k||n("jQuery.swap() is undocumented and deprecated");for(o in e)s[o]=t.style[o],t.style[o]=e[o];a=i.apply(t,r||[]);for(o in e)t.style[o]=s[o];return a},t.ajaxSetup({converters:{"text json":t.parseJSON}});var S=t.fn.data;t.fn.data=function(e){var i,r,a=this[0];return!a||"events"!==e||1!==arguments.length||(i=t.data(a,e),r=t._data(a,e),void 0!==i&&i!==r||void 0===r)?S.apply(this,arguments):(n("Use of jQuery.fn.data('events') is deprecated"),r)};var T=/\/(java|ecma)script/i;t.clean||(t.clean=function(e,i,r,a){i=i||document,i=!i.nodeType&&i[0]||i,i=i.ownerDocument||i,n("jQuery.clean() is deprecated");var o,s,l,u,c=[];if(t.merge(c,t.buildFragment(e,i).childNodes),r)for(l=function(t){if(!t.type||T.test(t.type))return a?a.push(t.parentNode?t.parentNode.removeChild(t):t):r.appendChild(t)},o=0;null!=(s=c[o]);o++)t.nodeName(s,"script")&&l(s)||(r.appendChild(s),void 0!==s.getElementsByTagName&&(u=t.grep(t.merge([],s.getElementsByTagName("script")),l),c.splice.apply(c,[o+1,0].concat(u)),o+=u.length));return c});var A=t.event.add,M=t.event.remove,E=t.event.trigger,O=t.fn.toggle,D=t.fn.live,$=t.fn.die,j=t.fn.load,P="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",R=new RegExp("\\b(?:"+P+")\\b"),I=/(?:^|\s)hover(\.\S+|)\b/,N=function(e){return"string"!=typeof e||t.event.special.hover?e:(I.test(e)&&n("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),e&&e.replace(I,"mouseenter$1 mouseleave$1"))};t.event.props&&"attrChange"!==t.event.props[0]&&t.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),t.event.dispatch&&r(t.event,"handle",t.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),t.event.add=function(t,e,i,r,a){t!==document&&R.test(e)&&n("AJAX events should be attached to document: "+e),A.call(this,t,N(e||""),i,r,a)},t.event.remove=function(t,e,i,n,r){M.call(this,t,N(e)||"",i,n,r)},t.each(["load","unload","error"],function(e,i){t.fn[i]=function(){var t=Array.prototype.slice.call(arguments,0);return"load"===i&&"string"==typeof t[0]?j.apply(this,t):(n("jQuery.fn."+i+"() is deprecated"),t.splice(0,0,i),arguments.length?this.bind.apply(this,t):(this.triggerHandler.apply(this,t),this))}}),t.fn.toggle=function(e,i){if(!t.isFunction(e)||!t.isFunction(i))return O.apply(this,arguments);n("jQuery.fn.toggle(handler, handler...) is deprecated");var r=arguments,a=e.guid||t.guid++,o=0,s=function(i){var n=(t._data(this,"lastToggle"+e.guid)||0)%o;return t._data(this,"lastToggle"+e.guid,n+1),i.preventDefault(),r[n].apply(this,arguments)||!1};for(s.guid=a;o<r.length;)r[o++].guid=a;return this.click(s)},t.fn.live=function(e,i,r){return n("jQuery.fn.live() is deprecated"),D?D.apply(this,arguments):(t(this.context).on(e,this.selector,i,r),this)},t.fn.die=function(e,i){return n("jQuery.fn.die() is deprecated"),$?$.apply(this,arguments):(t(this.context).off(e,this.selector||"**",i),this)},t.event.trigger=function(t,e,i,r){return i||R.test(t)||n("Global events are undocumented and deprecated"),E.call(this,t,e,i||document,r)},t.each(P.split("|"),function(e,i){t.event.special[i]={setup:function(){var e=this;return e!==document&&(t.event.add(document,i+"."+t.guid,function(){t.event.trigger(i,Array.prototype.slice.call(arguments,1),e,!0)}),t._data(this,i,t.guid++)),!1},teardown:function(){return this!==document&&t.event.remove(document,i+"."+t._data(this,i)),!1}}}),t.event.special.ready={setup:function(){this===document&&n("'ready' event is deprecated")}};var L=t.fn.andSelf||t.fn.addBack,z=t.fn.find;if(t.fn.andSelf=function(){return n("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),L.apply(this,arguments)},t.fn.find=function(t){var e=z.apply(this,arguments);return e.context=this.context,e.selector=this.selector?this.selector+" "+t:t,e},t.Callbacks){var H=t.Deferred,q=[["resolve","done",t.Callbacks("once memory"),t.Callbacks("once memory"),"resolved"],["reject","fail",t.Callbacks("once memory"),t.Callbacks("once memory"),"rejected"],["notify","progress",t.Callbacks("memory"),t.Callbacks("memory")]];t.Deferred=function(e){var i=H(),r=i.promise();return i.pipe=r.pipe=function(){var e=arguments;return n("deferred.pipe() is deprecated"),t.Deferred(function(n){t.each(q,function(a,o){var s=t.isFunction(e[a])&&e[a];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&t.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},i.isResolved=function(){return n("deferred.isResolved is deprecated"),"resolved"===i.state()},i.isRejected=function(){return n("deferred.isRejected is deprecated"),"rejected"===i.state()},e&&e.call(i,i),i}}}(t,window)}).call(e,i(0))},function(t,e,i){var n,r,a;!function(o,s,l){!function(o){r=[i(0)],n=o,void 0!==(a="function"==typeof n?n.apply(e,r):n)&&(t.exports=a)}(function(t){"use strict";var e,i,n,r,a,l,u,c,h,d,f,p,g,m,v,_,y,b,w,x,C,k,S,T,A,M,E,O,D,$,j,P={},R=0;e=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:void 0,normalRangeMax:void 0,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:void 0,chartRangeMax:void 0,chartRangeMinX:void 0,chartRangeMaxX:void 0,tooltipFormat:new n('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:void 0,nullColor:void 0,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:void 0,chartRangeMin:void 0,chartRangeClip:!1,colorMap:void 0,tooltipFormat:new n('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new n('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:void 0,thresholdValue:0,chartRangeMax:void 0,chartRangeMin:void 0,chartRangeClip:!1,tooltipFormat:new n("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:void 0,tooltipFormat:new n("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new n('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:void 0,targetColor:"#4a2",chartRangeMax:void 0,chartRangeMin:void 0,tooltipFormat:new n("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},A='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}',i=function(){var e,i;return e=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(e.prototype=t.extend(new arguments[0],arguments[arguments.length-1]),e._super=arguments[0].prototype):e.prototype=arguments[arguments.length-1],arguments.length>2&&(i=Array.prototype.slice.call(arguments,1,-1),i.unshift(e.prototype),t.extend.apply(t,i))):e.prototype=arguments[0],e.prototype.cls=e,e},t.SPFormatClass=n=i({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(t,e){this.format=t,this.fclass=e},render:function(t,e,i){var n,r,a,o,s,l=this,u=t;return this.format.replace(this.fre,function(){var t;return r=arguments[1],a=arguments[3],n=l.precre.exec(r),n?(s=n[2],r=n[1]):s=!1,void 0===(o=u[r])?"":a&&e&&e[a]?(t=e[a],t.get?e[a].get(o)||o:e[a][o]||o):(h(o)&&(o=i.get("numberFormatter")?i.get("numberFormatter")(o):g(o,s,i.get("numberDigitGroupCount"),i.get("numberDigitGroupSep"),i.get("numberDecimalMark"))),o)})}}),t.spformat=function(t,e){return new n(t,e)},r=function(t,e,i){return t<e?e:t>i?i:t},a=function(t,e){var i;return 2===e?(i=s.floor(t.length/2),t.length%2?t[i]:(t[i-1]+t[i])/2):t.length%2?(i=(t.length*e+e)/4,i%1?(t[s.floor(i)]+t[s.floor(i)-1])/2:t[i-1]):(i=(t.length*e+2)/4,i%1?(t[s.floor(i)]+t[s.floor(i)-1])/2:t[i-1])},l=function(t){var e;switch(t){case"undefined":t=void 0;break;case"null":t=null;break;case"true":t=!0;break;case"false":t=!1;break;default:e=parseFloat(t),t==e&&(t=e)}return t},u=function(t){var e,i=[];for(e=t.length;e--;)i[e]=l(t[e]);return i},c=function(t,e){var i,n,r=[];for(i=0,n=t.length;i<n;i++)t[i]!==e&&r.push(t[i]);return r},h=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},g=function(e,i,n,r,a){var o,s;for(e=(!1===i?parseFloat(e).toString():e.toFixed(i)).split(""),o=(o=t.inArray(".",e))<0?e.length:o,o<e.length&&(e[o]=a),s=o-n;s>0;s-=n)e.splice(s,0,r);return e.join("")},d=function(t,e,i){var n;for(n=e.length;n--;)if((!i||null!==e[n])&&e[n]!==t)return!1;return!0},p=function(e){return t.isArray(e)?e:[e]},f=function(t){var e;o.createStyleSheet?o.createStyleSheet().cssText=t:(e=o.createElement("style"),e.type="text/css",o.getElementsByTagName("head")[0].appendChild(e),e["string"==typeof o.body.style.WebkitAppearance?"innerText":"innerHTML"]=t)},t.fn.simpledraw=function(e,i,n,r){var a,s;if(n&&(a=this.data("_jqs_vcanvas")))return a;if(!1===t.fn.sparkline.canvas)return!1;if(void 0===t.fn.sparkline.canvas){var l=o.createElement("canvas");if(l.getContext&&l.getContext("2d"))t.fn.sparkline.canvas=function(t,e,i,n){return new D(t,e,i,n)};else{if(!o.namespaces||o.namespaces.v)return t.fn.sparkline.canvas=!1,!1;o.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),t.fn.sparkline.canvas=function(t,e,i,n){return new $(t,e,i)}}}return void 0===e&&(e=t(this).innerWidth()),void 0===i&&(i=t(this).innerHeight()),a=t.fn.sparkline.canvas(e,i,this,r),s=t(this).data("_jqs_mhandler"),s&&s.registerCanvas(a),a},t.fn.cleardraw=function(){var t=this.data("_jqs_vcanvas");t&&t.reset()},t.RangeMapClass=m=i({init:function(t){var e,i,n=[];for(e in t)t.hasOwnProperty(e)&&"string"==typeof e&&e.indexOf(":")>-1&&(i=e.split(":"),i[0]=0===i[0].length?-1/0:parseFloat(i[0]),i[1]=0===i[1].length?1/0:parseFloat(i[1]),i[2]=t[e],n.push(i));this.map=t,this.rangelist=n||!1},get:function(t){var e,i,n,r=this.rangelist;if(void 0!==(n=this.map[t]))return n;if(r)for(e=r.length;e--;)if(i=r[e],i[0]<=t&&i[1]>=t)return i[2]}}),t.range_map=function(t){return new m(t)},v=i({init:function(e,i){var n=t(e);this.$el=n,this.options=i,this.currentPageX=0,this.currentPageY=0,this.el=e,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!i.get("disableTooltips"),this.highlightEnabled=!i.get("disableHighlight")},registerSparkline:function(t){this.splist.push(t),this.over&&this.updateDisplay()},registerCanvas:function(e){var i=t(e.canvas);this.canvas=e,this.$canvas=i,i.mouseenter(t.proxy(this.mouseenter,this)),i.mouseleave(t.proxy(this.mouseleave,this)),i.click(t.proxy(this.mouseclick,this))},reset:function(t){this.splist=[],this.tooltip&&t&&(this.tooltip.remove(),this.tooltip=void 0)},mouseclick:function(e){var i=t.Event("sparklineClick");i.originalEvent=e,i.sparklines=this.splist,this.$el.trigger(i)},mouseenter:function(e){t(o.body).unbind("mousemove.jqs"),t(o.body).bind("mousemove.jqs",t.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=e.pageX,this.currentPageY=e.pageY,this.currentEl=e.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new _(this.options),this.tooltip.updatePosition(e.pageX,e.pageY)),this.updateDisplay()},mouseleave:function(){t(o.body).unbind("mousemove.jqs");var e,i,n=this.splist,r=n.length,a=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),i=0;i<r;i++)e=n[i],e.clearRegionHighlight()&&(a=!0);a&&this.canvas.render()},mousemove:function(t){this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,this.tooltip&&this.tooltip.updatePosition(t.pageX,t.pageY),this.updateDisplay()},updateDisplay:function(){var e,i,n,r,a,o=this.splist,s=o.length,l=!1,u=this.$canvas.offset(),c=this.currentPageX-u.left,h=this.currentPageY-u.top;if(this.over){for(n=0;n<s;n++)i=o[n],(r=i.setRegionHighlight(this.currentEl,c,h))&&(l=!0);if(l){if(a=t.Event("sparklineRegionChange"),a.sparklines=this.splist,this.$el.trigger(a),this.tooltip){for(e="",n=0;n<s;n++)i=o[n],e+=i.getCurrentRegionTooltip();this.tooltip.setContent(e)}this.disableHighlight||this.canvas.render()}null===r&&this.mouseleave()}}}),_=i({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(e){var i,n=e.get("tooltipClassname","jqstooltip"),r=this.sizeStyle;this.container=e.get("tooltipContainer")||o.body,this.tooltipOffsetX=e.get("tooltipOffsetX",10),this.tooltipOffsetY=e.get("tooltipOffsetY",12),t("#jqssizetip").remove(),t("#jqstooltip").remove(),this.sizetip=t("<div/>",{id:"jqssizetip",style:r,class:n}),this.tooltip=t("<div/>",{id:"jqstooltip",class:n}).appendTo(this.container),i=this.tooltip.offset(),this.offsetLeft=i.left,this.offsetTop=i.top,this.hidden=!0,t(window).unbind("resize.jqs scroll.jqs"),t(window).bind("resize.jqs scroll.jqs",t.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=t(window).scrollTop(),this.scrollLeft=t(window).scrollLeft(),this.scrollRight=this.scrollLeft+t(window).width(),this.updatePosition()},getSize:function(t){this.sizetip.html(t).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(t){if(!t)return this.tooltip.css("visibility","hidden"),void(this.hidden=!0);this.getSize(t),this.tooltip.html(t).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden&&(this.hidden=!1,this.updatePosition())},updatePosition:function(t,e){if(void 0===t){if(void 0===this.mousex)return;t=this.mousex-this.offsetLeft,e=this.mousey-this.offsetTop}else this.mousex=t-=this.offsetLeft,this.mousey=e-=this.offsetTop;this.height&&this.width&&!this.hidden&&(e-=this.height+this.tooltipOffsetY,t+=this.tooltipOffsetX,e<this.scrollTop&&(e=this.scrollTop),t<this.scrollLeft?t=this.scrollLeft:t+this.width>this.scrollRight&&(t=this.scrollRight-this.width),this.tooltip.css({left:t,top:e}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=void 0,t(window).unbind("resize.jqs scroll.jqs")}}),M=function(){f(A)},t(M),j=[],t.fn.sparkline=function(e,i){return this.each(function(){var n,r,a=new t.fn.sparkline.options(this,i),s=t(this);if(n=function(){var i,n,r,l,u,c,h;if("html"===e||void 0===e?(h=this.getAttribute(a.get("tagValuesAttribute")),void 0!==h&&null!==h||(h=s.html()),i=h.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):i=e,n="auto"===a.get("width")?i.length*a.get("defaultPixelsPerValue"):a.get("width"),"auto"===a.get("height")?a.get("composite")&&t.data(this,"_jqs_vcanvas")||(l=o.createElement("span"),l.innerHTML="a",s.html(l),r=t(l).innerHeight()||t(l).height(),t(l).remove(),l=null):r=a.get("height"),a.get("disableInteraction")?u=!1:(u=t.data(this,"_jqs_mhandler"),u?a.get("composite")||u.reset():(u=new v(this,a),t.data(this,"_jqs_mhandler",u))),a.get("composite")&&!t.data(this,"_jqs_vcanvas"))return void(t.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),t.data(this,"_jqs_errnotify",!0)));c=new(t.fn.sparkline[a.get("type")])(this,i,a,n,r),c.render(),u&&u.registerSparkline(c)},t(this).html()&&!a.get("disableHiddenCheck")&&t(this).is(":hidden")||!t(this).parents("body").length){if(!a.get("composite")&&t.data(this,"_jqs_pending"))for(r=j.length;r;r--)j[r-1][0]==this&&j.splice(r-1,1);j.push([this,n]),t.data(this,"_jqs_pending",!0)}else n.call(this)})},t.fn.sparkline.defaults=e(),t.sparkline_display_visible=function(){var e,i,n,r=[];for(i=0,n=j.length;i<n;i++)e=j[i][0],t(e).is(":visible")&&!t(e).parents().is(":hidden")?(j[i][1].call(e),t.data(j[i][0],"_jqs_pending",!1),r.push(i)):t(e).closest("html").length||t.data(e,"_jqs_pending")||(t.data(j[i][0],"_jqs_pending",!1),r.push(i));for(i=r.length;i;i--)j.splice(r[i-1],1)},t.fn.sparkline.options=i({init:function(e,i){var n,r,a,o;this.userOptions=i=i||{},this.tag=e,this.tagValCache={},r=t.fn.sparkline.defaults,a=r.common,this.tagOptionsPrefix=i.enableTagOptions&&(i.tagOptionsPrefix||a.tagOptionsPrefix),o=this.getTagSetting("type"),n=o===P?r[i.type||a.type]:r[o],this.mergedOptions=t.extend({},a,n,i)},getTagSetting:function(t){var e,i,n,r,a=this.tagOptionsPrefix;if(!1===a||void 0===a)return P;if(this.tagValCache.hasOwnProperty(t))e=this.tagValCache.key;else{if(void 0===(e=this.tag.getAttribute(a+t))||null===e)e=P;else if("["===e.substr(0,1))for(e=e.substr(1,e.length-2).split(","),i=e.length;i--;)e[i]=l(e[i].replace(/(^\s*)|(\s*$)/g,""));else if("{"===e.substr(0,1))for(n=e.substr(1,e.length-2).split(","),e={},i=n.length;i--;)r=n[i].split(":",2),e[r[0].replace(/(^\s*)|(\s*$)/g,"")]=l(r[1].replace(/(^\s*)|(\s*$)/g,""));else e=l(e);this.tagValCache.key=e}return e},get:function(t,e){var i,n=this.getTagSetting(t);return n!==P?n:void 0===(i=this.mergedOptions[t])?e:i}}),t.fn.sparkline._base=i({disabled:!1,init:function(e,i,n,r,a){this.el=e,this.$el=t(e),this.values=i,this.options=n,this.width=r,this.height=a,this.currentRegion=void 0},initTarget:function(){var t=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),t))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return!this.disabled||(this.el.innerHTML="",!1)},getRegion:function(t,e){},setRegionHighlight:function(t,e,i){var n,r=this.currentRegion,a=!this.options.get("disableHighlight");return e>this.canvasWidth||i>this.canvasHeight||e<0||i<0?null:(n=this.getRegion(t,e,i),r!==n&&(void 0!==r&&a&&this.removeHighlight(),this.currentRegion=n,void 0!==n&&a&&this.renderHighlight(),!0))},clearRegionHighlight:function(){return void 0!==this.currentRegion&&(this.removeHighlight(),this.currentRegion=void 0,!0)},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(t){},getCurrentRegionTooltip:function(){var e,i,r,a,o,s,l,u,c,h,d,f,p,g,m=this.options,v="",_=[];if(void 0===this.currentRegion)return"";if(e=this.getCurrentRegionFields(),d=m.get("tooltipFormatter"))return d(this,m,e);if(m.get("tooltipChartTitle")&&(v+='<div class="jqs jqstitle">'+m.get("tooltipChartTitle")+"</div>\n"),!(i=this.options.get("tooltipFormat")))return"";if(t.isArray(i)||(i=[i]),t.isArray(e)||(e=[e]),l=this.options.get("tooltipFormatFieldlist"),u=this.options.get("tooltipFormatFieldlistKey"),l&&u){for(c=[],s=e.length;s--;)h=e[s][u],-1!=(g=t.inArray(h,l))&&(c[g]=e[s]);e=c}for(r=i.length,p=e.length,s=0;s<r;s++)for(f=i[s],"string"==typeof f&&(f=new n(f)),a=f.fclass||"jqsfield",g=0;g<p;g++)e[g].isNull&&m.get("tooltipSkipNull")||(t.extend(e[g],{prefix:m.get("tooltipPrefix"),suffix:m.get("tooltipSuffix")}),o=f.render(e[g],m.get("tooltipValueLookups"),m),_.push('<div class="'+a+'">'+o+"</div>"));return _.length?v+_.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(t,e){var i,n,a,o,l=e.get("highlightColor"),u=e.get("highlightLighten");if(l)return l;if(u&&(i=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(t)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(t))){for(a=[],n=4===t.length?16:1,o=0;o<3;o++)a[o]=r(s.round(parseInt(i[o+1],16)*n*u),0,255);return"rgb("+a.join(",")+")"}return t}}),y={changeHighlight:function(e){var i,n=this.currentRegion,r=this.target,a=this.regionShapes[n];a&&(i=this.renderRegion(n,e),t.isArray(i)||t.isArray(a)?(r.replaceWithShapes(a,i),this.regionShapes[n]=t.map(i,function(t){return t.id})):(r.replaceWithShape(a,i),this.regionShapes[n]=i.id))},render:function(){var e,i,n,r,a=this.values,o=this.target,s=this.regionShapes;if(this.cls._super.render.call(this)){for(n=a.length;n--;)if(e=this.renderRegion(n))if(t.isArray(e)){for(i=[],r=e.length;r--;)e[r].append(),i.push(e[r].id);s[n]=i}else e.append(),s[n]=e.id;else s[n]=null;o.render()}}},t.fn.sparkline.line=b=i(t.fn.sparkline._base,{type:"line",init:function(t,e,i,n,r){b._super.init.call(this,t,e,i,n,r),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(t,e,i){var n,r=this.regionMap;for(n=r.length;n--;)if(null!==r[n]&&e>=r[n][0]&&e<=r[n][1])return r[n][2]},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:null===this.yvalues[t],x:this.xvalues[t],y:this.yvalues[t],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:t}},renderHighlight:function(){var t,e,i=this.currentRegion,n=this.target,r=this.vertices[i],a=this.options,o=a.get("spotRadius"),s=a.get("highlightSpotColor"),l=a.get("highlightLineColor");r&&(o&&s&&(t=n.drawCircle(r[0],r[1],o,void 0,s),this.highlightSpotId=t.id,n.insertAfterShape(this.lastShapeId,t)),l&&(e=n.drawLine(r[0],this.canvasTop,r[0],this.canvasTop+this.canvasHeight,l),this.highlightLineId=e.id,n.insertAfterShape(this.lastShapeId,e)))},removeHighlight:function(){var t=this.target;this.highlightSpotId&&(t.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(t.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var t,e,i,n,r,a=this.values,o=a.length,l=this.xvalues,u=this.yvalues,c=this.yminmax;for(t=0;t<o;t++)e=a[t],i="string"==typeof a[t],n="object"==typeof a[t]&&a[t]instanceof Array,r=i&&a[t].split(":"),i&&2===r.length?(l.push(Number(r[0])),u.push(Number(r[1])),c.push(Number(r[1]))):n?(l.push(e[0]),u.push(e[1]),c.push(e[1])):(l.push(t),null===a[t]||"null"===a[t]?u.push(null):(u.push(Number(e)),c.push(Number(e))));this.options.get("xvalues")&&(l=this.options.get("xvalues")),this.maxy=this.maxyorg=s.max.apply(s,c),this.miny=this.minyorg=s.min.apply(s,c),this.maxx=s.max.apply(s,l),this.minx=s.min.apply(s,l),this.xvalues=l,this.yvalues=u,this.yminmax=c},processRangeOptions:function(){var t=this.options,e=t.get("normalRangeMin"),i=t.get("normalRangeMax");void 0!==e&&(e<this.miny&&(this.miny=e),i>this.maxy&&(this.maxy=i)),void 0!==t.get("chartRangeMin")&&(t.get("chartRangeClip")||t.get("chartRangeMin")<this.miny)&&(this.miny=t.get("chartRangeMin")),void 0!==t.get("chartRangeMax")&&(t.get("chartRangeClip")||t.get("chartRangeMax")>this.maxy)&&(this.maxy=t.get("chartRangeMax")),void 0!==t.get("chartRangeMinX")&&(t.get("chartRangeClipX")||t.get("chartRangeMinX")<this.minx)&&(this.minx=t.get("chartRangeMinX")),void 0!==t.get("chartRangeMaxX")&&(t.get("chartRangeClipX")||t.get("chartRangeMaxX")>this.maxx)&&(this.maxx=t.get("chartRangeMaxX"))},drawNormalRange:function(t,e,i,n,r){var a=this.options.get("normalRangeMin"),o=this.options.get("normalRangeMax"),l=e+s.round(i-i*((o-this.miny)/r)),u=s.round(i*(o-a)/r);this.target.drawRect(t,l,n,u,void 0,this.options.get("normalRangeColor")).append()},render:function(){var e,i,n,r,a,o,l,u,c,h,d,f,p,g,v,_,y,w,x,C,k,S,T,A,M,E=this.options,O=this.target,D=this.canvasWidth,$=this.canvasHeight,j=this.vertices,P=E.get("spotRadius"),R=this.regionMap;if(b._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),T=this.xvalues,A=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(r=a=0,e=this.maxx-this.minx==0?1:this.maxx-this.minx,i=this.maxy-this.miny==0?1:this.maxy-this.miny,n=this.yvalues.length-1,P&&(D<4*P||$<4*P)&&(P=0),P&&(k=E.get("highlightSpotColor")&&!E.get("disableInteraction"),(k||E.get("minSpotColor")||E.get("spotColor")&&A[n]===this.miny)&&($-=s.ceil(P)),(k||E.get("maxSpotColor")||E.get("spotColor")&&A[n]===this.maxy)&&($-=s.ceil(P),r+=s.ceil(P)),(k||(E.get("minSpotColor")||E.get("maxSpotColor"))&&(A[0]===this.miny||A[0]===this.maxy))&&(a+=s.ceil(P),D-=s.ceil(P)),(k||E.get("spotColor")||E.get("minSpotColor")||E.get("maxSpotColor")&&(A[n]===this.miny||A[n]===this.maxy))&&(D-=s.ceil(P))),$--,void 0===E.get("normalRangeMin")||E.get("drawNormalOnTop")||this.drawNormalRange(a,r,$,D,i),l=[],u=[l],g=v=null,_=A.length,M=0;M<_;M++)c=T[M],d=T[M+1],h=A[M],f=a+s.round((c-this.minx)*(D/e)),p=M<_-1?a+s.round((d-this.minx)*(D/e)):D,v=f+(p-f)/2,R[M]=[g||0,v,M],g=v,null===h?M&&(null!==A[M-1]&&(l=[],u.push(l)),j.push(null)):(h<this.miny&&(h=this.miny),h>this.maxy&&(h=this.maxy),l.length||l.push([f,r+$]),o=[f,r+s.round($-$*((h-this.miny)/i))],l.push(o),j.push(o));for(y=[],w=[],x=u.length,M=0;M<x;M++)l=u[M],l.length&&(E.get("fillColor")&&(l.push([l[l.length-1][0],r+$]),w.push(l.slice(0)),l.pop()),l.length>2&&(l[0]=[l[0][0],l[1][1]]),y.push(l));for(x=w.length,M=0;M<x;M++)O.drawShape(w[M],E.get("fillColor"),E.get("fillColor")).append();for(void 0!==E.get("normalRangeMin")&&E.get("drawNormalOnTop")&&this.drawNormalRange(a,r,$,D,i),x=y.length,M=0;M<x;M++)O.drawShape(y[M],E.get("lineColor"),void 0,E.get("lineWidth")).append();if(P&&E.get("valueSpots"))for(C=E.get("valueSpots"),void 0===C.get&&(C=new m(C)),M=0;M<_;M++)(S=C.get(A[M]))&&O.drawCircle(a+s.round((T[M]-this.minx)*(D/e)),r+s.round($-$*((A[M]-this.miny)/i)),P,void 0,S).append();P&&E.get("spotColor")&&null!==A[n]&&O.drawCircle(a+s.round((T[T.length-1]-this.minx)*(D/e)),r+s.round($-$*((A[n]-this.miny)/i)),P,void 0,E.get("spotColor")).append(),this.maxy!==this.minyorg&&(P&&E.get("minSpotColor")&&(c=T[t.inArray(this.minyorg,A)],O.drawCircle(a+s.round((c-this.minx)*(D/e)),r+s.round($-$*((this.minyorg-this.miny)/i)),P,void 0,E.get("minSpotColor")).append()),P&&E.get("maxSpotColor")&&(c=T[t.inArray(this.maxyorg,A)],O.drawCircle(a+s.round((c-this.minx)*(D/e)),r+s.round($-$*((this.maxyorg-this.miny)/i)),P,void 0,E.get("maxSpotColor")).append())),this.lastShapeId=O.getLastShapeId(),this.canvasTop=r,O.render()}}}),t.fn.sparkline.bar=w=i(t.fn.sparkline._base,y,{type:"bar",init:function(e,i,n,a,o){var h,d,f,p,g,v,_,y,b,x,C,k,S,T,A,M,E,O,D,$,j,P,R=parseInt(n.get("barWidth"),10),I=parseInt(n.get("barSpacing"),10),N=n.get("chartRangeMin"),L=n.get("chartRangeMax"),z=n.get("chartRangeClip"),H=1/0,q=-1/0;for(w._super.init.call(this,e,i,n,a,o),v=0,_=i.length;v<_;v++)$=i[v],((h="string"==typeof $&&$.indexOf(":")>-1)||t.isArray($))&&(A=!0,h&&($=i[v]=u($.split(":"))),$=c($,null),d=s.min.apply(s,$),f=s.max.apply(s,$),d<H&&(H=d),f>q&&(q=f));this.stacked=A,this.regionShapes={},this.barWidth=R,this.barSpacing=I,this.totalBarWidth=R+I,this.width=a=i.length*R+(i.length-1)*I,this.initTarget(),z&&(S=void 0===N?-1/0:N,T=void 0===L?1/0:L),g=[],p=A?[]:g;var F=[],B=[];for(v=0,_=i.length;v<_;v++)if(A)for(M=i[v],i[v]=D=[],F[v]=0,p[v]=B[v]=0,E=0,O=M.length;E<O;E++)null!==($=D[E]=z?r(M[E],S,T):M[E])&&($>0&&(F[v]+=$),H<0&&q>0?$<0?B[v]+=s.abs($):p[v]+=$:p[v]+=s.abs($-($<0?q:H)),g.push($));else $=z?r(i[v],S,T):i[v],null!==($=i[v]=l($))&&g.push($);this.max=k=s.max.apply(s,g),this.min=C=s.min.apply(s,g),this.stackMax=q=A?s.max.apply(s,F):k,this.stackMin=H=A?s.min.apply(s,g):C,void 0!==n.get("chartRangeMin")&&(n.get("chartRangeClip")||n.get("chartRangeMin")<C)&&(C=n.get("chartRangeMin")),void 0!==n.get("chartRangeMax")&&(n.get("chartRangeClip")||n.get("chartRangeMax")>k)&&(k=n.get("chartRangeMax")),this.zeroAxis=b=n.get("zeroAxis",!0),x=C<=0&&k>=0&&b?0:0==b?C:C>0?C:k,this.xaxisOffset=x,y=A?s.max.apply(s,p)+s.max.apply(s,B):k-C,this.canvasHeightEf=b&&C<0?this.canvasHeight-2:this.canvasHeight-1,C<x?(P=A&&k>=0?q:k,(j=(P-x)/y*this.canvasHeight)!==s.ceil(j)&&(this.canvasHeightEf-=2,j=s.ceil(j))):j=this.canvasHeight,this.yoffset=j,t.isArray(n.get("colorMap"))?(this.colorMapByIndex=n.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=n.get("colorMap"),this.colorMapByValue&&void 0===this.colorMapByValue.get&&(this.colorMapByValue=new m(this.colorMapByValue))),this.range=y},getRegion:function(t,e,i){var n=s.floor(e/this.totalBarWidth);return n<0||n>=this.values.length?void 0:n},getCurrentRegionFields:function(){var t,e,i=this.currentRegion,n=p(this.values[i]),r=[];for(e=n.length;e--;)t=n[e],r.push({isNull:null===t,value:t,color:this.calcColor(e,t,i),offset:i});return r},calcColor:function(e,i,n){var r,a,o=this.colorMapByIndex,s=this.colorMapByValue,l=this.options;return r=this.stacked?l.get("stackedBarColor"):i<0?l.get("negBarColor"):l.get("barColor"),0===i&&void 0!==l.get("zeroColor")&&(r=l.get("zeroColor")),s&&(a=s.get(i))?r=a:o&&o.length>n&&(r=o[n]),t.isArray(r)?r[e%r.length]:r},renderRegion:function(e,i){var n,r,a,o,l,u,c,h,f,p,g=this.values[e],m=this.options,v=this.xaxisOffset,_=[],y=this.range,b=this.stacked,w=this.target,x=e*this.totalBarWidth,C=this.canvasHeightEf,k=this.yoffset;if(g=t.isArray(g)?g:[g],c=g.length,h=g[0],o=d(null,g),p=d(v,g,!0),o)return m.get("nullColor")?(a=i?m.get("nullColor"):this.calcHighlightColor(m.get("nullColor"),m),n=k>0?k-1:k,w.drawRect(x,n,this.barWidth-1,0,a,a)):void 0;for(l=k,u=0;u<c;u++){if(h=g[u],b&&h===v){if(!p||f)continue;f=!0}r=y>0?s.floor(C*(s.abs(h-v)/y))+1:1,h<v||h===v&&0===k?(n=l,l+=r):(n=k-r,k-=r),a=this.calcColor(u,h,e),i&&(a=this.calcHighlightColor(a,m)),_.push(w.drawRect(x,n,this.barWidth-1,r-1,a,a))}return 1===_.length?_[0]:_}}),t.fn.sparkline.tristate=x=i(t.fn.sparkline._base,y,{type:"tristate",init:function(e,i,n,r,a){var o=parseInt(n.get("barWidth"),10),s=parseInt(n.get("barSpacing"),10);x._super.init.call(this,e,i,n,r,a),this.regionShapes={},this.barWidth=o,this.barSpacing=s,this.totalBarWidth=o+s,this.values=t.map(i,Number),this.width=r=i.length*o+(i.length-1)*s,t.isArray(n.get("colorMap"))?(this.colorMapByIndex=n.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=n.get("colorMap"),this.colorMapByValue&&void 0===this.colorMapByValue.get&&(this.colorMapByValue=new m(this.colorMapByValue))),this.initTarget()},getRegion:function(t,e,i){return s.floor(e/this.totalBarWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:void 0===this.values[t],value:this.values[t],color:this.calcColor(this.values[t],t),offset:t}},calcColor:function(t,e){var i,n=this.values,r=this.options,a=this.colorMapByIndex,o=this.colorMapByValue;return o&&(i=o.get(t))?i:a&&a.length>e?a[e]:n[e]<0?r.get("negBarColor"):n[e]>0?r.get("posBarColor"):r.get("zeroBarColor")},renderRegion:function(t,e){var i,n,r,a,o,l,u=this.values,c=this.options,h=this.target;if(i=h.pixelHeight,r=s.round(i/2),a=t*this.totalBarWidth,u[t]<0?(o=r,n=r-1):u[t]>0?(o=0,n=r-1):(o=r-1,n=2),null!==(l=this.calcColor(u[t],t)))return e&&(l=this.calcHighlightColor(l,c)),h.drawRect(a,o,this.barWidth-1,n-1,l,l)}}),t.fn.sparkline.discrete=C=i(t.fn.sparkline._base,y,{type:"discrete",init:function(e,i,n,r,a){C._super.init.call(this,e,i,n,r,a),this.regionShapes={},this.values=i=t.map(i,Number),this.min=s.min.apply(s,i),this.max=s.max.apply(s,i),this.range=this.max-this.min,this.width=r="auto"===n.get("width")?2*i.length:this.width,this.interval=s.floor(r/i.length),this.itemWidth=r/i.length,void 0!==n.get("chartRangeMin")&&(n.get("chartRangeClip")||n.get("chartRangeMin")<this.min)&&(this.min=n.get("chartRangeMin")),void 0!==n.get("chartRangeMax")&&(n.get("chartRangeClip")||n.get("chartRangeMax")>this.max)&&(this.max=n.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===n.get("lineHeight")?s.round(.3*this.canvasHeight):n.get("lineHeight"))},getRegion:function(t,e,i){return s.floor(e/this.itemWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:void 0===this.values[t],value:this.values[t],offset:t}},renderRegion:function(t,e){var i,n,a,o,l=this.values,u=this.options,c=this.min,h=this.max,d=this.range,f=this.interval,p=this.target,g=this.canvasHeight,m=this.lineHeight,v=g-m;return n=r(l[t],c,h),o=t*f,i=s.round(v-v*((n-c)/d)),a=u.get("thresholdColor")&&n<u.get("thresholdValue")?u.get("thresholdColor"):u.get("lineColor"),e&&(a=this.calcHighlightColor(a,u)),p.drawLine(o,i,o,i+m,a)}}),t.fn.sparkline.bullet=k=i(t.fn.sparkline._base,{type:"bullet",init:function(t,e,i,n,r){var a,o,l;k._super.init.call(this,t,e,i,n,r),this.values=e=u(e),l=e.slice(),l[0]=null===l[0]?l[2]:l[0],l[1]=null===e[1]?l[2]:l[1],a=s.min.apply(s,e),o=s.max.apply(s,e),a=void 0===i.get("base")?a<0?a:0:i.get("base"),this.min=a,this.max=o,this.range=o-a,this.shapes={},this.valueShapes={},this.regiondata={},this.width=n="auto"===i.get("width")?"4.0em":n,this.target=this.$el.simpledraw(n,r,i.get("composite")),e.length||(this.disabled=!0),this.initTarget()},getRegion:function(t,e,i){var n=this.target.getShapeAt(t,e,i);return void 0!==n&&void 0!==this.shapes[n]?this.shapes[n]:void 0},getCurrentRegionFields:function(){var t=this.currentRegion;return{fieldkey:t.substr(0,1),value:this.values[t.substr(1)],region:t}},changeHighlight:function(t){var e,i=this.currentRegion,n=this.valueShapes[i];switch(delete this.shapes[n],i.substr(0,1)){case"r":e=this.renderRange(i.substr(1),t);break;case"p":e=this.renderPerformance(t);break;case"t":e=this.renderTarget(t)}this.valueShapes[i]=e.id,this.shapes[e.id]=i,this.target.replaceWithShape(n,e)},renderRange:function(t,e){var i=this.values[t],n=s.round(this.canvasWidth*((i-this.min)/this.range)),r=this.options.get("rangeColors")[t-2];return e&&(r=this.calcHighlightColor(r,this.options)),this.target.drawRect(0,0,n-1,this.canvasHeight-1,r,r)},renderPerformance:function(t){var e=this.values[1],i=s.round(this.canvasWidth*((e-this.min)/this.range)),n=this.options.get("performanceColor");return t&&(n=this.calcHighlightColor(n,this.options)),this.target.drawRect(0,s.round(.3*this.canvasHeight),i-1,s.round(.4*this.canvasHeight)-1,n,n)},renderTarget:function(t){var e=this.values[0],i=s.round(this.canvasWidth*((e-this.min)/this.range)-this.options.get("targetWidth")/2),n=s.round(.1*this.canvasHeight),r=this.canvasHeight-2*n,a=this.options.get("targetColor");return t&&(a=this.calcHighlightColor(a,this.options)),this.target.drawRect(i,n,this.options.get("targetWidth")-1,r-1,a,a)},render:function(){var t,e,i=this.values.length,n=this.target;if(k._super.render.call(this)){for(t=2;t<i;t++)e=this.renderRange(t).append(),this.shapes[e.id]="r"+t,this.valueShapes["r"+t]=e.id;null!==this.values[1]&&(e=this.renderPerformance().append(),this.shapes[e.id]="p1",this.valueShapes.p1=e.id),null!==this.values[0]&&(e=this.renderTarget().append(),this.shapes[e.id]="t0",this.valueShapes.t0=e.id),n.render()}}}),t.fn.sparkline.pie=S=i(t.fn.sparkline._base,{type:"pie",init:function(e,i,n,r,a){var o,l=0;if(S._super.init.call(this,e,i,n,r,a),this.shapes={},this.valueShapes={},this.values=i=t.map(i,Number),"auto"===n.get("width")&&(this.width=this.height),i.length>0)for(o=i.length;o--;)l+=i[o];this.total=l,this.initTarget(),this.radius=s.floor(s.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(t,e,i){var n=this.target.getShapeAt(t,e,i);return void 0!==n&&void 0!==this.shapes[n]?this.shapes[n]:void 0},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:void 0===this.values[t],value:this.values[t],percent:this.values[t]/this.total*100,color:this.options.get("sliceColors")[t%this.options.get("sliceColors").length],offset:t}},changeHighlight:function(t){var e=this.currentRegion,i=this.renderSlice(e,t),n=this.valueShapes[e];delete this.shapes[n],this.target.replaceWithShape(n,i),this.valueShapes[e]=i.id,this.shapes[i.id]=e},renderSlice:function(t,e){var i,n,r,a,o,l=this.target,u=this.options,c=this.radius,h=u.get("borderWidth"),d=u.get("offset"),f=2*s.PI,p=this.values,g=this.total,m=d?2*s.PI*(d/360):0;for(a=p.length,r=0;r<a;r++){if(i=m,n=m,g>0&&(n=m+f*(p[r]/g)),t===r)return o=u.get("sliceColors")[r%u.get("sliceColors").length],e&&(o=this.calcHighlightColor(o,u)),l.drawPieSlice(c,c,c-h,i,n,void 0,o);m=n}},render:function(){var t,e,i=this.target,n=this.values,r=this.options,a=this.radius,o=r.get("borderWidth");if(S._super.render.call(this)){for(o&&i.drawCircle(a,a,s.floor(a-o/2),r.get("borderColor"),void 0,o).append(),e=n.length;e--;)n[e]&&(t=this.renderSlice(e).append(),this.valueShapes[e]=t.id,this.shapes[t.id]=e);i.render()}}}),t.fn.sparkline.box=T=i(t.fn.sparkline._base,{type:"box",init:function(e,i,n,r,a){T._super.init.call(this,e,i,n,r,a),this.values=t.map(i,Number),this.width="auto"===n.get("width")?"4.0em":r,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var t=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return void 0!==this.loutlier&&t.push({field:"lo",value:this.loutlier}),void 0!==this.routlier&&t.push({field:"ro",value:this.routlier}),void 0!==this.lwhisker&&t.push({field:"lw",value:this.lwhisker}),void 0!==this.rwhisker&&t.push({field:"rw",value:this.rwhisker}),t},render:function(){var t,e,i,n,r,o,l,u,c,h,d,f=this.target,p=this.values,g=p.length,m=this.options,v=this.canvasWidth,_=this.canvasHeight,y=void 0===m.get("chartRangeMin")?s.min.apply(s,p):m.get("chartRangeMin"),b=void 0===m.get("chartRangeMax")?s.max.apply(s,p):m.get("chartRangeMax"),w=0;if(T._super.render.call(this)){if(m.get("raw"))m.get("showOutliers")&&p.length>5?(e=p[0],t=p[1],n=p[2],r=p[3],o=p[4],l=p[5],u=p[6]):(t=p[0],n=p[1],r=p[2],o=p[3],l=p[4]);else if(p.sort(function(t,e){return t-e}),n=a(p,1),r=a(p,2),o=a(p,3),i=o-n,m.get("showOutliers")){for(t=l=void 0,c=0;c<g;c++)void 0===t&&p[c]>n-i*m.get("outlierIQR")&&(t=p[c]),p[c]<o+i*m.get("outlierIQR")&&(l=p[c]);e=p[0],u=p[g-1]}else t=p[0],l=p[g-1];this.quartiles=[n,r,o],this.lwhisker=t,this.rwhisker=l,this.loutlier=e,this.routlier=u,d=v/(b-y+1),m.get("showOutliers")&&(w=s.ceil(m.get("spotRadius")),v-=2*s.ceil(m.get("spotRadius")),d=v/(b-y+1),e<t&&f.drawCircle((e-y)*d+w,_/2,m.get("spotRadius"),m.get("outlierLineColor"),m.get("outlierFillColor")).append(),u>l&&f.drawCircle((u-y)*d+w,_/2,m.get("spotRadius"),m.get("outlierLineColor"),m.get("outlierFillColor")).append()),f.drawRect(s.round((n-y)*d+w),s.round(.1*_),s.round((o-n)*d),s.round(.8*_),m.get("boxLineColor"),m.get("boxFillColor")).append(),f.drawLine(s.round((t-y)*d+w),s.round(_/2),s.round((n-y)*d+w),s.round(_/2),m.get("lineColor")).append(),f.drawLine(s.round((t-y)*d+w),s.round(_/4),s.round((t-y)*d+w),s.round(_-_/4),m.get("whiskerColor")).append(),f.drawLine(s.round((l-y)*d+w),s.round(_/2),s.round((o-y)*d+w),s.round(_/2),m.get("lineColor")).append(),f.drawLine(s.round((l-y)*d+w),s.round(_/4),s.round((l-y)*d+w),s.round(_-_/4),m.get("whiskerColor")).append(),f.drawLine(s.round((r-y)*d+w),s.round(.1*_),s.round((r-y)*d+w),s.round(.9*_),m.get("medianColor")).append(),m.get("target")&&(h=s.ceil(m.get("spotRadius")),f.drawLine(s.round((m.get("target")-y)*d+w),s.round(_/2-h),s.round((m.get("target")-y)*d+w),s.round(_/2+h),m.get("targetColor")).append(),f.drawLine(s.round((m.get("target")-y)*d+w-h),s.round(_/2),s.round((m.get("target")-y)*d+w+h),s.round(_/2),m.get("targetColor")).append()),f.render()}}}),E=i({init:function(t,e,i,n){this.target=t,this.id=e,this.type=i,this.args=n},append:function(){return this.target.appendShape(this),this}}),O=i({_pxregex:/(\d+)(px)?\s*$/i,init:function(e,i,n){e&&(this.width=e,this.height=i,this.target=n,this.lastShapeId=null,n[0]&&(n=n[0]),t.data(n,"_jqs_vcanvas",this))},drawLine:function(t,e,i,n,r,a){return this.drawShape([[t,e],[i,n]],r,a)},drawShape:function(t,e,i,n){return this._genShape("Shape",[t,e,i,n])},drawCircle:function(t,e,i,n,r,a){return this._genShape("Circle",[t,e,i,n,r,a])},drawPieSlice:function(t,e,i,n,r,a,o){return this._genShape("PieSlice",[t,e,i,n,r,a,o])},drawRect:function(t,e,i,n,r,a){return this._genShape("Rect",[t,e,i,n,r,a])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(e,i){t(i).html(e)},_calculatePixelDims:function(e,i,n){var r;r=this._pxregex.exec(i),this.pixelHeight=r?r[1]:t(n).height(),r=this._pxregex.exec(e),this.pixelWidth=r?r[1]:t(n).width()},_genShape:function(t,e){var i=R++;return e.unshift(i),new E(this,i,t,e)},appendShape:function(t){alert("appendShape not implemented")},replaceWithShape:function(t,e){alert("replaceWithShape not implemented")},insertAfterShape:function(t,e){alert("insertAfterShape not implemented")},removeShapeId:function(t){alert("removeShapeId not implemented")},getShapeAt:function(t,e,i){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),D=i(O,{init:function(e,i,n,r){D._super.init.call(this,e,i,n),this.canvas=o.createElement("canvas"),n[0]&&(n=n[0]),t.data(n,"_jqs_vcanvas",this),t(this.canvas).css({display:"inline-block",width:e,height:i,verticalAlign:"top"}),this._insert(this.canvas,n),this._calculatePixelDims(e,i,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=r,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=void 0,t(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(t,e,i){var n=this.canvas.getContext("2d");return void 0!==t&&(n.strokeStyle=t),n.lineWidth=void 0===i?1:i,void 0!==e&&(n.fillStyle=e),n},reset:function(){this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=void 0},_drawShape:function(t,e,i,n,r){var a,o,s=this._getContext(i,n,r);for(s.beginPath(),s.moveTo(e[0][0]+.5,e[0][1]+.5),a=1,o=e.length;a<o;a++)s.lineTo(e[a][0]+.5,e[a][1]+.5);void 0!==i&&s.stroke(),void 0!==n&&s.fill(),void 0!==this.targetX&&void 0!==this.targetY&&s.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawCircle:function(t,e,i,n,r,a,o){var l=this._getContext(r,a,o);l.beginPath(),l.arc(e,i,n,0,2*s.PI,!1),void 0!==this.targetX&&void 0!==this.targetY&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t),void 0!==r&&l.stroke(),void 0!==a&&l.fill()},_drawPieSlice:function(t,e,i,n,r,a,o,s){var l=this._getContext(o,s);l.beginPath(),l.moveTo(e,i),l.arc(e,i,n,r,a,!1),l.lineTo(e,i),l.closePath(),void 0!==o&&l.stroke(),s&&l.fill(),void 0!==this.targetX&&void 0!==this.targetY&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawRect:function(t,e,i,n,r,a,o){return this._drawShape(t,[[e,i],[e+n,i],[e+n,i+r],[e,i+r],[e,i]],a,o)},appendShape:function(t){return this.shapes[t.id]=t,this.shapeseq.push(t.id),this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var i,n=this.shapeseq;for(this.shapes[e.id]=e,i=n.length;i--;)n[i]==t&&(n[i]=e.id);delete this.shapes[t]},replaceWithShapes:function(t,e){var i,n,r,a=this.shapeseq,o={};for(n=t.length;n--;)o[t[n]]=!0;for(n=a.length;n--;)i=a[n],o[i]&&(a.splice(n,1),delete this.shapes[i],r=n);for(n=e.length;n--;)a.splice(r,0,e[n].id),this.shapes[e[n].id]=e[n]},insertAfterShape:function(t,e){var i,n=this.shapeseq;for(i=n.length;i--;)if(n[i]===t)return n.splice(i+1,0,e.id),void(this.shapes[e.id]=e)},removeShapeId:function(t){var e,i=this.shapeseq;for(e=i.length;e--;)if(i[e]===t){i.splice(e,1);break}delete this.shapes[t]},getShapeAt:function(t,e,i){return this.targetX=e,this.targetY=i,this.render(),this.currentTargetShapeId},render:function(){var t,e,i,n=this.shapeseq,r=this.shapes,a=n.length,o=this._getContext();for(o.clearRect(0,0,this.pixelWidth,this.pixelHeight),i=0;i<a;i++)t=n[i],e=r[t],this["_draw"+e.type].apply(this,e.args);this.interact||(this.shapes={},this.shapeseq=[])}}),$=i(O,{init:function(e,i,n){var r;$._super.init.call(this,e,i,n),n[0]&&(n=n[0]),t.data(n,"_jqs_vcanvas",this),this.canvas=o.createElement("span"),t(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:e,height:i,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,n),this._calculatePixelDims(e,i,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,r='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",r),this.group=t(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(t,e,i,n,r){var a,o,s,l,u,c,h=[];for(c=0,u=e.length;c<u;c++)h[c]=e[c][0]+","+e[c][1];return a=h.splice(0,1),r=void 0===r?1:r,o=void 0===i?' stroked="false" ':' strokeWeight="'+r+'px" strokeColor="'+i+'" ',s=void 0===n?' filled="false"':' fillColor="'+n+'" filled="true" ',l=h[0]===h[h.length-1]?"x ":"",'<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+o+s+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+a+" l "+h.join(", ")+" "+l+'e"> </v:shape>'},_drawCircle:function(t,e,i,n,r,a,o){var s,l;return e-=n,i-=n,s=void 0===r?' stroked="false" ':' strokeWeight="'+o+'px" strokeColor="'+r+'" ',l=void 0===a?' filled="false"':' fillColor="'+a+'" filled="true" ','<v:oval  id="jqsshape'+t+'" '+s+l+' style="position:absolute;top:'+i+"px; left:"+e+"px; width:"+2*n+"px; height:"+2*n+'px"></v:oval>'},_drawPieSlice:function(t,e,i,n,r,a,o,l){var u,c,h,d,f,p,g;if(r===a)return"";if(a-r==2*s.PI&&(r=0,a=2*s.PI),c=e+s.round(s.cos(r)*n),h=i+s.round(s.sin(r)*n),d=e+s.round(s.cos(a)*n),f=i+s.round(s.sin(a)*n),c===d&&h===f){if(a-r<s.PI)return"";c=d=e+n,h=f=i}return c===d&&h===f&&a-r<s.PI?"":(u=[e-n,i-n,e+n,i+n,c,h,d,f],p=void 0===o?' stroked="false" ':' strokeWeight="1px" strokeColor="'+o+'" ',g=void 0===l?' filled="false"':' fillColor="'+l+'" filled="true" ','<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+p+g+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+e+","+i+" wa "+u.join(", ")+' x e"> </v:shape>')},_drawRect:function(t,e,i,n,r,a,o){return this._drawShape(t,[[e,i],[e,i+r],[e+n,i+r],[e+n,i],[e,i]],a,o)},reset:function(){this.group.innerHTML=""},appendShape:function(t){var e=this["_draw"+t.type].apply(this,t.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",e):this.prerender+=e,this.lastShapeId=t.id,t.id},replaceWithShape:function(e,i){var n=t("#jqsshape"+e),r=this["_draw"+i.type].apply(this,i.args);n[0].outerHTML=r},replaceWithShapes:function(e,i){var n,r=t("#jqsshape"+e[0]),a="",o=i.length;for(n=0;n<o;n++)a+=this["_draw"+i[n].type].apply(this,i[n].args);for(r[0].outerHTML=a,n=1;n<e.length;n++)t("#jqsshape"+e[n]).remove()},insertAfterShape:function(e,i){var n=t("#jqsshape"+e),r=this["_draw"+i.type].apply(this,i.args);n[0].insertAdjacentHTML("afterEnd",r)},removeShapeId:function(e){var i=t("#jqsshape"+e);this.group.removeChild(i[0])},getShapeAt:function(t,e,i){return t.id.substr(8)},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})}(document,Math)},function(t,e,i){(function(t){!function(t){t.fn.extend({complexify:function(e,i){function n(t,e){for(var i=t.length-1;i>=0;i--)if(e[0]<=t.charCodeAt(i)&&t.charCodeAt(i)<=e[1])return e[1]-e[0]+1;return 0}function r(i){if("strict"===e.banMode){for(var n=0;n<e.bannedPasswords.length;n++)if(-1!==i.toLowerCase().indexOf(e.bannedPasswords[n].toLowerCase()))return!0;return!1}return t.inArray(i,e.bannedPasswords)>-1}function a(){var a=t(this).val(),u=0,c=!1;if(r(a))u=1;else for(var h=l.length-1;h>=0;h--)u+=n(a,l[h]);u=Math.log(Math.pow(u,a.length))*(1/e.strengthScaleFactor),c=u>o&&a.length>=e.minimumChars,u=u/s*100,u=u>100?100:u,i.call(this,c,u)}var o=49,s=120,l=[[32,32],[48,57],[65,90],[97,122],[33,47],[58,64],[91,96],[123,126],[128,255],[256,383],[384,591],[592,687],[688,767],[768,879],[880,1023],[1024,1279],[1328,1423],[1424,1535],[1536,1791],[1792,1871],[1920,1983],[2304,2431],[2432,2559],[2560,2687],[2688,2815],[2816,2943],[2944,3071],[3072,3199],[3200,3327],[3328,3455],[3456,3583],[3584,3711],[3712,3839],[3840,4095],[4096,4255],[4256,4351],[4352,4607],[4608,4991],[5024,5119],[5120,5759],[5760,5791],[5792,5887],[6016,6143],[6144,6319],[7680,7935],[7936,8191],[8192,8303],[8304,8351],[8352,8399],[8400,8447],[8448,8527],[8528,8591],[8592,8703],[8704,8959],[8960,9215],[9216,9279],[9280,9311],[9312,9471],[9472,9599],[9600,9631],[9632,9727],[9728,9983],[9984,10175],[10240,10495],[11904,12031],[12032,12255],[12272,12287],[12288,12351],[12352,12447],[12448,12543],[12544,12591],[12592,12687],[12688,12703],[12704,12735],[12800,13055],[13056,13311],[13312,19893],[19968,40959],[40960,42127],[42128,42191],[44032,55203],[55296,56191],[56192,56319],[56320,57343],[57344,63743],[63744,64255],[64256,64335],[64336,65023],[65056,65071],[65072,65103],[65104,65135],[65136,65278],[65279,65279],[65280,65519],[65520,65533]],u={minimumChars:8,strengthScaleFactor:1,bannedPasswords:window.COMPLEXIFY_BANLIST||[],banMode:"strict"};return t.isFunction(e)&&!i&&(i=e,e={}),e=t.extend(u,e),this.each(function(){t(this).val()&&a.apply(this)}),this.each(function(){t(this).bind("keyup focus input propertychange mouseup",a)})}})}(t)}).call(e,i(0))},function(t,e,i){(function(t,e){+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]}}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one(t.support.transition.end,function(){i=!0});var r=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(r,e),this},t(function(){t.support.transition=e()})}(t),function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.attr("data-target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=i.find(".active:last a")[0],a=t.Event("show.bs.tab",{relatedTarget:r});if(e.trigger(a),!a.isDefaultPrevented()){var o=t(n);this.activate(e.parent("li"),i),this.activate(o,o.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:r})})}}},e.prototype.activate=function(e,i,n){function r(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),o?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),n&&n()}var a=i.find("> .active"),o=n&&t.support.transition&&a.hasClass("fade");o?a.one(t.support.transition.end,r).emulateTransitionEnd(150):r(),a.removeClass("in")};var i=t.fn.tab;t.fn.tab=function(i){return this.each(function(){var n=t(this),r=n.data("bs.tab");r||n.data("bs.tab",r=new e(this)),"string"==typeof i&&r[i]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=i,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(t),function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:"body"},e.prototype.init=function(e,i,n){this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n);for(var r=this.options.trigger.split(" "),a=r.length;a--;){var o=r[a];if("click"==o)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=o){var s="hover"==o?"mouseenter":"focus",l="hover"==o?"mouseleave":"blur";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},e.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(i.timeout),i.hoverState="in",!i.options.delay||!i.options.delay.show)return i.show();i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)},e.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(i.timeout),i.hoverState="out",!i.options.delay||!i.options.delay.hide)return i.hide();i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var i=this.tip();this.setContent(),this.options.animation&&i.addClass("fade");var n="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,r=/\s?auto?\s?/i,a=r.test(n);a&&(n=n.replace(r,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(n),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var o=this.getPosition(),s=i[0].offsetWidth,l=i[0].offsetHeight;if(a){var u=this.$element.parent(),c=n,h=document.documentElement.scrollTop||document.body.scrollTop,d="body"==this.options.container?window.innerWidth:u.outerWidth(),f="body"==this.options.container?window.innerHeight:u.outerHeight(),p="body"==this.options.container?0:u.offset().left;n="bottom"==n&&o.top+o.height+l-h>f?"top":"top"==n&&o.top-h-l<0?"bottom":"right"==n&&o.right+s>d?"left":"left"==n&&o.left-s<p?"right":n,i.removeClass(c).addClass(n)}var g=this.getCalculatedOffset(n,o,s,l);this.applyPlacement(g,n),this.$element.trigger("shown.bs."+this.type)}},e.prototype.applyPlacement=function(t,e){var i,n=this.tip(),r=n[0].offsetWidth,a=n[0].offsetHeight,o=parseInt(n.css("margin-top"),10),s=parseInt(n.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(s)&&(s=0),t.top=t.top+o,t.left=t.left+s,n.offset(t).addClass("in");var l=n[0].offsetWidth,u=n[0].offsetHeight;if("top"==e&&u!=a&&(i=!0,t.top=t.top+a-u),/bottom|top/.test(e)){var c=0;t.left<0&&(c=-2*t.left,t.left=0,n.offset(t),l=n[0].offsetWidth,u=n[0].offsetHeight),this.replaceArrow(c-r+l,l,"left")}else this.replaceArrow(u-a,u,"top");i&&n.offset(t)},e.prototype.replaceArrow=function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){"in"!=i.hoverState&&n.detach()}var i=this,n=this.tip(),r=t.Event("hide.bs."+this.type);if(this.$element.trigger(r),!r.isDefaultPrevented())return n.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?n.one(t.support.transition.end,e).emulateTransitionEnd(150):e(),this.$element.trigger("hidden.bs."+this.type),this},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var i=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;i.tip().hasClass("in")?i.leave(i):i.enter(i)},e.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=t.fn.tooltip;t.fn.tooltip=function(i){return this.each(function(){var n=t(this),r=n.data("bs.tooltip"),a="object"==typeof i&&i;r||n.data("bs.tooltip",r=new e(this,a)),"string"==typeof i&&r[i]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(t),function(t){"use strict";function e(){t(n).remove(),t(r).each(function(e){var n=i(t(this));n.hasClass("open")&&(n.trigger(e=t.Event("hide.bs.dropdown")),e.isDefaultPrevented()||n.removeClass("open").trigger("hidden.bs.dropdown"))})}function i(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}var n=".dropdown-backdrop",r="[data-toggle=dropdown]",a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.prototype.toggle=function(n){var r=t(this);if(!r.is(".disabled, :disabled")){var a=i(r),o=a.hasClass("open");if(e(),!o){if("ontouchstart"in document.documentElement&&!a.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e),a.trigger(n=t.Event("show.bs.dropdown")),n.isDefaultPrevented())return;a.toggleClass("open").trigger("shown.bs.dropdown"),r.focus()}return!1}},a.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var n=t(this);if(e.preventDefault(),e.stopPropagation(),!n.is(".disabled, :disabled")){var a=i(n),o=a.hasClass("open");if(!o||o&&27==e.keyCode)return 27==e.which&&a.find(r).focus(),n.click();var s=t("[role=menu] li:not(.divider):visible a",a);if(s.length){var l=s.index(s.filter(":focus"));38==e.keyCode&&l>0&&l--,40==e.keyCode&&l<s.length-1&&l++,~l||(l=0),s.eq(l).focus()}}}};var o=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var i=t(this),n=i.data("dropdown");n||i.data("dropdown",n=new a(this)),"string"==typeof e&&n[e].call(i)})},t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=o,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,a.prototype.toggle).on("keydown.bs.dropdown.data-api",r+", [role=menu]",a.prototype.keydown)}(t),function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var i=t.fn.popover;t.fn.popover=function(i){return this.each(function(){var n=t(this),r=n.data("bs.popover"),a="object"==typeof i&&i;r||n.data("bs.popover",r=new e(this,a)),"string"==typeof i&&r[i]()})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(e)}).call(e,i(0),i(0))},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,i){"use strict";(function(t,e,n,r,a){function o(t){return t&&t.__esModule?t:{default:t}}function s(e,i,n){function r(t){var e=a(t),i={placeholder:"Click to select",closeOnSelect:!e.is("[MULTIPLE]"),dropdownAutoWidth:!0,containerCssClass:"select2-minwidth"};return t.select2(i)}t.fn.select2&&(void 0===e&&(e=20),void 0===i&&(i=3e3),n=n||a("select"),n.each(function(){var t=a(this).not("[multiple]"),n=t.find("option").length;n<e||n>i||t.hasClass("no-autocomplete")||r(t)}))}function l(){a("select[refresh_on_change='true']").off("change").change(function(){var t=a(this),e=t.val(),i=t.attr("refresh_on_change_values");if(i){i=i.split(",");var n=t.attr("last_selected_value");if(-1===a.inArray(e,i)&&-1===a.inArray(n,i))return}a(window).trigger("refresh_on_change"),a(document).trigger("convert_to_values"),t.get(0).form.submit()}),a(":checkbox[refresh_on_change='true']").off("click").click(function(){var t=a(this),e=t.val(),i=t.attr("refresh_on_change_values");if(i){i=i.split(",");var n=t.attr("last_selected_value");if(-1===a.inArray(e,i)&&-1===a.inArray(n,i))return}a(window).trigger("refresh_on_change"),t.get(0).form.submit()}),a("a[confirm]").off("click").click(function(){return confirm(a(this).attr("confirm"))})}var u=i(42),c=o(u),h=i(111),d=o(h),f=i(112),p=o(f),g=i(149),m=o(g),v=i(110),_=o(v),y=i(113),b=o(y),w=i(35),x=o(w),C=i(5),k=o(C);window.$=t,window._=n,window.Backbone=r,window.panels=c.default,n.extend(window,d.default),window.async_save_text=p.default,window.make_popupmenu=m.default.make_popupmenu,window.make_popup_menus=m.default.make_popup_menus,window.init_tag_click_function=_.default,window.init_refresh_on_change=l,a(document).ready(function(){function t(){void 0!==Galaxy.root?Galaxy.config.enable_webhooks&&x.default.load({type:"onload",callback:function(t){t.each(function(t){var e=t.toJSON();e.activate&&e.script&&k.default.appendScriptStyle(e)})}}):setTimeout(t,100)}l(),a.fn.tooltip&&(a(".unified-panel-header [title]").tooltip({placement:"bottom"}),a("[title]").tooltip()),m.default.make_popup_menus(),s(20,1500),a("a").click(function(){var t=a(this),e=window.parent.frames&&window.parent.frames.galaxy_main;if("galaxy_main"==t.attr("target")&&!e){var i=t.attr("href");-1==i.indexOf("?")?i+="?":i+="&",i+="use_panels=True",t.attr("href",i),t.attr("target","_self")}return t}),b.default.activeGalaxyTourRunner(),t()})}).call(e,i(0),i(0),i(1),i(2),i(0))},function(t,e,i){"use strict";(function(t){function n(e,i){var n=e.data("menu_options");e.data("menu_options",i),n||e.bind("click.show_popup",function(i){return s(".popmenu-wrapper").remove(),setTimeout(function(){var n=s("<ul class='dropdown-menu' id='"+e.attr("id")+"-menu'></ul>"),r=e.data("menu_options");t.size(r)<=0&&s("<li>No Options.</li>").appendTo(n),s.each(r,function(t,e){if(e){var i=e.action||e;n.append(s("<li></li>").append(s("<a>").attr("href",e.url).html(t).click(i)))}else n.append(s("<li></li>").addClass("head").append(s("<a href='#'></a>").html(t)))});var a=s("<div class='popmenu-wrapper' style='position: absolute;left: 0; top: -1000;'></div>").append(n).appendTo("body"),o=i.pageX-a.width()/2;o=Math.min(o,s(document).scrollLeft()+s(window).width()-s(a).width()-5),o=Math.max(o,s(document).scrollLeft()+5),a.css({top:i.pageY,left:o})},10),setTimeout(function(){var t=function(t){s(t).bind("click.close_popup",function(){s(".popmenu-wrapper").remove(),t.unbind("click.close_popup")})};t(s(window.document)),t(s(window.top.document));for(var e=window.top.frames.length;e--;){t(s(window.top.frames[e].document))}},50),!1})}function r(t){t=t||document,s(t).find("div[popupmenu]").each(function(){var e={},i=s(this);i.find("a").each(function(){var t=s(this),i=t.get(0),n=i.getAttribute("confirm"),r=i.getAttribute("href"),a=i.getAttribute("target");e[t.text()]=r?{url:r,action:function(e){if(!n||confirm(n)){if(a)return window.open(r,a),!1;t.click()}else e.preventDefault()}}:null});var r=s(t).find("#"+i.attr("popupmenu"));r.find("a").bind("click",function(t){return t.stopPropagation(),!0}),n(r,e),r.addClass("popup"),i.remove()})}Object.defineProperty(e,"__esModule",{value:!0});var a=i(0),o=function(t){return t&&t.__esModule?t:{default:t}}(a),s=o.default;e.default={make_popupmenu:n,make_popup_menus:r}}).call(e,i(1))},function(t,e){var i={__root:{"Analyze Data":!1,Workflow:!1,"Shared Data":!1,"Data Libraries":!1,Histories:!1,Workflows:!1,Visualizations:!1,Pages:!1,Visualization:!1,"New Track Browser":!1,"Saved Visualizations":!1,"Interactive Environments":!1,Admin:!1,Help:!1,Support:!1,Search:!1,"Mailing Lists":!1,Videos:!1,Wiki:!1,"How to Cite Galaxy":!1,"Interactive Tours":!1,User:!1,Login:!1,Register:!1,"Login or Register":!1,"Logged in as":!1,Preferences:!1,"Custom Builds":!1,Logout:!1,"Saved Histories":!1,"Saved Datasets":!1,"Saved Pages":!1,"Account and saved data":!1,"Account registration or login":!1,"Support, contact, and community":!1,"Administer this Galaxy":!1,"Visualize datasets":!1,"Access published resources":!1,"Chain tools into workflows":!1,"Analysis home view":!1,"History Lists":!1,"Histories Shared with Me":!1,"Current History":!1,"Create New":!1,"Copy History":!1,"Share or Publish":!1,"Show Structure":!1,"Extract Workflow":!1,"Delete Permanently":!1,"Dataset Actions":!1,"Copy Datasets":!1,"Dataset Security":!1,"Resume Paused Jobs":!1,"Collapse Expanded Datasets":!1,"Unhide Hidden Datasets":!1,"Delete Hidden Datasets":!1,"Purge Deleted Datasets":!1,Downloads:!1,"Export Tool Citations":!1,"Export History to File":!1,"Other Actions":!1,"Import from File":!1,Webhooks:!1,"This history is empty":!1,"No matching datasets found":!1,"An error occurred while getting updates from the server":!1,"Please contact a Galaxy administrator if the problem persists":!1,"search datasets":!1,"You are currently viewing a deleted history!":!1,"You are over your disk quota":!1,"Tool execution is on hold until your disk usage drops below your allocated quota":!1,All:!1,None:!1,"For all selected":!1,"Edit history tags":!1,"Edit history Annotation":!1,"Click to rename history":!1,"Operations on multiple datasets":!1,"Hide datasets":!1,"Unhide datasets":!1,"Delete datasets":!1,"Undelete datasets":!1,"Permanently delete datasets":!1,"This will permanently remove the data in your datasets. Are you sure?":!1,Dataset:!1,Annotation:!1,"This history is empty. Click 'Get Data' on the left tool menu to start":!1,"You must be logged in to create histories":!1,"Unable to purge dataset":!1,"Cannot display datasets removed from disk":!1,"This dataset must finish uploading before it can be viewed":!1,"This dataset is not yet viewable":!1,"View data":!1,Download:!1,"Download dataset":!1,"Additional files":!1,"View details":!1,"This is a new dataset and not all of its data are available yet":!1,"You do not have permission to view this dataset":!1,"The job creating this dataset was cancelled before completion":!1,"This job is waiting to run":!1,"This dataset is currently uploading":!1,"Metadata is being auto-detected":!1,"This job is currently running":!1,'This job is paused. Use the "Resume Paused Jobs" in the history menu to resume':!1,"An error occurred with this dataset":!1,"No data":!1,"An error occurred setting the metadata for this dataset":!1,"There was an error getting the data for this dataset":!1,"This dataset has been deleted and removed from disk":!1,"This dataset has been deleted":!1,"This dataset has been hidden":!1,format:!1,database:!1,"Edit attributes":!1,"Cannot edit attributes of datasets removed from disk":!1,"Undelete dataset to edit attributes":!1,"This dataset must finish uploading before it can be edited":!1,"This dataset is not yet editable":!1,Delete:!1,"Dataset is already deleted":!1,"View or report this error":!1,"Run this job again":!1,Visualize:!1,"Visualize in":!1,"Undelete it":!1,"Permanently remove it from disk":!1,"Unhide it":!1,"You may be able to":!1,"set it manually or retry auto-detection":!1,"Edit dataset tags":!1,"Edit dataset annotation":!1,"Tool Help":!1,"Reset passwords":!1,"Search Tool Shed":!1,"Monitor installing repositories":!1,"Manage installed tools":!1,"Reset metadata":!1,"Download local tool":!1,"Tool lineage":!1,"Reload a tool's configuration":!1,"Review tool migration stages":!1,"View Tool Error Logs":!1,"Manage Display Whitelist":!1,"Manage Tool Dependencies":!1,Users:!1,Groups:!1,"API keys":!1,"Impersonate a user":!1,Data:!1,Quotas:!1,Roles:!1,"Local data":!1,"Form Definitions":!1,"Enable/Disable Scratchbook":!1,"Show/Hide Scratchbook":!1,Tags:!1,"Edit annotation":!1,Subscript:!1,Superscript:!1,Trackster:!1,"Any additional comments you can provide regarding what you were doing at the time of the bug.":!1,"Your email address":!1,Report:!1,"Error Report":!1,"Dataset details":!1,"Save permissions.":!1,"Change the datatype to a new type.":!1,"Convert the datatype to a new format.":!1,"Save attributes of the dataset.":!1,"Change data type":!1,"Edit dataset attributes":!1,"Save permissions":!1,"Manage dataset permissions":!1,"Change datatype":!1,"Convert datatype":!1,"Convert to new format":!1,Save:!1,Permissions:!1,Datatypes:!1,Convert:!1,Attributes:!1,"Import into History":!1,"Location Details":!1,"Deleting selected items":!1,"Please select folders or files":!1,"Please enter paths to import":!1,"Adding datasets from your history":!1,"Create New Folder":!1,"Create New Library":!1,Tours:!1,"Click here to sign out of all sessions.":!1,"Add or remove custom builds using history datasets.":!1,"Associate OpenIDs with your account.":!1,"Customize your Toolbox by displaying or omitting sets of Tools.":!1,"Access your current API key or create a new one.":!1,"Enable or disable the communication feature to chat with other users.":!1,"Allows you to change your login credentials.":!1,"User Preferences":!1,"Sign out":!1,"Manage custom builds":!1,"Manage OpenIDs":!1,"Manage Toolbox filters":!1,"Manage API key":!1,"Set dataset permissions for new histories":!1,"Change communication settings":!1,"Change password":!1,"Manage information":!1,"Configured Galaxy Tool Sheds":!1,"Repository Installation Queue":!1,"Repository Status":!1,"Workflows Missing Tools":!1,"See in Tool Shed":!1,Requirements:!1,Share:!1,"Workflow submission failed":!1,"Run workflow":!1,"Job submission failed":!1,Execute:!1,"Tool request failed":!1,"Copy and insert individual steps":!1,Warning:!1,"An email notification will be sent when the job has completed.":!1,"Add a step label.":!1,"Assign columns":!1,"Delete this repeat block":!1,placeholder:!1,Repeat:!1,"Browse GenomeSpace":!1,Browse:!1,Error:!1,Close:!1,"Download from web or upload from disk":!1,Collection:!1,Composite:!1,Regular:!1,"Upload configuration":!1,"FTP files":!1,Reset:!1,Pause:!1,Start:!1,"Choose FTP file":!1,"Choose local file":!1,Build:!1,"Choose FTP files":!1,"Choose local files":!1,Select:!1,"Create a collection of paired datasets":!1,"View all histories":!1,"History options":!1,"Refresh history":!1,"View error logs":!1,"View migration stages":!1,"View lineage":!1,"Manage dependencies":!1,"Manage whitelist":!1,"Manage metadata":!1,"Manage tools":!1,"Monitor installation":!1,"Install new tools":!1,"Tool Management":!1,Forms:!1,"User Management":!1,"Manage jobs":!1,"Display applications":!1,"Data tables":!1,"Data types":!1,Server:!1,"Could Not Save":!1,"Saving...":!1,Settings:!1,"Add tracks":!1,"New Visualization":!1,"Add Data to Saved Visualization":!1,"Close visualization":!1,Circster:!1,Bookmarks:!1,"Add group":!1,"Remove parameter from tree":!1,"Add parameter to tree":!1,Remove:!1,"Select datasets for new tracks":!1,Libraries:!1,"Zoom out":!1,"Zoom in":!1,"Phyloviz Help":!1,"Save visualization":!1,"PhyloViz Settings":!1,Title:!1,"Filtering Dataset":!1,"Filter Dataset":!1,"Show individual tracks":!1,"Trackster Error":!1,"Tool parameter space visualization":!1,Tool:!1,"Set as overview":!1,"Set display mode":!1,Filters:!1,"Show composite track":!1,"Edit settings":!1,"Test title":!1,"Test Title":!1,"Test button":!1,title:!1,"Create new Build":!1,"Delete custom build.":!1,"Provide the data source.":!1,"Next in History":!1,"Previous in History":!1,"Chat online":!1,"Multiple collections":!1,"Dataset collections":!1,"Dataset collection":!1,"Multiple datasets":!1,"Single dataset":!1,"Download from URL or upload files from disk":!1,"tool tooltip":!1},__ja:{"Analyze Data":"データ解析",Workflow:"ワークフロー","Shared Data":"共有データ","Data Libraries":"データライブラリ",Histories:"ヒストリー",Workflows:"ワークフロー",Visualizations:"可視化",Pages:"ページ",Visualization:"可視化","New Track Browser":"新しい Track Browser","Saved Visualizations":"保存された可視化","Interactive Environments":"インタラクティブ環境",Admin:"管理者",Help:"ヘルプ",Support:"サポート",Search:"検索","Mailing Lists":"メーリングリスト",Videos:"動画","How to Cite Galaxy":"Galaxy を引用する方法","Interactive Tours":"インタラクティブツアー",User:"ユーザー",Login:"ログイン",Register:"登録","Login or Register":"ログイン/登録",Preferences:"設定","Custom Builds":"カスタムビルド",Logout:"ログアウト","Saved Histories":"保存されたヒストリ","Saved Datasets":"保存されたデータセット","Saved Pages":"保存されたページ","Account and saved data":"アカウントと保存されたデータ","Account registration or login":"アカウントの登録またはログイン","Support, contact, and community":"サポート、コンタクト、コミュニティ","Administer this Galaxy":"この Galaxy の管理者","Visualize datasets":"データセットの可視化","Access published resources":"パブリッシュされたリソースへアクセス","Chain tools into workflows":"ツールとワークフローの連携","Analysis home view":"解析ホーム","History Lists":"ヒストリーリスト","Histories Shared with Me":"私と共有されているヒストリー","Current History":"現在のヒストリー","Create New":"新しく作成","Copy History":"ヒストリーをコピーする","Share or Publish":"共有またはパブリッシュ","Show Structure":"構造を見る","Extract Workflow":"ワークフローを抽出","Delete Permanently":"永久に削除","Dataset Actions":"データセットの操作","Copy Datasets":"データセットをコピー","Dataset Security":"データセットのセキュリティ","Resume Paused Jobs":"一時停止したジョブの再開","Collapse Expanded Datasets":"展開されたデータセットを畳む","Unhide Hidden Datasets":"隠されたデータセットを表示する","Delete Hidden Datasets":"隠されたデータセットを削除する","Purge Deleted Datasets":"削除されたデータセットを永久に削除",Downloads:"ダウンロード","Export Tool Citations":"ツールの引用をエクスポート","Export History to File":"ヒストリーをファイルへエクスポート","Other Actions":"その他のアクション","Import from File":"ファイルからの読み込み",Webhooks:"Webhooks","This history is empty":"ヒストリーは空です","No matching datasets found":"一致するデータセットが見つかりませんでした","Search datasets":"データセットを検索する","You are currently viewing a deleted history!":"消去したヒストリーをみています。","You are over your disk quota":"あなたはディスククォータを超えている",All:"一式",None:"なし","For all selected":"各項目を","Edit history tags":"ヒストリーのタグを編集","Edit history annotation":"ヒストリーのアノテーションを編集","Click to rename history":"ヒストリーの名前を変更するにはクリック","Operations on multiple datasets":"複数のデータセットに対する操作","Permanently delete datasets":"永久にデータセットを削除","This will permanently remove the data in your datasets. Are you sure?":"これは永久にあなたのデータセット内のデータを削除します。本当に？",Dataset:"データセット","This history is empty. Click 'Get Data' on the left tool menu to start":"ヒストリーは空です。解析をはじめるには、左パネルの 'データ取得' をクリック","You must be logged in to create histories":"ヒストリーを作成するためにはログインする必要があります","View data":"データを表示",Download:"ダウンロード","Download dataset":"データセットをダウンロード","View details":"細部を表示","This job is waiting to run":"ジョブは実行待ちです","This job is currently running":"ジョブは実行中です","An error occurred with this dataset":"このジョブの実行中に発生したエラー","No data":"データ無し","This dataset has been deleted and removed from disk":"このデータセットは、永続的にディスクから削除されました","This dataset has been deleted":"このデータセットは削除されました","This dataset has been hidden":"このデータセットは、非表示にされた",format:"フォーマット",database:"データベース","Edit attributes":"変数を編集する",Delete:"削除する","View or report this error":"このエラーを届け出る","Run this job again":"もう一度このジョブを実行する",Visualize:"可視化する","Undelete it":"復元する","Permanently remove it from disk":"永久にディスクから削除","Unhide it":"非表示解除する","Search Tool Shed":"Tool Shed で探す","Search Tool Shed (Beta)":"Tool Shed (Beta) で探す","Monitor installing repositories":"インストールレポジトリのモニタ","Manage installed tools":"インストールしたツールの管理","Reset metadata":"メタデータのリセット","Download local tool":"ローカルツールのダウンロード","Tool lineage":"ツール系統","Reload a tool's configuration":"ツールのコンフィグのリロード","Review tool migration stages":"ツール移行ステージのレビュー","View Tool Error Logs":"ツールのエラーログ","Manage Display Whitelist":"表示ホワイトリストの管理","Manage Tool Dependencies":"ツール依存関係の管理",Users:"ユーザー",Groups:"グループ","API keys":"API キー","Impersonate a user":"ユーザー偽装",Data:"データ",Quotas:"クォータ",Roles:"ロール","Local data":"ローカルデータ","Form definitions":"フォーム定義",Administration:"管理",Server:"サーバー","Tools and Tool Shed":"ツールと Tool Shed","User Management":"ユーザ管理","Form Definitions":"フォーム定義","Your workflows":"あなたのワークフロー"},__fr:{"Analyze Data":"Analyse de données",Workflow:"Workflow","Shared Data":"Données partagées","Data Libraries":"Bibliothèque de données",Histories:!1,Workflows:!1,Visualizations:"Visualisations",Pages:"Pages",Visualization:!1,"New Track Browser":"Nouveau Navigateur de Tracks/Pistes","Saved Visualizations":"Visualisations sauvegardées","Interactive Environments":"Environnements interactifs",Admin:"Admin",Help:"Aide",Support:"Assistance",Search:!1,"Mailing Lists":"Liste de diffusion",Videos:"Vidéos",Wiki:"Documentations","How to Cite Galaxy":"Comment citer Galaxy","Interactive Tours":"Guides interactifs",User:"Utilisateur",Login:"Authentification",Register:"Enregistrement","Login or Register":"Authentification et Enregistrement","Logged in as":"Authentifié en tant que",Preferences:"Préférences","Custom Builds":"Mes génomes Builds de référence",Logout:"Déconnexion","Saved Histories":"Historiques sauvegardés","Saved Datasets":"Jeux de données sauvegardés","Saved Pages":"Pages sauvegardées","Account and saved data":"Compte et données sauvegardées","Account registration or login":"Enregistrement ou authentification","Support, contact, and community":"Support,contact et communauté","Administer this Galaxy":"Outils Admin","Visualize datasets":"Visualiser les jeux de données","Access published resources":"Accéder aux données partagées","Chain tools into workflows":"Relier outils dans un workflow","Analysis home view":"Accueil analyse de données","History Lists":"Tableaux des historiques","Histories Shared with Me":"Historiques partagés avec moi","Current History":"Cet Historique","Create New":"Créer un nouveau","Copy History":"Copier l'Historique","Share or Publish":"Partager et publier","Show Structure":"Montrer la structure","Extract Workflow":"Extraire un Workflow","Delete Permanently":"Supprimer définitivement","Dataset Actions":"Actions sur les jeux de données","Copy Datasets":"Copier des jeux de données","Dataset Security":"Permissions/Sécurité","Resume Paused Jobs":"Reprendre les processus en pause","Collapse Expanded Datasets":"Réduire les données étendues","Unhide Hidden Datasets":"Afficher les données cachées","Delete Hidden Datasets":"Supprimer les données cachées","Purge Deleted Datasets":"Purger les données supprimées",Downloads:"Télécharger","Export Tool Citations":"Exporter les citations des outils","Export History to File":"Exporter l'Historique dans un fichier","Other Actions":"Autres actions","Import from File":"Importer depuis un fichier",Webhooks:"Webhooks","This history is empty":"Cet historique est vide","No matching datasets found":"Aucunes données correspondantes n'ont été trouvées","An error occurred while getting updates from the server":"Une erreur s'est produite lors de la réception des données depuis le serveur","Please contact a Galaxy administrator if the problem persists":"Veuillez contacter un administrateur de l'instance Galaxy si ce problème persiste","search datasets":"Rechercher des données","You are currently viewing a deleted history!":"Vous consultez actuellement un historique supprimé!","You are over your disk quota":"Vous avez dépassé votre quota d'espace disque","Tool execution is on hold until your disk usage drops below your allocated quota":"L'exécution de l'outil est en attente tant que votre utilisation d'espace disque dépasse le quota attribué",All:"Tout",None:"Aucun","For all selected":"Pour toute la sélection","Edit history tags":"Editer les mots-clés de l'historique","Edit history Annotation":"Editer l'annotation de l'historique","Click to rename history":"Cliquer pour renommer l'historique","Operations on multiple datasets":"Opérer sur plusieurs jeux de données en même temps","Hide datasets":"Cacher les jeux de données","Unhide datasets":"Afficher les jeux de données cachés","Delete datasets":"Supprimer les jeux de données","Undelete datasets":"Restaurer les jeux de données supprimés","Permanently delete datasets":"Supprimer définitivement les jeux de données","This will permanently remove the data in your datasets. Are you sure?":"Cela supprimera de manière permanente les données de votre historique. Êtes-vous certain?",Dataset:"Jeu de données",Annotation:"Annotation","This history is empty. Click 'Get Data' on the left tool menu to start":"Cet historique est vide. Cliquer sur 'Get Data' au niveau du menu d'outils à gauche pour démarrer","You must be logged in to create histories":"Vous devez être connecté pour créer un historique","load your own data":"Charger vos propres données","get data from an external source":"Charger des données depuis une source externe","Include Deleted Datasets":"Inclure les jeux de données supprimés","Include Hidden Datasets":"Inclure les jeux de données cachés","Unable to purge dataset":"Impossible de purger le jeu de données","Cannot display datasets removed from disk":"Impossible de visualiser les jeux de données supprimés du disque","This dataset must finish uploading before it can be viewed":"Le jeu de données doit être totalement téléversé avant de pouvoir être visualiser","This dataset is not yet viewable":"Ce jeu de données n'est pas visualisable","View data":"Voir les données",Download:!1,"Download dataset":"Télécharger le jeu de données","Additional files":"Fichiers additionnels","View details":"Voir les détails","This is a new dataset and not all of its data are available yet":"Il s'agit d'un nouveau jeu de données et seule une partie des données est accessible pour le moment","You do not have permission to view this dataset":"Vous n'avez pas la permission de voir ce jeu de données","The job creating this dataset was cancelled before completion":"Le processus à l'origine de ce jeu de données a été annulé prématurément","This job is waiting to run":"Ce calcul est en attente de traitement","This dataset is currently uploading":"Ce jeu de données est en cours de téléversement","Metadata is being auto-detected":"Les métadonnées sont auto-détectées","This job is currently running":"Le traitement est en cours",'This job is paused. Use the "Resume Paused Jobs" in the history menu to resume':'Ce traitement est en pause. Utilisez le "Relancer les traitements en pause" dans le menu d\'historique pour le relancer',"An error occurred with this dataset":"Une erreur est survenue avec ce jeu de données","No data":"Aucune donnée","An error occurred setting the metadata for this dataset":"Une erreur est survenue pendant la récupération des métadonnées de ce jeu de données","There was an error getting the data for this dataset":"Il est survenu une erreur durant la récupération du contenu de ce jeu de données","This dataset has been deleted and removed from disk":"Ce jeu de données a été supprimé et effacé du disque","This dataset has been deleted":"Ce jeu de données a été supprimé","This dataset has been hidden":"Ce jeu de données a été caché",format:"format",database:"génome de référence","Edit attributes":"Editer les attributs","Cannot edit attributes of datasets removed from disk":"Impossible d'éditer les attributs de jeux de données effacés du disque","Undelete dataset to edit attributes":"Restaurer le jeu de données pour en éditer les attributs","This dataset must finish uploading before it can be edited":"Ce jeu de données doit être entièrement téléversé avant toute modification","This dataset is not yet editable":"Ce jeu de données n'est pas encore éditable",Delete:"Supprimer","Dataset is already deleted":"Le jeu de données est déjà supprimé","View or report this error":"Voir ou remonter cette erreur","Run this job again":"Exécuter ce traitement à nouveau",Visualize:!1,"Visualize in":"Visualiser via","Undelete it":"Restaurer","Permanently remove it from disk":"Supprimer définitivement du disque","Unhide it":"Rendre visible","You may be able to":"Vous devriez être en mesure de","set it manually or retry auto-detection":"Traitez le manuellement ou retenter la détection automatique","Edit dataset tags":"Editer les mots-clés du jeu de données","Edit dataset annotation":"Editer les annotations du jeu de données","Tool Help":"Aide outil","Reset passwords":"Réinitialiser les mots de passe","Search Tool Shed":"Chercher via un Tool Shed","Monitor installing repositories":"Contrôler les dépôts installés","Manage installed tools":"Gérer les outils installés","Reset metadata":"Réinitialiser les métadonnées","Download local tool":"Télécharger un outil en local","Tool lineage":"Affiliation des outils","Reload a tool's configuration":"Recharger une configuration d'outils","Review tool migration stages":"Vérifier les étapes de migration d'outils","View Tool Error Logs":"Voir les logs d'erreur d'outils","Manage Display Whitelist":"Gérer la liste blanche d'outils graphiques","Manage Tool Dependencies":"Gérer les dépendances d'outils",Users:!1,Groups:!1,"API keys":"Clé d'API","Impersonate a user":"Prendre la place d'un utilisateur",Data:!1,Quotas:!1,Roles:!1,"Local data":"Données locales","Form Definitions":"Définitions de formulaires","Enable/Disable Scratchbook":"Activer/Désactiver la visu Scratchbook","Show/Hide Scratchbook":"Montrer/cacher la visu Scratchbook",Tags:"Mots-clés","Edit annotation":"Editer les annotations",Subscript:!1,Superscript:!1,Trackster:!1,"Any additional comments you can provide regarding what you were doing at the time of the bug.":"N'importe quel commentaire que vous pouvez fournir concernant ce que vous faisiez lorsque le bug est apparu","Your email address":"Votre adresse e-mail",Report:!1,"Error Report":"Rapport d'erreur","Dataset details":"Détails du jeu de données","Save permissions.":"Sauvegarder les permissions","Change the datatype to a new type.":"Changer en un nouveau format de données","Convert the datatype to a new format.":"Convertir le format de données","Save attributes of the dataset.":"Sauvegarder les attributs du jeu de données","Change data type":"Changer le format de données","Edit dataset attributes":"Modifier les attributs du jeu de données","Save permissions":"Sauvegarder les permissions","Manage dataset permissions":"Gérer les permissions sur les jeux de données","Change datatype":"Changer le format de données","Convert datatype":"Convertir le format de données","Convert to new format":"Convertir en un nouveau format de données",Save:!1,Permissions:!1,Datatypes:!1,Convert:!1,Attributes:!1,"Import into History":"Importer dans l'historique","Location Details":"Détails de localisation","Deleting selected items":"Suppression des objets sélectionnés","Please select folders or files":"S'il vous plaît sélectionnez des dossiers ou fichiers","Please enter paths to import":"S'il vous plaît entrer des chemins/URLs à importer","Adding datasets from your history":"Ajouts de jeux de données à partir de votre historique","Create New Folder":"Créer un nouveau dossier","Create New Library":"Créer une nouvelle bibliothèque",Tours:!1,"Click here to sign out of all sessions.":!1,"Add or remove custom builds using history datasets.":!1,"Associate OpenIDs with your account.":!1,"Customize your Toolbox by displaying or omitting sets of Tools.":!1,"Access your current API key or create a new one.":!1,"Enable or disable the communication feature to chat with other users.":!1,"Allows you to change your login credentials.":!1,"User Preferences":!1,"Sign out":!1,"Manage custom builds":!1,"Manage OpenIDs":!1,"Manage Toolbox filters":!1,"Manage API key":!1,"Set dataset permissions for new histories":!1,"Change communication settings":!1,"Change password":!1,"Manage information":!1,"Configured Galaxy Tool Sheds":!1,"Repository Installation Queue":!1,"Repository Status":!1,"Workflows Missing Tools":!1,"See in Tool Shed":!1,Requirements:!1,Share:!1,"Workflow submission failed":!1,"Run workflow":!1,"Job submission failed":!1,Execute:!1,"Tool request failed":!1,"Copy and insert individual steps":!1,Warning:!1,"An email notification will be sent when the job has completed.":!1,"Add a step label.":!1,"Assign columns":!1,"Delete this repeat block":!1,placeholder:!1,Repeat:!1,"Browse GenomeSpace":!1,Browse:!1,Error:!1,Close:!1,"Download from web or upload from disk":!1,Collection:!1,Composite:!1,Regular:!1,"Upload configuration":!1,"FTP files":!1,Reset:!1,Pause:!1,Start:!1,"Choose FTP file":!1,"Choose local file":!1,Build:!1,"Choose FTP files":!1,"Choose local files":!1,Select:!1,"Create a collection of paired datasets":!1,"View all histories":!1,"History options":!1,"Refresh history":!1,"View error logs":!1,"View migration stages":!1,"View lineage":!1,"Manage dependencies":!1,"Manage whitelist":!1,"Manage metadata":!1,"Manage tools":!1,"Monitor installation":!1,"Install new tools":!1,"Tool Management":!1,Forms:!1,"User Management":!1,"Manage jobs":!1,"Display applications":!1,"Data tables":!1,"Data types":!1,Server:!1,"Could Not Save":!1,"Saving...":!1,Settings:!1,"Add tracks":!1,"New Visualization":!1,"Add Data to Saved Visualization":!1,"Close visualization":!1,Circster:!1,Bookmarks:!1,"Add group":!1,"Remove parameter from tree":!1,"Add parameter to tree":!1,Remove:!1,"Select datasets for new tracks":!1,Libraries:!1,"Zoom out":!1,"Zoom in":!1,"Phyloviz Help":!1,"Save visualization":!1,"PhyloViz Settings":!1,Title:!1,"Filtering Dataset":!1,"Filter Dataset":!1,"Show individual tracks":!1,"Trackster Error":!1,"Tool parameter space visualization":!1,Tool:!1,"Set as overview":!1,"Set display mode":!1,Filters:!1,"Show composite track":!1,"Edit settings":!1,"Test title":!1,"Test Title":!1,"Test button":!1,title:!1,"Create new Build":!1,"Delete custom build.":!1,"Provide the data source.":!1,"Next in History":!1,"Previous in History":!1,"Chat online":!1,"Multiple collections":!1,"Dataset collections":!1,"Dataset collection":!1,"Multiple datasets":!1,"Single dataset":!1,"Download from URL or upload files from disk":!1,"tool tooltip":!1},__zh:{"Analyze Data":"数据分析",Workflow:"流程","Shared Data":"共享的数据","Data Libraries":"数据库",Histories:"已发布的历史",Workflows:"已发布的流程",Visualizations:"已发布的可视化",Pages:"已发布的页面",Visualization:"可视化","New Track Browser":"创建 Track Browser","Saved Visualizations":"已保存的保存","Interactive Environments":"交互式环境",Admin:"管理员",Help:"帮助",Support:"支持",Search:"搜索","Mailing Lists":"邮件列表",Videos:"视频",Wiki:!1,"How to Cite Galaxy":"引用","Interactive Tours":"使用引导",User:"用户",Login:"登陆",Register:"注册","Login or Register":"登陆或注册","Logged in as":"您已登陆为",Preferences:"用户偏好性","Custom Builds":"自定义构建集",Logout:"退出","Saved Histories":"保存历史","Saved Datasets":"保存数据集","Saved Pages":"保存页面",Tools:"工具","Account and saved data":"账号及数据保存","Account registration or login":"注册与登录","Support, contact, and community":"支持，联系，社区","Administer this Galaxy":"管理您的Galaxy","Visualize datasets":"数据集可视化","Access published resources":"访问发布的资源","Chain tools into workflows":"将工具链接到工作流程中","Analysis home view":"数据分析主页",History:"历史","History Lists":"历史列表","Histories Shared with Me":"分享给您历史","Current History":"当前历史","Create New":"创建新的历史","Copy History":"复制历史","Share or Publish":"分享或发布历史","Show Structure":"展示结构","Extract Workflow":"提取为工作流",Delete:"删除","Delete Permanently":"永久删除","Dataset Actions":"数据操作","Copy Datasets":"复制数据集","Dataset Security":"数据安全","Resume Paused Jobs":"恢复已暂停的任务","Collapse Expanded Datasets":!1,"Unhide Hidden Datasets":"取消隐藏的数据集","Delete Hidden Datasets":"删除隐藏的数据集","Purge Deleted Datasets":"清空已删除的数据集",Downloads:"下载","Export Tool Citations":"导出工具文献引用","Export History to File":"导出历史到文件","Other Actions":"其他操作","Import from File":"从文件导入",Webhooks:!1,"This history is empty":"历史已空","No matching datasets found":"未找到匹配的数据集","An error occurred while getting updates from the server":"从服务器更新出现错误","Please contact a Galaxy administrator if the problem persists":"如果问题仍然存在，请联系Galaxy管理员","An error was encountered while <% where %>":"出现错误，当执行以下操作时: <% where %>","search datasets":"搜索数据集","You are currently viewing a deleted history!":"您正在查看已删除的历史记录","You are over your disk quota":"您超出了您的磁盘配额","Tool execution is on hold until your disk usage drops below your allocated quota":"工具执行处于暂停状态，直到您的磁盘使用量低于您分配的配额",All:"所有的",None:"一个也没有","For all selected":"为每个选定","Edit history tags":"编辑历史标签","Edit history Annotation":"编辑历史备注","Click to rename history":"单击要重命名的历史","Operations on multiple datasets":"编辑多个数据集","Hide datasets":"隐藏数据集","Unhide datasets":"显示数据集","Delete datasets":"删除数据集","Undelete datasets":"取消删除数据集","Permanently delete datasets":"永久删除数据集","This will permanently remove the data in your datasets. Are you sure?":"这将永久在您的数据集删除数据。你确定？",Dataset:"数据",Annotation:"备注","This history is empty. Click 'Get Data' on the left tool menu to start":"历史已空，请单击左边窗格中‘获取数据’","You must be logged in to create histories":"你必须登录后才能创建历史","You can ":"您可以 "," or ":" 或者 ","load your own data":"上传您的个人数据","get data from an external source":"从外部来源获取数据","Unable to purge dataset":"无法清除数据集","Cannot display datasets removed from disk":"无法显示已从磁盘中删除的数据集","This dataset must finish uploading before it can be viewed":"此数据集必须先完成上传, 然后才能查看","This dataset is not yet viewable":"此数据集是不可见的","View data":"查看数据",Download:"下载","Download dataset":"下载数据集","Additional files":"其他文件","View details":"查看详情","This is a new dataset and not all of its data are available yet":"这是一个新的数据集，并不是所有的数据都可用","You do not have permission to view this dataset":"您无权查看此数据集","The job creating this dataset was cancelled before completion":"创建此数据集的任务在完成之前已被取消","This job is waiting to run":"任务正在等待运行","This dataset is currently uploading":"此数据集正在上传中","Metadata is being auto-detected":"元数据正在被自动检测中","This job is currently running":"任务正在运行中",'This job is paused. Use the "Resume Paused Jobs" in the history menu to resume':'此任务已暂停。使用历史菜单中的 "恢复已暂停的工作" 来恢复',"An error occurred with this dataset":"此数据集发生错误","No data":"没有数据","An error occurred setting the metadata for this dataset":"设置此数据集的元数据时发生错误","There was an error getting the data for this dataset":"获取此数据集的数据时出错","This dataset has been deleted and removed from disk":"此数据集已被删除并从磁盘中删除","This dataset has been deleted":"此数据集已被删除","This dataset has been hidden":"此数据集已被隐藏",format:"格式",database:"数据库","Edit attributes":"编辑属性","Cannot edit attributes of datasets removed from disk":"无法编辑已从磁盘中删除的数据集的属性","Undelete dataset to edit attributes":"取消删除数据集以编辑属性","This dataset must finish uploading before it can be edited":"该数据集必须先上传完成, 然后才能编辑","This dataset is not yet editable":"该数据集不可编辑","Dataset is already deleted":"数据集已被删除","View or report this error":"查看或报告此错误","Run this job again":"重新运行此任务",Visualize:"可视化","Visualize in":"的可视化","Undelete it":"取消删除","Permanently remove it from disk":"从磁盘中永久删除","Unhide it":"取消隐藏","You may be able to":"您可能可以","set it manually or retry auto-detection":"手动设置或重试自动检测","Edit dataset tags":"编辑数据集标签","Edit dataset annotation":"编辑数据集备注","Tool Help":"工具帮助","Search Tool Shed":"搜索 Tool Shed","Monitor installing repositories":"","Manage installed tools":"管理已安装的工具","Reset metadata":"重置元数据","Download local tool":"下载本地工具","Tool lineage":!1,"Reload a tool's configuration":"重新加载工具的配置","Review tool migration stages":"查看工具迁移状态","View Tool Error Logs":"查看工具错误日志","Manage Display Whitelist":"管理显示白名单","Manage Tool Dependencies":"管理工具依赖",Users:"用户",Groups:"组别","API keys":!1,"Impersonate a user":"模拟用户",Data:"数据",Quotas:"配额",Roles:"角色","Local data":"本地数据","Form Definitions":"定义表单","Enable/Disable Scratchbook":"启用/禁用 Scratchbook","Show/Hide Scratchbook":"显示/隐藏 Scratchbook",Tags:"标签","Edit annotation":"编辑备注",ja:!0,fr:!0,zh:!0}};i.init=function(t){t||(t=window._i18n&&window._i18n.locale?window._i18n.locale:document.documentElement.lang?document.documentElement.lang:"root");var e=this["__"+t]||this.__root;if(e)for(var i in e)this[i]=e[i]},i.init(),t.exports=i},,function(t,e,i){"use strict";(function(t){function i(t){t=t||{};var e=this;return e.userId=window.bootstrapped&&window.bootstrapped.user?window.bootstrapped.user.id:null,e.userId=e.userId||t.userId||null,e.consoleLogger=t.consoleLogger||null,e._init(t),e}function n(t){var e=String(t);return"[object Object]"==e&&(e=JSON.stringify(t)),e}function r(t){return this._init(t||{})}Object.defineProperty(e,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i.ALL=0,i.LOG=0,i.DEBUG=10,i.INFO=20,i.WARN=30,i.ERROR=40,i.METRIC=50,i.NONE=100,i.defaultOptions={logLevel:i.NONE,consoleLevel:i.NONE,defaultNamespace:"Galaxy",consoleNamespaceWhitelist:null,consoleFlattenMessages:!1,clientPrefix:"client.",maxCacheSize:3e3,postSize:1e3,addTime:!0,cacheKeyPrefix:"logs-",postUrl:"/api/metrics",delayPostInMs:6e5,getPingData:void 0,onServerResponse:void 0},i.prototype._init=function(t){var e=this;e.options={};for(var n in i.defaultOptions)i.defaultOptions.hasOwnProperty(n)&&(e.options[n]=t.hasOwnProperty(n)?t[n]:i.defaultOptions[n]);return e.options.logLevel=e._parseLevel(e.options.logLevel),e.options.consoleLevel=e._parseLevel(e.options.consoleLevel),e._sending=!1,e._waiting=null,e._postSize=e.options.postSize,e._initCache(),e},i.prototype._initCache=function(){try{this.cache=new r({maxSize:this.options.maxCacheSize,key:this.options.cacheKeyPrefix+this.userId})}catch(t){this._emitToConsole("warn","MetricsLogger",["Could not intitialize logging cache:",t]),this.options.logLevel=i.NONE}},i.prototype._parseLevel=function(t){var e=void 0===t?"undefined":a(t);if("number"===e)return t;if("string"===e){var n=t.toUpperCase();if(i.hasOwnProperty(n))return i[n]}throw new Error("Unknown log level: "+t)},i.prototype.emit=function(t,e,i){var n=this;return e=e||n.options.defaultNamespace,t&&i?(t=n._parseLevel(t),t>=n.options.logLevel&&n._addToCache(t,e,i),n.consoleLogger&&t>=n.options.consoleLevel&&n._emitToConsole(t,e,i),n):n},i.prototype._addToCache=function(t,e,i){this._emitToConsole("debug","MetricsLogger",["_addToCache:",arguments,this.options.addTime,this.cache.length()]);var n=this;try{n.cache.add(n._buildEntry(t,e,i))>=n._postSize&&n._postCache()}catch(t){n._emitToConsole("warn","MetricsLogger",["Metrics logger could not stringify logArguments:",e,i]),n._emitToConsole("error","MetricsLogger",[t])}return n},i.prototype._buildEntry=function(t,e,i){this._emitToConsole("debug","MetricsLogger",["_buildEntry:",arguments]);var n={level:t,namespace:this.options.clientPrefix+e,args:i};return this.options.addTime&&(n.time=(new Date).toISOString()),n},i.prototype._postCache=function(e){if(e=e||{},this._emitToConsole("info","MetricsLogger",["_postCache",e,this._postSize]),!this.options.postUrl||this._sending)return t.when({});var i=this,n=e.count||i._postSize,r=i.cache.get(n),a=r.length,o="function"==typeof i.options.getPingData?i.options.getPingData():{};return o.metrics=JSON.stringify(r),i._sending=!0,t.post(i.options.postUrl,o).always(function(){i._sending=!1}).fail(function(t,e,n){i._postSize=i.options.maxCacheSize,i.emit("error","MetricsLogger",["_postCache error:",t.readyState,t.status,t.responseJSON||t.responseText])}).done(function(t){"function"==typeof i.options.onServerResponse&&i.options.onServerResponse(t),i.cache.remove(a),i._postSize=i.options.postSize})},i.prototype._delayPost=function(){var t=this;t._waiting=setTimeout(function(){t._waiting=null},t.options.delayPostInMs)},i.prototype._emitToConsole=function(t,e,r){var a=this,o=a.options.consoleNamespaceWhitelist;if(!a.consoleLogger)return a;if(o&&-1===o.indexOf(e))return a;var s=Array.prototype.slice.call(r,0);return s.unshift(e),a.options.consoleFlattenMessages&&(s=[s.map(n).join(" ")]),t>=i.METRIC&&"function"==typeof a.consoleLogger.info?a.consoleLogger.info.apply(a.consoleLogger,s):t>=i.ERROR&&"function"==typeof a.consoleLogger.error?a.consoleLogger.error.apply(a.consoleLogger,s):(t>=i.WARN&&"function"==typeof a.consoleLogger.warn?a.consoleLogger.warn.apply(a.consoleLogger,s):t>=i.INFO&&"function"==typeof a.consoleLogger.info?a.consoleLogger.info.apply(a.consoleLogger,s):t>=i.DEBUG&&"function"==typeof a.consoleLogger.debug?a.consoleLogger.debug.apply(a.consoleLogger,s):"function"==typeof a.consoleLogger.log&&a.consoleLogger.log.apply(a.consoleLogger,s),a)},i.prototype.log=function(){this.emit(1,this.options.defaultNamespace,Array.prototype.slice.call(arguments,0))},i.prototype.debug=function(){this.emit(i.DEBUG,this.options.defaultNamespace,Array.prototype.slice.call(arguments,0))},i.prototype.info=function(){this.emit(i.INFO,this.options.defaultNamespace,Array.prototype.slice.call(arguments,0))},i.prototype.warn=function(){this.emit(i.WARN,this.options.defaultNamespace,Array.prototype.slice.call(arguments,0))},i.prototype.error=function(){this.emit(i.ERROR,this.options.defaultNamespace,Array.prototype.slice.call(arguments,0))},i.prototype.metric=function(){this.emit(i.METRIC,this.options.defaultNamespace,Array.prototype.slice.call(arguments,0))},r.defaultOptions={maxSize:5e3},r.prototype._init=function(t){if(!this._hasStorage())throw new Error("LoggingCache needs localStorage");if(!t.key)throw new Error("LoggingCache needs key for localStorage");return this.key=t.key,this._initStorage(),this.maxSize=t.maxSize||r.defaultOptions.maxSize,this},r.prototype._hasStorage=function(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(t){return!1}},r.prototype._initStorage=function(){return null===localStorage.getItem(this.key)?this.empty():this},r.prototype.add=function(t){var e=this,i=e._fetchAndParse(),n=i.length+1-e.maxSize;return n>0&&i.splice(0,n),i.push(t),e._unparseAndStore(i),i.length},r.prototype._fetchAndParse=function(){var t=this;return JSON.parse(localStorage.getItem(t.key))},r.prototype._unparseAndStore=function(t){var e=this;return localStorage.setItem(e.key,JSON.stringify(t))},r.prototype.length=function(){return this._fetchAndParse().length},r.prototype.get=function(t){return this._fetchAndParse().slice(0,t)},r.prototype.remove=function(t){var e=this._fetchAndParse(),i=e.splice(0,t);return this._unparseAndStore(e),i},r.prototype.empty=function(){return localStorage.setItem(this.key,"[]"),this},r.prototype.stringify=function(t){return JSON.stringify(this.get(t))},r.prototype.print=function(){console.log(JSON.stringify(this._fetchAndParse(),null,"  "))},e.default={MetricsLogger:i,LoggingCache:r}}).call(e,i(0))},function(t,e,i){"use strict";(function(t,n,r,a){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(154),l=o(s),u=i(35),c=o(u),h=i(3),d=o(h),f=i(5),p=o(f),g=t.Collection.extend({model:t.Model.extend({defaults:{visible:!0,target:"_parent"}}),fetch:function(t){t=t||{},this.reset();var e=new l.default.GenericNavView;this.add(e.render()),this.add({id:"analysis",title:(0,d.default)("Analyze Data"),url:"",tooltip:(0,d.default)("Analysis home view")}),this.add({id:"workflow",title:(0,d.default)("Workflow"),tooltip:(0,d.default)("Chain tools into workflows"),disabled:!Galaxy.user.id,url:"workflows/list"}),this.add({id:"shared",title:(0,d.default)("Shared Data"),url:"library/index",tooltip:(0,d.default)("Access published resources"),menu:[{title:(0,d.default)("Data Libraries"),url:"library/list"},{title:(0,d.default)("Histories"),url:"histories/list_published"},{title:(0,d.default)("Workflows"),url:"workflows/list_published"},{title:(0,d.default)("Visualizations"),url:"visualizations/list_published"},{title:(0,d.default)("Pages"),url:"pages/list_published"}]}),this.add({id:"visualization",title:(0,d.default)("Visualization"),url:"visualizations/list",tooltip:(0,d.default)("Visualize datasets"),disabled:!Galaxy.user.id,menu:[{title:(0,d.default)("New Track Browser"),url:"visualization/trackster",target:"_frame"},{title:(0,d.default)("Saved Visualizations"),url:"visualizations/list",target:"_frame"},{title:(0,d.default)("Interactive Environments"),url:"visualization/gie_list",target:"galaxy_main"}]}),c.default.load({type:"masthead",callback:function(t){n(document).ready(function(){t.each(function(t){var e=t.toJSON();if(e.activate){var i={id:e.id,icon:e.config.icon,url:e.config.url,tooltip:e.config.tooltip,onclick:e.config.function&&new Function(e.config.function)};Galaxy.page?Galaxy.page.masthead.collection.add(i):Galaxy.masthead&&Galaxy.masthead.collection.add(i),p.default.appendScriptStyle(e)}})})}}),Galaxy.user.get("is_admin")&&this.add({id:"admin",title:(0,d.default)("Admin"),url:"admin",tooltip:(0,d.default)("Administer this Galaxy"),cls:"admin-only"});var i={id:"help",title:(0,d.default)("Help"),tooltip:(0,d.default)("Support, contact, and community"),menu:[{title:(0,d.default)("Support"),url:t.support_url,target:"_blank"},{title:(0,d.default)("Search"),url:t.search_url,target:"_blank"},{title:(0,d.default)("Mailing Lists"),url:t.mailing_lists,target:"_blank"},{title:(0,d.default)("Videos"),url:t.screencasts_url,target:"_blank"},{title:(0,d.default)("Wiki"),url:t.wiki_url,target:"_blank"},{title:(0,d.default)("How to Cite Galaxy"),url:t.citation_url,target:"_blank"},{title:(0,d.default)("Interactive Tours"),url:"tours"}]};t.terms_url&&i.menu.push({title:(0,d.default)("Terms and Conditions"),url:t.terms_url,target:"_blank"}),t.biostar_url&&i.menu.unshift({title:(0,d.default)("Ask a question"),url:"biostar/biostar_question_redirect",target:"_blank"}),t.biostar_url&&i.menu.unshift({title:(0,d.default)("Galaxy Biostar"),url:t.biostar_url_redirect,target:"_blank"}),this.add(i);var a={};a=Galaxy.user.id?{id:"user",title:(0,d.default)("User"),cls:"loggedin-only",tooltip:(0,d.default)("Account and saved data"),menu:[{title:(0,d.default)("Logged in as")+" "+Galaxy.user.get("email")},{title:(0,d.default)("Preferences"),url:"user"},{title:(0,d.default)("Custom Builds"),url:"custom_builds"},{title:(0,d.default)("Logout"),url:"user/logout?session_csrf_token="+Galaxy.session_csrf_token,target:"_top",divider:!0},{title:(0,d.default)("Saved Histories"),url:"histories/list",target:"_top"},{title:(0,d.default)("Saved Datasets"),url:"datasets/list",target:"_top"},{title:(0,d.default)("Saved Pages"),url:"pages/list",target:"_top"}]}:t.allow_user_creation?{id:"user",title:(0,d.default)("Login or Register"),cls:"loggedout-only",tooltip:(0,d.default)("Account registration or login"),menu:[{title:(0,d.default)("Login"),url:"user/login",target:"galaxy_main",noscratchbook:!0},{title:(0,d.default)("Register"),url:"user/create",target:"galaxy_main",noscratchbook:!0}]}:{id:"user",title:(0,d.default)("Login"),cls:"loggedout-only",tooltip:(0,d.default)("Login"),url:"user/login",target:"galaxy_main",noscratchbook:!0},this.add(a);var o=this.get(t.active_view);return o&&o.set("active",!0),(new r.Deferred).resolve().promise()}}),m=t.View.extend({initialize:function(t){this.model=t.model,this.setElement(this._template()),this.$dropdown=this.$(".dropdown"),this.$toggle=this.$(".dropdown-toggle"),this.$menu=this.$(".dropdown-menu"),this.$note=this.$(".dropdown-note"),this.listenTo(this.model,"change",this.render,this)},events:{"click .dropdown-toggle":"_toggleClick"},render:function(){var t=this;return n(".tooltip").remove(),this.$el.attr("id",this.model.id).css({visibility:this.model.get("visible")&&"visible"||"hidden"}),this.model.set("url",this._formatUrl(this.model.get("url"))),this.$note.html(this.model.get("note")||"").removeClass().addClass("dropdown-note").addClass(this.model.get("note_cls")).css({display:this.model.get("show_note")&&"block"||"none"}),this.$toggle.html(this.model.get("title")||"").removeClass().addClass("dropdown-toggle").addClass(this.model.get("cls")).addClass(this.model.get("icon")&&"dropdown-icon fa "+this.model.get("icon")).addClass(this.model.get("toggle")&&"toggle").attr("target",this.model.get("target")).attr("href",this.model.get("url")).attr("title",this.model.get("tooltip")).tooltip("destroy"),this.model.get("tooltip")&&this.$toggle.tooltip({placement:"bottom"}),this.$dropdown.removeClass().addClass("dropdown").addClass(this.model.get("disabled")&&"disabled").addClass(this.model.get("active")&&"active"),this.model.get("menu")&&this.model.get("show_menu")?(this.$menu.show(),n("#dd-helper").show().off().on("click",function(){n("#dd-helper").hide(),t.model.set("show_menu",!1)})):(t.$menu.hide(),n("#dd-helper").hide()),this.$menu.empty().removeClass("dropdown-menu"),this.model.get("menu")&&(a.each(this.model.get("menu"),function(e){t.$menu.append(t._buildMenuItem(e)),e.divider&&t.$menu.append(n("<li/>").addClass("divider"))}),t.$menu.addClass("dropdown-menu"),t.$toggle.append(n("<b/>").addClass("caret"))),this},_buildMenuItem:function(t){var e=this;return t=a.defaults(t||{},{title:"",url:"",target:"_parent",noscratchbook:!1}),t.url=e._formatUrl(t.url),n("<li/>").append(n("<a/>").attr("href",t.url).attr("target",t.target).html(t.title).on("click",function(i){i.preventDefault(),e.model.set("show_menu",!1),t.onclick?t.onclick():Galaxy.frame.add(t)}))},_toggleClick:function(t){var e=this,i=this.model;if(t.preventDefault(),n(".tooltip").hide(),i.trigger("dispatch",function(t){i.id!==t.id&&t.get("menu")&&t.set("show_menu",!1)}),i.get("disabled")){var r=function(t,e){return n("<div/>").append(n("<a/>").attr("href",Galaxy.root+e).html(t)).html()};this.$toggle.popover&&this.$toggle.popover("destroy"),this.$toggle.popover({html:!0,placement:"bottom",content:"Please "+r("login","user/login?use_panels=True")+" or "+r("register","user/create?use_panels=True")+" to use this feature."}).popover("show"),setTimeout(function(){e.$toggle.popover("destroy")},5e3)}else i.get("menu")?i.set("show_menu",!0):i.get("onclick")?i.get("onclick")():Galaxy.frame.add(i.attributes)},_formatUrl:function(t){return"string"==typeof t&&-1===t.indexOf("//")&&"/"!=t.charAt(0)?Galaxy.root+t:t},_template:function(){return'<ul class="nav navbar-nav"><li class="dropdown"><a class="dropdown-toggle"/><ul class="dropdown-menu"/><div class="dropdown-note"/></li></ul>'}});e.default={Collection:g,Tab:m}}).call(e,i(2),i(0),i(0),i(1))},function(t,e,i){"use strict";(function(t,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(3),o=r(a),s=i(9),l=r(s),u=t.View.extend({initialize:function(){this.modal=null},makeModalIframe:function(t){var e=window.Galaxy.config.communication_server_host,i=window.Galaxy.config.communication_server_port,r=escape(window.Galaxy.user.attributes.username),a=escape(window.Galaxy.config.persistent_communication_rooms),o="?username="+r+"&persistent_communication_rooms="+a,s=e+":"+i+o,c=null,h=null,d='<iframe class="f-iframe fade in communication-iframe" src="'+s+'"> </iframe>';return n(".chat-modal").length>0&&n(".chat-modal").remove(),u.modal=new l.default.View({body:d,height:350,width:600,closing_events:!0,title_separator:!1,cls:"ui-modal chat-modal"}),u.modal.show(),c=n(".chat-modal .modal-header"),h=n(".chat-modal .modal-body"),c.addClass("modal-header-body"),h.addClass("modal-header-body"),c.find("h4").remove(),c.removeAttr("min-height padding border"),c.append('<i class="fa fa-comment" aria-hidden="true" title="Communicate with other users"></i><i class="fa fa-expand expand-compress-modal" aria-hidden="true" title="Maximize"></i><i class="fa fa-times close-modal" aria-hidden="true" title="Close"></i>'),n(".close-modal").click(function(t){n(".chat-modal").css("display","none")}),n(".expand-compress-modal").click(function(t){n(".expand-compress-modal").hasClass("fa-expand")?(n(".chat-modal .modal-dialog").width("1000px"),n(".chat-modal .modal-body").height("575px"),n(".expand-compress-modal").removeClass("fa-expand").addClass("fa-compress"),n(".expand-compress-modal").attr("title","Minimize"),n(".expand-compress-modal").css("margin-left","96.2%")):(n(".chat-modal .modal-dialog").width("600px"),n(".chat-modal .modal-body").height("350px"),n(".expand-compress-modal").removeClass("fa-compress").addClass("fa-expand"),n(".expand-compress-modal").attr("title","Maximize"),n(".expand-compress-modal").css("margin-left","93.2%"))}),this},render:function(){var t=this;return{id:"show-chat-online",icon:"fa-comment-o",tooltip:(0,o.default)("Chat online"),visible:!1,onclick:t.makeModalIframe}}});e.default={GenericNavView:u}}).call(e,i(2),i(0))},function(t,e,i){"use strict";(function(t,n,r){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(156),s=a(o),l=i(24),u=a(l),c=i(25),h=a(c),d=i(116),f=a(d),p=i(3),g=a(p);e.default=t.View.extend({initialize:function(t){var e=this;t=t||{},this.frames=new s.default.View({visible:!1}),this.setElement(this.frames.$el),this.buttonActive=t.collection.add({id:"enable-scratchbook",icon:"fa-th",tooltip:(0,g.default)("Enable/Disable Scratchbook"),onclick:function(){e.active=!e.active,e.buttonActive.set({toggle:e.active,show_note:e.active,note_cls:e.active&&"fa fa-check"}),!e.active&&e.frames.hide()},onbeforeunload:function(){if(e.frames.length()>0)return"You opened "+e.frames.length()+" frame(s) which will be lost."}}),this.buttonLoad=t.collection.add({id:"show-scratchbook",icon:"fa-eye",tooltip:(0,g.default)("Show/Hide Scratchbook"),show_note:!0,visible:!1,onclick:function(t){e.frames.visible?e.frames.hide():e.frames.show()}}),this.frames.on("add remove",function(){this.visible&&0==this.length()&&this.hide(),e.buttonLoad.set({note:this.length(),visible:this.length()>0})}).on("show hide ",function(){e.buttonLoad.set({toggle:this.visible,icon:this.visible&&"fa-eye"||"fa-eye-slash"})}),this.history_cache={}},addDataset:function(t){var e=this,i=null;if(Galaxy&&Galaxy.currHistoryPanel){var r=Galaxy.currHistoryPanel.collection.historyId;this.history_cache[r]={name:Galaxy.currHistoryPanel.model.get("name"),dataset_ids:[]},Galaxy.currHistoryPanel.collection.each(function(t){!t.get("deleted")&&t.get("visible")&&e.history_cache[r].dataset_ids.push(t.get("id"))})}var a=function(t,i){if(t){var n=e.history_cache[t.get("history_id")];if(n&&n.dataset_ids){var r=n.dataset_ids,a=r.indexOf(t.get("id"));if(-1!==a&&a+i>=0&&a+i<r.length)return r[a+i]}}},o=function(t,n,r){var o=a(t,n);o?e._loadDataset(o,function(t,e){i=t,r.model.set(e)}):r.model.trigger("change")};this._loadDataset(t,function(t,r){i=t,e.add(n.extend({menu:[{icon:"fa fa-chevron-circle-left",tooltip:(0,g.default)("Previous in History"),onclick:function(t){o(i,-1,t)},disabled:function(){return!a(i,-1)}},{icon:"fa fa-chevron-circle-right",tooltip:(0,g.default)("Next in History"),onclick:function(t){o(i,1,t)},disabled:function(){return!a(i,1)}}]},r))})},_loadDataset:function(t,e){var i=this,a=new u.default.Dataset({id:t});r.when(a.fetch()).then(function(){var r=n.find(["tabular","interval"],function(t){return-1!==a.get("data_type").indexOf(t)}),o=a.get("name"),s=i.history_cache[a.get("history_id")];s&&(o=s.name+": "+o),e(a,r?{title:o,url:null,content:u.default.createTabularDatasetChunkedView({model:new u.default.TabularDataset(a.toJSON()),embedded:!0,height:"100%"}).$el}:{title:o,url:Galaxy.root+"datasets/"+t+"/display/?preview=True",content:null})})},addTrackster:function(t){var e=this,i=new h.default.Visualization({id:t});r.when(i.fetch()).then(function(){var t=new f.default.TracksterUI(Galaxy.root),r={title:i.get("name"),type:"other",content:function(e){var r={container:e,name:i.get("title"),id:i.id,dbkey:i.get("dbkey"),stand_alone:!1},a=i.get("latest_revision"),o=a.config.view.drawables;n.each(o,function(t){t.dataset={hda_ldda:t.hda_ldda,id:t.dataset_id}}),view=t.create_visualization(r,a.config.viewport,a.config.view.drawables,a.config.bookmarks,!1)}};e.add(r)})},add:function(t){if("_blank"==t.target)window.open(t.url);else if("_top"==t.target||"_parent"==t.target||"_self"==t.target)window.location=t.url;else if(!this.active||t.noscratchbook){var e=r(window.parent.document).find("#galaxy_main");"galaxy_main"==t.target||"center"==t.target?0===e.length?window.location=t.url+(-1==t.url.indexOf("?")?"?":"&")+"use_panels=True":e.attr("src",t.url):window.location=t.url}else this.frames.add(t)}})}).call(e,i(2),i(1),i(0))},function(t,e,i){"use strict";(function(t,n,r){Object.defineProperty(e,"__esModule",{value:!0});var a=i(3),o=function(t){return t&&t.__esModule?t:{default:t}}(a),s=t.View.extend({initialize:function(e){this.model=e&&e.model||new t.Model(e),this.setElement(n("<div/>").addClass("corner frame")),this.$el.append(n("<div/>").addClass("f-header corner").append(n("<div/>").addClass("f-title")).append(n("<div/>").addClass("f-icon f-close fa fa-close").tooltip({title:(0,o.default)("Close"),placement:"bottom"}))).append(n("<div/>").addClass("f-content")).append(n("<div/>").addClass("f-resize f-icon corner fa fa-expand").tooltip({title:"Resize"})).append(n("<div/>").addClass("f-cover")),this.$header=this.$(".f-header"),this.$title=this.$(".f-title"),this.$content=this.$(".f-content"),this.render(),this.listenTo(this.model,"change",this.render,this)},render:function(){var t=this,e=this.model.attributes;this.$title.html(e.title||""),this.$header.find(".f-icon-left").remove(),r.each(e.menu,function(e){var i=n("<div/>").addClass("f-icon-left").addClass(e.icon);r.isFunction(e.disabled)&&e.disabled()?i.attr("disabled",!0):i.on("click",function(){e.onclick(t)}).tooltip({title:e.tooltip,placement:"bottom"}),t.$header.append(i)}),e.url?this.$content.html(n("<iframe/>").addClass("f-iframe").attr("scrolling","auto").attr("src",e.url+(-1===e.url.indexOf("?")?"?":"&")+"widget=True")):e.content&&(r.isFunction(e.content)?e.content(t.$content):t.$content.html(e.content))}}),l=t.View.extend({defaultOptions:{frame:{cols:6,rows:3},rows:1e3,cell:130,margin:5,scroll:5,top_min:40,frame_max:9,visible:!0},cols:0,top:0,top_max:0,frame_z:0,frame_counter:0,frame_uid:0,frame_list:{},frame_shadow:null,visible:!1,event:{},initialize:function(e){var i=this;this.options=r.defaults(e||{},this.defaultOptions),this.visible=this.options.visible,this.top=this.top_max=this.options.top_min,this.setElement(n("<div/>").addClass("galaxy-frame").append(n("<div/>").addClass("frame-background")).append(n("<div/>").addClass("frame-menu frame-scroll-up fa fa-chevron-up fa-2x")).append(n("<div/>").addClass("frame-menu frame-scroll-down fa fa-chevron-down fa-2x"))),this.frame_shadow=new t.View({el:n("<div/>").addClass("corner frame-shadow")}),this.$el.append(this.frame_shadow.$el),this._frameInit(this.frame_shadow,"#frame-shadow"),this._frameResize(this.frame_shadow,{width:0,height:0}),this.frame_list["#frame-shadow"]=this.frame_shadow,this.visible?this.show():this.hide(),this._panelRefresh(),n(window).resize(function(){i.visible&&i._panelRefresh()})},render:function(){this.$(".frame-scroll-up")[this.top!=this.options.top_min&&"show"||"hide"](),this.$(".frame-scroll-down")[this.top!=this.top_max&&"show"||"hide"]()},add:function(t){if(this.frame_counter>=this.options.frame_max)Galaxy.modal.show({title:(0,o.default)("Warning"),body:"You have reached the maximum number of allowed frames ("+this.options.frame_max+").",buttons:{Close:function(){Galaxy.modal.hide()}}});else{var e="#frame-"+this.frame_uid++;if(0!==n(e).length)Galaxy.modal.show({title:(0,o.default)("Error"),body:"This frame already exists. This page might contain multiple frame managers.",buttons:{Close:function(){Galaxy.modal.hide()}}});else{this.top=this.options.top_min;var i=new s(t);this.$el.append(i.$el),t.width=this._toPixelCoord("width",this.options.frame.cols),t.height=this._toPixelCoord("height",this.options.frame.rows),this.frame_z=parseInt(i.$el.css("z-index")),this.frame_list[e]=i,this.frame_counter++,this._frameInit(i,e),this._frameResize(i,{width:t.width,height:t.height}),this._frameInsert(i,{top:0,left:0},!0),!this.visible&&this.show(),this.trigger("add")}}},del:function(t){var e=this,i=t.$el;i.fadeOut("fast",function(){i.remove(),delete e.frame_list[t.id],e.frame_counter--,e._panelRefresh(!0),e._panelAnimationComplete(),e.trigger("remove")})},show:function(){this.visible=!0,this.$el.fadeIn("fast"),this.trigger("show")},hide:function(){this.event.type||(this.visible=!1,this.$el.fadeOut("fast",function(){n(this).hide()}),this.trigger("hide"))},length:function(){return this.frame_counter},events:{mousemove:"_eventFrameMouseMove",mouseup:"_eventFrameMouseUp",mouseleave:"_eventFrameMouseUp",mousewheel:"_eventPanelScroll",DOMMouseScroll:"_eventPanelScroll","mousedown .frame":"_eventFrameMouseDown","mousedown .frame-background":"_eventHide","mousedown .frame-scroll-up":"_eventPanelScroll_up","mousedown .frame-scroll-down":"_eventPanelScroll_down","mousedown .f-close":"_eventFrameClose"},_eventFrameMouseDown:function(t){n(".tooltip").hide(),this.event.type||((n(t.target).hasClass("f-header")||n(t.target).hasClass("f-title"))&&(this.event.type="drag"),n(t.target).hasClass("f-resize")&&(this.event.type="resize"),this.event.type&&(t.preventDefault(),this.event.target=this._frameIdentify(t.target),this.event.xy={x:t.originalEvent.pageX,y:t.originalEvent.pageY},this._frameDragStart(this.event.target)))},_eventFrameMouseMove:function(t){if(this.event.type){var e={x:t.originalEvent.pageX,y:t.originalEvent.pageY},i={x:e.x-this.event.xy.x,y:e.y-this.event.xy.y};this.event.xy=e;var n=this._frameScreen(this.event.target);if("resize"==this.event.type){n.width+=i.x,n.height+=i.y;var r=this.options.cell-this.options.margin-1;n.width=Math.max(n.width,r),n.height=Math.max(n.height,r),this._frameResize(this.event.target,n),n.width=this._toGridCoord("width",n.width)+1,n.height=this._toGridCoord("height",n.height)+1,n.width=this._toPixelCoord("width",n.width),n.height=this._toPixelCoord("height",n.height),this._frameResize(this.frame_shadow,n),this._frameInsert(this.frame_shadow,{top:this._toGridCoord("top",n.top),left:this._toGridCoord("left",n.left)})}else if("drag"==this.event.type){n.left+=i.x,n.top+=i.y,this._frameOffset(this.event.target,n);var a={top:this._toGridCoord("top",n.top),left:this._toGridCoord("left",n.left)};0!==a.left&&a.left++,this._frameInsert(this.frame_shadow,a)}}},_eventFrameMouseUp:function(t){this.event.type&&(this._frameDragStop(this.event.target),this.event.type=null)},_eventFrameClose:function(t){this.event.type||(t.preventDefault(),this.del(this._frameIdentify(t.target)))},_eventHide:function(t){!this.event.type&&this.hide()},_eventPanelScroll:function(t){if(!this.event.type&&this.visible){0!==n(t.srcElement).parents(".frame").length?t.stopPropagation():(t.preventDefault(),this._panelScroll(t.originalEvent.detail?t.originalEvent.detail:t.originalEvent.wheelDelta/-3))}},_eventPanelScroll_up:function(t){this.event.type||(t.preventDefault(),this._panelScroll(-this.options.scroll))},_eventPanelScroll_down:function(t){this.event.type||(t.preventDefault(),this._panelScroll(this.options.scroll))},_frameIdentify:function(t){return this.frame_list["#"+n(t).closest(".frame").attr("id")]},_frameDragStart:function(t){this._frameFocus(t,!0);var e=this._frameScreen(t);this._frameResize(this.frame_shadow,e),this._frameGrid(this.frame_shadow,t.grid_location),t.grid_location=null,this.frame_shadow.$el.show(),n(".f-cover").show()},_frameDragStop:function(t){this._frameFocus(t,!1);var e=this._frameScreen(this.frame_shadow);this._frameResize(t,e),this._frameGrid(t,this.frame_shadow.grid_location,!0),this.frame_shadow.grid_location=null,this.frame_shadow.$el.hide(),n(".f-cover").hide(),this._panelAnimationComplete()},_toGridCoord:function(t,e){var i="width"==t||"height"==t?1:-1;return"top"==t&&(e-=this.top),parseInt((e+i*this.options.margin)/this.options.cell,10)},_toPixelCoord:function(t,e){var i="width"==t||"height"==t?1:-1,n=e*this.options.cell-i*this.options.margin;return"top"==t&&(n+=this.top),n},_toGrid:function(t){return{top:this._toGridCoord("top",t.top),left:this._toGridCoord("left",t.left),width:this._toGridCoord("width",t.width),height:this._toGridCoord("height",t.height)}},_toPixel:function(t){return{top:this._toPixelCoord("top",t.top),left:this._toPixelCoord("left",t.left),width:this._toPixelCoord("width",t.width),height:this._toPixelCoord("height",t.height)}},_isCollision:function(t){for(var e in this.frame_list){var i=this.frame_list[e];if(null!==i.grid_location&&function(t,e){return!(t.left>e.left+e.width-1||t.left+t.width-1<e.left||t.top>e.top+e.height-1||t.top+t.height-1<e.top)}(t,i.grid_location))return!0}return!1},_locationRank:function(t){return t.top*this.cols+t.left},_panelRefresh:function(t){this.cols=parseInt(n(window).width()/this.options.cell,10)+1,this._frameInsert(null,null,t)},_panelAnimationComplete:function(){var t=this;n(".frame").promise().done(function(){t._panelScroll(0,!0)})},_panelScroll:function(t,e){var i=this.top-this.options.scroll*t;if(i=Math.max(i,this.top_max),i=Math.min(i,this.options.top_min),this.top!=i){for(var n in this.frame_list){var r=this.frame_list[n];if(null!==r.grid_location){var a={top:r.screen_location.top-(this.top-i),left:r.screen_location.left};this._frameOffset(r,a,e)}}this.top=i}this.render()},_frameInit:function(t,e){t.id=e,t.screen_location={},t.grid_location={},t.grid_rank=null,t.$el.attr("id",e.substring(1))},_frameInsert:function(t,e,i){var a=this,o=[];t&&(t.grid_location=null,o.push([t,this._locationRank(e)])),r.each(this.frame_list,function(t){null!==t.grid_location&&(t.grid_location=null,o.push([t,t.grid_rank]))}),o.sort(function(t,e){return t[1]<e[1]?-1:t[1]>e[1]?1:0}),r.each(o,function(t){a._framePlace(t[0],i)}),this.top_max=0,r.each(this.frame_list,function(t){null!==t.grid_location&&(a.top_max=Math.max(a.top_max,t.grid_location.top+t.grid_location.height))}),this.top_max=n(window).height()-this.top_max*this.options.cell-2*this.options.margin,this.top_max=Math.min(this.top_max,this.options.top_min),this.render()},_framePlace:function(t,e){t.grid_location=null;for(var i=this._toGrid(this._frameScreen(t)),n=!1,r=0;r<this.options.rows;r++){for(var a=0;a<Math.max(1,this.cols-i.width);a++)if(i.top=r,i.left=a,!this._isCollision(i)){n=!0;break}if(n)break}n?this._frameGrid(t,i,e):console.log("Grid dimensions exceeded.")},_frameFocus:function(t,e){t.$el.css("z-index",this.frame_z+(e?1:0))},_frameOffset:function(t,e,i){if(t.screen_location.left=e.left,t.screen_location.top=e.top,i){this._frameFocus(t,!0);var n=this;t.$el.animate({top:e.top,left:e.left},"fast",function(){n._frameFocus(t,!1)})}else t.$el.css({top:e.top,left:e.left})},_frameResize:function(t,e){t.$el.css({width:e.width,height:e.height}),t.screen_location.width=e.width,t.screen_location.height=e.height},_frameGrid:function(t,e,i){t.grid_location=e,this._frameOffset(t,this._toPixel(e),i),t.grid_rank=this._locationRank(e)},_frameScreen:function(t){var e=t.screen_location;return{top:e.top,left:e.left,width:e.width,height:e.height}}});e.default={View:l}}).call(e,i(2),i(0),i(1))},function(t,e,i){"use strict";(function(t,i,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.Model.extend({defaults:{url_base:"",async:!1,async_ops:[],categorical_filters:[],filters:{},sort_key:null,show_item_checkboxes:!1,advanced_search:!1,cur_page:1,num_pages:1,operation:void 0,item_ids:void 0},add_filter:function(t,e,i){if(i){var n,r=this.attributes.filters[t];if(null===r||void 0===r)n=e;else if("string"==typeof r)if("All"==r||r==e)n=e;else{var a=[];a[0]=r,a[1]=e,n=a}else n=r,-1===n.indexOf(e)&&n.push(e);this.attributes.filters[t]=n}else this.attributes.filters[t]=e},remove_filter:function(t,e){var n=this.attributes.filters[t];if(null===n||void 0===n)return!1;if("string"==typeof n)this.attributes.filters[t]="";else{var r=i.indexOf(n,e);-1!==r&&(n[r]="")}},get_url_data:function(){var t={async:this.attributes.async,sort:this.attributes.sort_key,page:this.attributes.cur_page,show_item_checkboxes:this.attributes.show_item_checkboxes,advanced_search:this.attributes.advanced_search};this.attributes.operation&&(t.operation=this.attributes.operation),this.attributes.item_ids&&(t.id=this.attributes.item_ids);var e=this;return i.each(i.pairs(e.attributes.filters),function(e){t["f-"+e[0]]=e[1]}),t},get_url:function(t){return this.get("url_base")+"?"+n.param(this.get_url_data())+"&"+n.param(t)}})}).call(e,i(2),i(1),i(0))},function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(5),a=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default={grid:function(t){var e="";return e=t.embedded?this.grid_header(t)+this.grid_table(t):'<div class="loading-elt-overlay"></div><table><tr><td width="75%">'+this.grid_header(t)+'</td><td></td><td></td></tr><tr><td width="100%" id="grid-message" valign="top"></td><td></td><td></td></tr></table>'+this.grid_table(t),t.info_text&&(e+='<br><div class="toolParamHelp" style="clear: both;">'+t.info_text+"</div>"),e},grid_table:function(){return'\n            <form method="post" onsubmit="return false;">\n                <table id="grid-table" class="grid">\n                    <thead id="grid-table-header"></thead>\n                    <tbody id="grid-table-body"></tbody>\n                    <tfoot id="grid-table-footer"></tfoot>\n                </table>\n            </form>'},grid_header:function(t){var e='<div class="grid-header">';if(t.embedded||(e+="<h2>"+t.title+"</h2>"),t.global_actions){e+='<ul class="manage-table-actions">';var i=t.global_actions.length>=3;i&&(e+='<li><a class="action-button" id="popup-global-actions" class="menubutton">Actions</a></li><div popupmenu="popup-global-actions">');var n=!0,r=!1,a=void 0;try{for(var o,s=t.global_actions[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;e+='<li><a class="action-button use-target" target="'+l.target+'" href="'+l.url_args+'" onclick="return false;" >'+l.label+"</a></li>"}}catch(t){r=!0,a=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw a}}i&&(e+="</div>"),e+="</ul>"}return t.insert&&(e+=t.insert),e+=this.grid_filters(t),e+="</div>"},header:function(t){var e="<tr>";t.show_item_checkboxes&&(e+="<th>",t.items.length>0&&(e+='<input type="checkbox" id="check_all" name=select_all_checkbox value="true"><input type="hidden" name=select_all_checkbox value="true">'),e+="</th>");var i=!0,n=!1,r=void 0;try{for(var a,o=t.columns[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value;s.visible&&(e+='<th id="'+s.key+'-header">',s.href?e+='<a href="'+s.href+'" class="sort-link" sort_key="'+s.key+'">'+s.label+"</a>":e+=s.label,e+='<span class="sort-arrow">'+s.extra+"</span></th>")}}catch(t){n=!0,r=t}finally{try{!i&&o.return&&o.return()}finally{if(n)throw r}}return e+="</tr>"},body:function(e){var i="";0===e.items.length&&(i+='<tr><td colspan="100"><em>No Items</em></td></tr>');var n=!0,r=!1,a=void 0;try{for(var o,s=e.items[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;i+="<tr ",e.current_item_id==l.id&&(i+='class="current"'),i+=">",e.show_item_checkboxes&&(i+='<td style="width: 1.5em;"><input type="checkbox" name="id" value="'+l.encode_id+'" id="'+l.encode_id+'" class="grid-row-select-checkbox" /></td>');var u=!0,c=!1,h=void 0;try{for(var d,f=e.columns[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var p=d.value;if(p.visible){var g="";p.nowrap&&(g='style="white-space:nowrap;"');var m=l.column_config[p.label],v=m.link,_=m.value,y=m.target;"string"===t.type(_)&&(_=_.replace(/\/\//g,"/"));var b="",w="";p.attach_popup&&(b="grid-"+l.encode_id+"-popup",w="menubutton",""!==v&&(w+=" split"),w+=" popup"),i+="<td "+g+">",v?(0!==e.operations.length&&(i+='<div id="'+b+'" class="'+w+'" style="float: left;">'),i+='<a class="menubutton-label use-target" target="'+y+'" href="'+v+'" onclick="return false;">'+_+"</a>",0!==e.operations.length&&(i+="</div>")):i+='<div id="'+b+'" class="'+w+'"><label id="'+p.label_id_prefix+l.encode_id+'" for="'+l.encode_id+'">'+(_||"")+"</label></div>",i+="</td>"}}}catch(t){c=!0,h=t}finally{try{!u&&f.return&&f.return()}finally{if(c)throw h}}i+="</tr>"}}catch(t){r=!0,a=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw a}}return i},footer:function(t){var e="";if(t.use_paging&&t.num_pages>1){var i=t.num_page_links,n=t.cur_page_num,r=t.num_pages,a=i/2,o=n-a,s=0;o<=0&&(o=1,s=a-(n-o));var l,u=a+s,c=n+u;c<=r?l=0:(c=r,l=u-(c+1-n)),0!==l&&(o-=l)<1&&(o=1),e+='<tr id="page-links-row">',t.show_item_checkboxes&&(e+="<td></td>"),e+='<td colspan="100"><span id="page-link-container">Page:',o>1&&(e+='<span class="page-link" id="page-link-1"><a href="javascript:void(0);" page_num="1" onclick="return false;">1</a></span> ...');for(var h=o;h<c+1;h++)h==t.cur_page_num?e+='<span class="page-link inactive-link" id="page-link-'+h+'">'+h+"</span>":e+='<span class="page-link" id="page-link-'+h+'"><a href="javascript:void(0);" onclick="return false;" page_num="'+h+'">'+h+"</a></span>";c<r&&(e+='...<span class="page-link" id="page-link-'+r+'"><a href="javascript:void(0);" onclick="return false;" page_num="'+r+'">'+r+"</a></span>"),e+="</span>",e+='\n                    <span class="page-link" id="show-all-link-span"> | <a href="javascript:void(0);" onclick="return false;" page_num="all">Show All</a></span>\n                    </td>\n                </tr>'}if(t.show_item_checkboxes){e+='\n                <tr>\n                    <input type="hidden" id="operation" name="operation" value="">\n                    <td></td>\n                    <td colspan="100">\n                        For <span class="grid-selected-count"></span> selected items: \n            ';var d=!0,f=!1,p=void 0;try{for(var g,m=t.operations[Symbol.iterator]();!(d=(g=m.next()).done);d=!0){var v=g.value;v.allow_multiple&&(e+='<input type="button" value="'+v.label+'" class="operation-button action-button">&nbsp;')}}catch(t){f=!0,p=t}finally{try{!d&&m.return&&m.return()}finally{if(f)throw p}}e+="</td></tr>"}var _=!1,y=!0,b=!1,w=void 0;try{for(var x,C=t.operations[Symbol.iterator]();!(y=(x=C.next()).done);y=!0){if(x.value.global_operation){_=!0;break}}}catch(t){b=!0,w=t}finally{try{!y&&C.return&&C.return()}finally{if(b)throw w}}if(_){e+='<tr><td colspan="100">';var k=!0,S=!1,T=void 0;try{for(var A,M=t.operations[Symbol.iterator]();!(k=(A=M.next()).done);k=!0){var E=A.value;E.global_operation&&(e+='<a class="action-button" href="'+E.global_operation+'">'+E.label+"</a>")}}catch(t){S=!0,T=t}finally{try{!k&&M.return&&M.return()}finally{if(S)throw T}}e+="</td></tr>"}return t.legend&&(e+='<tr><td colspan="100">'+t.legend+"</td></tr>"),e},message:function(t){var e=t.status;return-1!=["success","ok"].indexOf(e)&&(e="done"),'<p><div class="'+e+'message transient-message">'+n.escape(t.message)+'</div><div style="clear: both"></div></p>'},grid_filters:function(t){var e=t.default_filter_dict,i=t.filters,n="none";t.advanced_search&&(n="block");var r=!1,a=!0,o=!1,s=void 0;try{for(var l,u=t.columns[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value;if("advanced"==c.filterable){var h=c.key,d=i[h],f=e[h];d&&f&&d!=f&&(n="block"),r=!0}}}catch(t){o=!0,s=t}finally{try{!a&&u.return&&u.return()}finally{if(o)throw s}}var p="block";"block"==n&&(p="none");var g='<div id="standard-search" style="display: '+p+';"><table><tr><td style="padding: 0;"><table>',m=!0,v=!1,_=void 0;try{for(var y,b=t.columns[Symbol.iterator]();!(m=(y=b.next()).done);m=!0){var w=y.value;"standard"==w.filterable&&(g+=this.grid_column_filter(t,w))}}catch(t){v=!0,_=t}finally{try{!m&&b.return&&b.return()}finally{if(v)throw _}}g+="</table></td></tr><tr><td>",r&&(g+='<a href="" class="advanced-search-toggle">Advanced Search</a>'),g+="</td></tr></table></div>",g+='<div id="advanced-search" style="display: '+n+'; margin-top: 5px; border: 1px solid #ccc;"><table><tr><td style="text-align: left" colspan="100"><a href="" class="advanced-search-toggle">Close Advanced Search</a></td></tr>';var x=!0,C=!1,k=void 0;try{for(var S,T=t.columns[Symbol.iterator]();!(x=(S=T.next()).done);x=!0){var A=S.value;"advanced"==A.filterable&&(g+=this.grid_column_filter(t,A))}}catch(t){C=!0,k=t}finally{try{!x&&T.return&&T.return()}finally{if(C)throw k}}return g+="</table></div>"},grid_column_filter:function(e,i){var n=e.filters,r=i.label,a=i.key;"advanced"==i.filterable&&(r=r.toLowerCase());var o="<tr>";if("advanced"==i.filterable&&(o+='<td align="left" style="padding-left: 10px">'+r+":</td>"),o+='<td style="padding-bottom: 1px;">',i.is_text){o+='<form class="text-filter-form" column_key="'+a+'" action="'+e.url+'" method="get" >';var s=!0,l=!1,u=void 0;try{for(var c,h=e.columns[Symbol.iterator]();!(s=(c=h.next()).done);s=!0){var d=c.value,f=n[d.key];f&&"All"!=f&&(d.is_text&&(f=JSON.stringify(f)),o+='<input type="hidden" id="'+d.key+'" name="f-'+d.key+'" value="'+f+'"/>')}}catch(t){l=!0,u=t}finally{try{!s&&h.return&&h.return()}finally{if(l)throw u}}o+='<span id="'+a+'-filtering-criteria">';var p=n[a];if(p){var g=t.type(p);if("string"==g&&"All"!=p&&(o+=this.filter_element(a,p)),"array"==g)for(var m in p){var v=p;v=v.slice(m),o+=this.filter_element(a,p[m])}}o+="</span>";var _="",y=20;"standard"==i.filterable&&(_=i.label.toLowerCase(),_.length<20&&(y=_.length),y+=4),o+='\n                <span class="search-box">\n                    <input class="search-box-input" id="input-'+a+'-filter" name="f-'+a+'" type="text" placeholder="'+_+'" size="'+y+'"/>\n                    <button type="submit" style="background: transparent; border: none; padding: 4px; margin: 0px;">\n                        <i class="fa fa-search"></i>\n                    </button>\n                </span>\n            </form>'}else{o+='<span id="'+a+'-filtering-criteria">';var b=!1;for(var w in e.categorical_filters[a]){var x=e.categorical_filters[a][w],C="",k="";for(var S in x)C=S,k=x[S];b&&(o+=" | "),b=!0;var T=n[a];T&&x[a]&&T==k?o+='<span class="categorical-filter '+a+'-filter current-filter">'+w+"</span>":o+='<span class="categorical-filter '+a+'-filter"><a href="javascript:void(0);" filter_key="'+C+'" filter_val="'+k+'">'+w+"</a></span>"}o+="</span>"}return o+="</td></tr>"},filter_element:function(t,e){return'<span class="text-filter-val">'+(e=a.default.sanitize(e))+'<a href="javascript:void(0);" filter_key="'+t+'" filter_val="'+e+'"><i class="fa fa-times" style="padding-left: 5px; padding-bottom: 6px;"/></a></span>'}}}).call(e,i(0),i(1))},function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(5),a=function(t){return t&&t.__esModule?t:{default:t}}(r),o=t.View.extend({initialize:function(e){var i=this;this.model=e&&e.model||new t.Model({id:a.default.uid(),min:null,max:null,step:null,precise:!1,split:1e4,value:null,onchange:function(){}}).set(e),this.setElement(this._template()),this.$el.attr("id",this.model.id),this.$text=this.$(".ui-form-slider-text"),this.$slider=this.$(".ui-form-slider-element");var r=[];this.$text.on("change",function(){i.value(n(this).val())}).on("keyup",function(t){r[t.which]=!1}).on("keydown",function(t){var e=t.which;r[e]=!0,i.model.get("is_workflow")&&r[16]&&52==e?(i.value("$"),event.preventDefault()):8==e||9==e||13==e||37==e||39==e||e>=48&&e<=57&&!r[16]||e>=96&&e<=105||(190==e||110==e)&&-1==n(this).val().indexOf(".")&&i.model.get("precise")||(189==e||109==e)&&-1==n(this).val().indexOf("-")||i._isParameter(n(this).val())||r[91]||r[17]||event.preventDefault()});var o=this.model.attributes;this.has_slider=null!==o.max&&null!==o.min&&o.max>o.min;var s=o.step;s||(s=o.precise&&this.has_slider?(o.max-o.min)/o.split:1),this.has_slider?(this.$text.addClass("ui-form-slider-left"),this.$slider.slider({min:o.min,max:o.max,step:s}).on("slide",function(t,e){i.value(e.value)})):this.$slider.hide(),this.listenTo(this.model,"change",this.render,this),this.render()},render:function(){var t=this.model.get("value");this.has_slider&&this.$slider.slider("value",t),t!==this.$text.val()&&this.$text.val(t)},value:function(t){var e=this.model.attributes;return void 0!==t&&(null===t||""===t||this._isParameter(t)||(isNaN(t)&&(t=0),!e.precise&&(t=Math.round(t)),null!==e.max&&(t=Math.min(t,e.max)),null!==e.min&&(t=Math.max(t,e.min))),this.model.set("value",t),this.model.trigger("change"),e.onchange(t)),this.model.get("value")},_isParameter:function(t){return this.model.get("is_workflow")&&"$"===String(t).substring(0,1)},_template:function(){return'<div class="ui-form-slider"><input class="ui-form-slider-text" type="text"/><div class="ui-form-slider-element"/></div>'}});e.default={View:o}}).call(e,i(2),i(0))},function(t,e,i){"use strict";(function(t,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(5),o=r(a),s=i(115),l=r(s),u=l.default.BaseIcons.extend({initialize:function(t){t.type=t.display||"checkbox",t.multiple="checkbox"==t.type,l.default.BaseIcons.prototype.initialize.call(this,t)},_setValue:function(e){if(l.default.BaseIcons.prototype._setValue.call(this,e),void 0!==e&&null!==e&&this.header_index){var i=this,r=t.isArray(e)?e:[e];n.each(r,function(t){var e=i.header_index[t];n.each(e,function(t){i._setState(t,!0)})})}},_setState:function(t,e){var i=this.$(".button-"+t),n=this.$(".subgroup-"+t);i.data("is_expanded",e),e?(n.show(),i.removeClass("fa-plus-square").addClass("fa-minus-square")):(n.hide(),i.removeClass("fa-minus-square").addClass("fa-plus-square"))},_templateOptions:function(){function e(t,e){var i=t.find(".button-"+e);i.on("click",function(){n._setState(e,!i.data("is_expanded"))})}function i(r,a,s){s=s||[];for(var l in a){var u=a[l],c=u.options&&u.options.length>0,h=s.slice(0);n.header_index[u.value]=h.slice(0);var d=t("<div/>");if(c){var f=o.default.uid(),p=t("<span/>").addClass("button-"+f).addClass("ui-drilldown-button fa fa-plus-square"),g=t("<div/>").addClass("subgroup-"+f).addClass("ui-drilldown-subgroup");d.append(t("<div/>").append(p).append(n._templateOption({label:u.name,value:u.value}))),h.push(f),i(g,u.options,h),d.append(g),e(d,f)}else d.append(n._templateOption({label:u.name,value:u.value}));r.append(d)}}var n=this;this.header_index={};var r=t("<div/>");return i(r,this.model.get("data")),r},_template:function(){return t("<div/>").addClass("ui-options-list drilldown-container").attr("id",this.model.id)}});e.default={View:u}}).call(e,i(0),i(1))},function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(r),o=t.View.extend({className:"track-header",initialize:function(){this.model.config.get("name").on("change:value",this.update_name,this),this.render()},render:function(){this.$el.append(n("<div/>").addClass(this.model.drag_handle_class)),this.$el.append(n("<div/>").addClass("track-name").text(this.model.config.get_value("name"))),this.action_icons={},this.render_action_icons(),this.$el.dblclick(function(t){t.stopPropagation()}),this.$el.append(n("<div style='clear: both'/>"))},update_name:function(){this.$el.find(".track-name").text(this.model.config.get_value("name"))},render_action_icons:function(){var t=this;this.icons_div=n("<div/>").addClass("track-icons").hide().appendTo(this.$el),a.each(this.model.action_icons_def,function(e){t.add_action_icon(e.name,e.title,e.css_class,e.on_click_fn,e.prepend,e.hide)}),this.set_display_modes(this.model.display_modes)},add_action_icon:function(t,e,i,r,a,o){var s=this;this.action_icons[t]=n("<a/>").attr("title",e).addClass("icon-button").addClass(i).tooltip().click(function(){r(s.model)}).appendTo(this.icons_div),o&&this.action_icons[t].hide()},set_display_modes:function(t,e){if(t){this.model.display_modes=t,this.model.mode=e||this.model.config.get_value("mode")||this.model.display_modes[0],this.action_icons.mode_icon.attr("title","Set display mode (now: "+this.mode+")");for(var i=this.model,n={},r=0,a=i.display_modes.length;r<a;r++){var o=i.display_modes[r];n[o]=function(t){return function(){i.change_mode(t)}}(o)}make_popupmenu(this.action_icons.mode_icon,n)}}});e.default={TrackHeaderView:o}}).call(e,i(2),i(0))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(n),a=r.extend,o=function(t,e){this.slot=t,this.feature=e},s=function(t,e,i,n){this.slots={},this.start_end_dct={},this.w_scale=t,this.mode=e,this.include_label="Pack"===e,this.max_rows=i,this.measureText=n};a(s.prototype,{_get_draw_coords:function(t){var e=Math.floor(t[1]*this.w_scale),i=Math.ceil(t[2]*this.w_scale),n=t[3];if(void 0!==n&&this.include_label){var r=this.measureText(n).width+7;e-r>=0?(e-=r,"left"):(i+=r,"right")}return[e,i]},_find_slot:function(t){for(var e=t[0],i=t[1],n=0;n<=this.max_rows;n++){var r=!1,a=this.start_end_dct[n];if(void 0!==a)for(var o=0,s=a.length;o<s;o++){var l=a[o];if(i>l[0]&&e<l[1]){r=!0;break}}if(!r)return n}return-1},slot_features:function(t){for(var e,i,n=this.start_end_dct,r=[],a=0,s=0,l=t.length;s<l;s++){e=t[s],i=e[0];var u=this.slots[i];if(u){if(e[1]<u.feature[1]||u.feature[2]<e[2])for(var c=this._get_draw_coords(u.feature),h=this._get_draw_coords(e),d=this.start_end_dct[u.slot],f=0;f<d.length;f++){var p=d[f];p[0]===c[0]&&p[1]===c[1]&&(d[f]=h)}a=Math.max(a,this.slots[i].slot)}else r.push(s)}for(var s=0,l=r.length;s<l;s++){e=t[r[s]],i=e[0];var g=this._get_draw_coords(e),m=this._find_slot(g);m>=0&&(void 0===n[m]&&(n[m]=[]),n[m].push(g),this.slots[i]=new o(m,e),a=Math.max(a,m))}return a+1}}),e.default={FeatureSlotter:s}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(n),a=function(t,e){var i=t[0],n=t[1],r=e[0],a=e[1];return i<r?n<=r?1001:n<=a?1003:1002:i>a?1006:n<=a?1005:1004},o=function(t,e){var i=a(t,e);return 1001!==i&&1006!==i},s=function(t,e,i,n,r,a){void 0===a&&(a=4);var o,s=n-e,l=r-i,u=Math.floor(Math.sqrt(s*s+l*l)/a),c=s/u,h=l/u;for(o=0;o<u;o++,e+=c,i+=h)o%2==0&&t.fillRect(e,i,a,1)},l=function(t,e,i,n){var r=e-n/2,a=e+n/2,o=i-Math.sqrt(3*n/2);t.beginPath(),t.moveTo(r,o),t.lineTo(a,o),t.lineTo(e,i),t.lineTo(r,o),t.strokeStyle=this.fillStyle,t.fill(),t.stroke(),t.closePath()},u=function(t){this.default_val=t||1};u.prototype.gen_val=function(t){return this.default_val};var c=function(t){this.incomplete_features=t.incomplete_features,this.feature_mapper=t.feature_mapper},h=function(t,e,i,n,a){this.data=t,this.view_start=e,this.view_end=i,this.prefs=r.extend({},this.default_prefs,n),this.mode=a};h.prototype.default_prefs={},h.prototype.draw=function(t,e,i,n){},h.prototype.get_start_draw_pos=function(t,e){return this._chrom_pos_to_draw_pos(t,e,-.5)},h.prototype.get_end_draw_pos=function(t,e){return this._chrom_pos_to_draw_pos(t,e,.5)},h.prototype.get_draw_pos=function(t,e){return this._chrom_pos_to_draw_pos(t,e,0)},h.prototype._chrom_pos_to_draw_pos=function(t,e,i){return Math.floor(e*(Math.max(0,t-this.view_start)+i))};var d=function(t,e,i,n,r){h.call(this,t,e,i,n,r)};d.prototype.default_prefs={min_value:void 0,max_value:void 0,mode:"Histogram",color:"#000",overflow_color:"#F66"},d.prototype.draw=function(t,e,i,n){var a=!1,o=this.prefs.min_value,s=this.prefs.max_value,l=s-o,u=i,c=this.view_start,h=this.mode,d=this.data;t.save();var f=Math.round(i+o/l*i);"Intensity"!==h&&(t.fillStyle="#aaa",t.fillRect(0,f,e,1)),t.beginPath();var p,g,m;m=d.length>1?r.map(d.slice(0,-1),function(t,e){return Math.ceil((d[e+1][0]-d[e][0])*n)}):[10];for(var v,_=this.prefs.block_color||this.prefs.color,y=parseInt(_.slice(1),16),b=(16711680&y)>>16,w=(65280&y)>>8,x=255&y,C=!1,k=!1,S=0,T=d.length;S<T;S++)if(t.fillStyle=t.strokeStyle=_,C=k=!1,v=m[S],p=Math.floor((d[S][0]-c-.5)*n),null!==(g=d[S][1])){if(g<o?(k=!0,g=o):g>s&&(C=!0,g=s),"Histogram"===h)g=Math.round(g/l*u),t.fillRect(p,f,v,-g);else if("Intensity"===h){var A=(g-o)/l,M=Math.round(b+(255-b)*(1-A)),E=Math.round(w+(255-w)*(1-A)),O=Math.round(x+(255-x)*(1-A));t.fillStyle="rgb("+M+","+E+","+O+")",t.fillRect(p,0,v,u)}else g=Math.round(u-(g-o)/l*u),a?t.lineTo(p,g):(a=!0,"Filled"===h?(t.moveTo(p,u),t.lineTo(p,g)):t.moveTo(p,g));if(t.fillStyle=this.prefs.overflow_color,C||k){var D;"Histogram"===h||"Intensity"===h?D=v:(p-=2,D=4),C&&t.fillRect(p,0,D,3),k&&t.fillRect(p,u-3,D,3)}t.fillStyle=_}else a&&"Filled"===h&&t.lineTo(p,u),a=!1;"Filled"===h?(a&&(t.lineTo(p,f),t.lineTo(0,f)),t.fill()):t.stroke(),t.restore()};var f=function(t){this.feature_positions={},this.slot_height=t,this.translation=0,this.y_translation=0};f.prototype.map_feature_data=function(t,e,i,n){this.feature_positions[e]||(this.feature_positions[e]=[]),this.feature_positions[e].push({data:t,x_start:i,x_end:n})},f.prototype.get_feature_data=function(t,e){var i,n=Math.floor((e-this.y_translation)/this.slot_height);if(!this.feature_positions[n])return null;t+=this.translation;for(var r=0;r<this.feature_positions[n].length;r++)if(i=this.feature_positions[n][r],t>=i.x_start&&t<=i.x_end)return i.data};var p=function(t,e,i,n,r,a,o){h.call(this,t,e,i,n,r),this.alpha_scaler=a||new u,this.height_scaler=o||new u,this.max_label_length=200};p.prototype.default_prefs={block_color:"#FFF",connector_color:"#FFF"},r.extend(p.prototype,{get_required_height:function(t,e){var i=this.get_row_height(),n=i,r=this.mode;return"no_detail"!==r&&"Squish"!==r&&"Pack"!==r||(i=t*n),i+this.get_top_padding(e)},get_top_padding:function(t){return 0},draw:function(t,e,i,n,r){var a=this.data,o=this.view_start,s=this.view_end;t.save(),t.fillStyle=this.prefs.block_color,t.textAlign="right";for(var l,u=this.get_row_height(),h=new f(u),d=[],p=0,g=a.length;p<g;p++){var m=a[p],v=m[0],_=m[1],y=m[2],b=r&&void 0!==r[v]?r[v].slot:null;("Dense"===this.mode||null!==b)&&_<s&&y>o&&(l=this.draw_element(t,this.mode,m,b,o,s,n,u,e),h.map_feature_data(m,b,l[0],l[1]),(_<o||y>s)&&d.push(m))}return t.restore(),h.y_translation=this.get_top_padding(e),new c({incomplete_features:d,feature_mapper:h})},draw_element:function(t,e,i,n,r,a,o,s,l){return[0,0]}});var g=function(t,e,i,n,r,a,o){p.call(this,t,e,i,n,r,a,o),this.draw_background_connector=!0,this.draw_individual_connectors=!1};r.extend(g.prototype,p.prototype,{get_row_height:function(){var t=this.mode;return"Dense"===t?10:"no_detail"===t?3:"Squish"===t?5:10},draw_element:function(t,e,i,n,r,a,o,s,l){var u,c=(i[0],i[1]),h=i[2],d=i[3],f=i[4],p=Math.floor(Math.max(0,(c-r-.5)*o)),g=Math.ceil(Math.min(l,Math.max(0,(h-r-.5)*o))),m=p,v=g,u=("Dense"===e?0:0+n)*s+this.get_top_padding(l),_=null,y=null,b=f&&"+"!==f&&"."!==f?this.prefs.reverse_strand_color:this.prefs.block_color,w=this.prefs.label_color;if(t.globalAlpha=this.alpha_scaler.gen_val(i),"Dense"===e&&(n=1),"no_detail"===e)t.fillStyle=b,t.fillRect(p,u+5,g-p,1);else{var x=i[5],C=i[6],k=i[7],S=!0;x&&C&&(_=Math.floor(Math.max(0,(x-r)*o)),y=Math.ceil(Math.min(l,Math.max(0,(C-r)*o))));var T,A;if("Squish"===e?(T=1,A=3,S=!1):(T=5,A=9),k){var M,E;"Squish"===e||"Dense"===e?(M=u+Math.floor(1.5)+1,E=1):f?(M=u,E=A):(M+=2.5,E=1),this.draw_background_connector&&("Squish"===e||"Dense"===e?t.fillStyle="#ccc":f?"+"===f?t.fillStyle=t.canvas.manager.get_pattern("right_strand"):"-"===f&&(t.fillStyle=t.canvas.manager.get_pattern("left_strand")):t.fillStyle="#ccc",t.fillRect(p,M,g-p,E));for(var O=0,D=k.length;O<D;O++){var $,j,P=k[O],R=Math.floor(Math.max(0,(P[0]-r-.5)*o)),I=Math.ceil(Math.min(l,Math.max((P[1]-r-.5)*o)));if(!(R>I)){if(t.fillStyle=b,t.fillRect(R,u+(A-T)/2+1,I-R,T),void 0!==_&&C>x&&!(R>y||I<_)){var N=Math.max(R,_),L=Math.min(I,y);t.fillRect(N,u+1,L-N,A),1===k.length&&"Pack"===e&&("+"===f?t.fillStyle=t.canvas.manager.get_pattern("right_strand_inv"):"-"===f&&(t.fillStyle=t.canvas.manager.get_pattern("left_strand_inv")),N+14<L&&(N+=2,L-=2),t.fillRect(N,u+1,L-N,A))}this.draw_individual_connectors&&$&&this.draw_connector(t,$,j,R,I,u),$=R,j=I}}if("Pack"===e){t.globalAlpha=1,t.fillStyle="white";var z=this.height_scaler.gen_val(i),H=Math.ceil(A*z),q=Math.round((A-H)/2);1!==z&&(t.fillRect(p,M+1,g-p,q),t.fillRect(p,M+A-q+1,g-p,q))}}else t.fillStyle=b,t.fillRect(p,u+1,g-p,A),f&&S&&("+"===f?t.fillStyle=t.canvas.manager.get_pattern("right_strand_inv"):"-"===f&&(t.fillStyle=t.canvas.manager.get_pattern("left_strand_inv")),t.fillRect(p,u+1,g-p,A));t.globalAlpha=1,d&&"Pack"===e&&c>r&&(t.fillStyle=w,0===r&&p-t.measureText(d).width<0?(t.textAlign="left",t.fillText(d,g+2,u+8,this.max_label_length),v+=t.measureText(d).width+2):(t.textAlign="right",t.fillText(d,p-2,u+8,this.max_label_length),m-=t.measureText(d).width+2))}return t.globalAlpha=1,[m,v]}});var m=function(t,e,i,n,r,a,o,s,l){p.call(this,t,e,i,n,r,a,o),this.ref_seq=s?s.data:null,this.base_color_fn=l};r.extend(m.prototype,p.prototype,{get_row_height:function(){var t,e=this.mode;return"Dense"===e?t=10:"Squish"===e?t=5:(t=10,this.prefs.show_insertions&&(t*=2)),t},_parse_cigar:function(t){var e="MIDNSHP=X",i=[[0,0]],n=i[0],a=0,o=r.map(t.match(/[0-9]+[MIDNSHP=X]/g),function(t){var r=parseInt(t.slice(0,-1),10),o=t.slice(-1);return"N"===o?0!==n[1]&&(n=[a+r,a+r],i.push(n)):-1==="ISHP".indexOf(o)&&(n[1]+=r,a+=r),[e.indexOf(o),r]});return{blocks:i,cigar:o}},draw_read:function(t,e,i,n,r,s,u,c,h,d){var f=function(t){return Math.floor(Math.max(0,(t-r-.5)*i))};t.textAlign="center";var p,g,m=[r,s],v=0,_=0,y=Math.round(i/2),b=t.canvas.manager.char_width_px,w="+"===h?this.prefs.detail_block_color:this.prefs.reverse_strand_color,C="Pack"===e,k=C?9:3,S=n+1,T=new x(t,k,i,e),A=[],M=[],E=this._parse_cigar(c);c=E.cigar,A=E.blocks;for(var O=0;O<A.length;O++){var D=A[O];o([u+D[0],u+D[1]],m)&&(p=f(u+D[0]),g=f(u+D[1]),p===g&&(g+=1),t.fillStyle=w,t.fillRect(p,S,g-p,k))}for(var $=0,j=c.length;$<j;$++){var P=c[$],R="MIDNSHP=X"[P[0]],I=P[1],N=u+v;if(p=f(N),g=f(N+I),o([N,N+I],m))switch(p===g&&(g+=1),R){case"H":case"S":case"P":break;case"M":v+=I;break;case"=":case"X":var L="";"X"===R?L=d.slice(_,_+I):this.ref_seq&&(L=this.ref_seq.slice(Math.max(0,N-r),Math.min(N-r+I,s-r)));for(var z=Math.max(N,r),H=0;H<L.length;H++)if(L&&!this.prefs.show_differences||"X"===R){var q=Math.floor(Math.max(0,(z+H-r)*i));t.fillStyle=this.base_color_fn(L[H]),C&&i>b?t.fillText(L[H],q,n+9):i>.05&&t.fillRect(q-y,S,Math.max(1,Math.round(i)),k)}"X"===R&&(_+=I),v+=I;break;case"N":t.fillStyle="#ccc",t.fillRect(p,S+(k-1)/2,g-p,1),v+=I;break;case"D":T.draw_deletion(p,S,I),v+=I;break;case"I":var F=p-y;if(o([N,N+I],m)){var B=d.slice(_,_+I);if(this.prefs.show_insertions){var V=p-(g-p)/2;if(("Pack"===e||"Auto"===this.mode)&&void 0!==d&&i>b){switch(t.fillStyle="yellow",t.fillRect(V-y,n-9,g-p,9),M[M.length]={type:"triangle",data:[F,n+4,5]},t.fillStyle="#ccc",a([N,N+I],m)){case 1003:B=B.slice(r-N);break;case 1004:B=B.slice(0,N-s);break;case 1005:break;case 1002:B=B.slice(r-N,N-s)}for(var H=0,U=B.length;H<U;H++){var q=Math.floor(Math.max(0,(N+H-r)*i));t.fillText(B[H],q-(g-p)/2,n)}}else t.fillStyle="yellow",t.fillRect(V,n+("Dense"!==this.mode?2:5),g-p,"Dense"!==e?3:9)}else("Pack"===e||"Auto"===this.mode)&&void 0!==d&&i>b&&M.push({type:"text",data:[B.length,F,n+9]})}_+=I}else v=function(t,e,i){return-1!=="M=NXD".indexOf(e)&&(t+=i),t}(v,R,I),_=function(t,e,i){return-1!=="IX".indexOf(e)&&(t+=i),t}(_,R,I)}t.fillStyle="yellow";for(var W,G,X,O=0;O<M.length;O++)W=M[O],G=W.type,X=W.data,"text"===G?(t.save(),t.font="bold "+t.font,t.fillText(X[0],X[1],X[2]),t.restore()):"triangle"===G&&l(t,X[0],X[1],X[2])},draw_element:function(t,e,i,n,r,a,o,l,u){var c=(i[0],i[1]),h=i[2],d=i[3],f=Math.floor(Math.max(-.5*o,(c-r-.5)*o)),p=Math.ceil(Math.min(u,Math.max(0,(h-r-.5)*o))),g=("Dense"===e?0:0+n)*l,m="Pack"===e?9:3;this.prefs.label_color;if(i[5]instanceof Array){var v=!0;i[4][1]>=r&&i[4][0]<=a&&i[4][2]?this.draw_read(t,e,o,g,r,a,i[4][0],i[4][2],i[4][3],i[4][4]):v=!1,i[5][1]>=r&&i[5][0]<=a&&i[5][2]?this.draw_read(t,e,o,g,r,a,i[5][0],i[5][2],i[5][3],i[5][4]):v=!1;var _=Math.ceil(Math.min(u,Math.max(-.5*o,(i[4][1]-r-.5)*o))),y=Math.floor(Math.max(-.5*o,(i[5][0]-r-.5)*o));if(v&&y>_){t.fillStyle="#ccc";var b=g+1+(m-1)/2;s(t,_,b,y,b)}}else this.draw_read(t,e,o,g,r,a,c,i[4],i[5],i[6]);return"Pack"===e&&c>=r&&"."!==d&&(t.fillStyle=this.prefs.label_color,0===r&&f-t.measureText(d).width<0?(t.textAlign="left",t.fillText(d,p+2,g+9,this.max_label_length)):(t.textAlign="right",t.fillText(d,f-2,g+9,this.max_label_length))),[0,0]}});var v=function(t,e,i,n,r,a,o){g.call(this,t,e,i,n,r,a,o),this.longest_feature_length=this.calculate_longest_feature_length(),this.draw_background_connector=!1,this.draw_individual_connectors=!0};r.extend(v.prototype,p.prototype,g.prototype,{calculate_longest_feature_length:function(){for(var t=0,e=0,i=this.data.length;e<i;e++){var n=this.data[e],r=n[1],a=n[2];t=Math.max(t,a-r)}return t},get_top_padding:function(t){var e=this.view_end-this.view_start,i=t/e;return Math.min(128,Math.ceil(this.longest_feature_length/2*i))},draw_connector:function(t,e,i,n,r,a){var o=(i+n)/2,s=n-o;Math.PI;s>0&&(t.beginPath(),t.arc(o,a,n-o,Math.PI,0),t.stroke())}});var _=function(t,e){Array.isArray(t)?this.rgb=t:6==t.length?this.rgb=t.match(/.{2}/g).map(function(t){return parseInt(t,16)}):7==t.length?this.rgb=t.substring(1,7).match(/.{2}/g).map(function(t){return parseInt(t,16)}):this.rgb=t.split("").map(function(t){return parseInt(t+t,16)}),this.alpha="number"==typeof e?e:1};_.prototype={eval:function(){return this},toCSS:function(){return this.alpha<1?"rgba("+this.rgb.map(function(t){return Math.round(t)}).concat(this.alpha).join(", ")+")":"#"+this.rgb.map(function(t){return t=Math.round(t),t=(t>255?255:t<0?0:t).toString(16),1===t.length?"0"+t:t}).join("")},toHSL:function(){var t,e,i=this.rgb[0]/255,n=this.rgb[1]/255,r=this.rgb[2]/255,a=this.alpha,o=Math.max(i,n,r),s=Math.min(i,n,r),l=(o+s)/2,u=o-s;if(o===s)t=e=0;else{switch(e=l>.5?u/(2-o-s):u/(o+s),o){case i:t=(n-r)/u+(n<r?6:0);break;case n:t=(r-i)/u+2;break;case r:t=(i-n)/u+4}t/=6}return{h:360*t,s:e,l:l,a:a}},toARGB:function(){return"#"+[Math.round(255*this.alpha)].concat(this.rgb).map(function(t){return t=Math.round(t),t=(t>255?255:t<0?0:t).toString(16),1===t.length?"0"+t:t}).join("")},mix:function(t,e){var i=this,n=e,r=2*n-1,a=i.toHSL().a-t.toHSL().a,o=((r*a==-1?r:(r+a)/(1+r*a))+1)/2,s=1-o,l=[i.rgb[0]*o+t.rgb[0]*s,i.rgb[1]*o+t.rgb[1]*s,i.rgb[2]*o+t.rgb[2]*s],u=i.alpha*n+t.alpha*(1-n);return new _(l,u)}};var y=function(t,e,i,n){this.start_color=new _(t),this.end_color=new _(e),this.start_value=i,this.end_value=n,this.value_range=n-i};y.prototype.map_value=function(t){return t=Math.max(t,this.start_value),t=Math.min(t,this.end_value),t=(t-this.start_value)/this.value_range,this.start_color.mix(this.end_color,1-t).toCSS()};var b=function(t,e,i,n,r){this.positive_ramp=new y(e,i,0,r),this.negative_ramp=new y(e,t,0,-n),this.start_value=n,this.end_value=r};b.prototype.map_value=function(t){return t=Math.max(t,this.start_value),t=Math.min(t,this.end_value),t>=0?this.positive_ramp.map_value(t):this.negative_ramp.map_value(-t)};var w=function(t,e,i,n,r){h.call(this,t,e,i,n,r);var a,o;if(void 0===this.prefs.min_value){var s=1/0;for(a=0,o=this.data.length;a<o;a++)s=Math.min(s,this.data[a][6]);this.prefs.min_value=s}if(void 0===this.prefs.max_value){var l=-1/0;for(a=0,o=this.data.length;a<o;a++)l=Math.max(l,this.data[a][6]);this.prefs.max_value=l}};w.prototype.default_prefs={min_value:void 0,max_value:void 0,mode:"Heatmap",pos_color:"#FF8C00",neg_color:"#4169E1"},w.prototype.draw=function(t,e,i,n){var r,a,o,s,l,u,c=this.prefs.min_value,h=this.prefs.max_value,d=this.view_start,f=(this.mode,this.data),p=1/Math.sqrt(2),g=new b(this.prefs.neg_color,"#FFFFFF",this.prefs.pos_color,c,h),m=function(t){return(t-d)*n};t.save(),t.rotate(-45*Math.PI/180),t.scale(p,p);for(var v=0,_=f.length;v<_;v++)r=f[v],a=m(r[1]),o=m(r[2]),s=m(r[4]),l=m(r[5]),u=r[6],t.fillStyle=g.map_value(u),t.fillRect(a,s,o-a,l-s);t.restore()};var x=function(t,e,i,n){this.ctx=t,this.row_height=e,this.px_per_base=i,this.draw_details=("Pack"===n||"Auto"===n)&&i>=t.canvas.manager.char_width_px,this.delete_details_thickness=.2};r.extend(x.prototype,{draw_deletion:function(t,e,i){this.ctx.fillStyle="black";var n=(this.draw_details?this.delete_details_thickness:1)*this.row_height;e+=.5*(this.row_height-n),this.ctx.fillRect(t,e,i*this.px_per_base,n)}});var C=function(t,e,i,n,r,a){h.call(this,t,e,i,n,r),this.base_color_fn=a,this.divider_height=1};r.extend(C.prototype,h.prototype,{get_row_height:function(){var t=this.mode;return"Dense"===t?10:"Squish"===t?5:10},get_required_height:function(t){var e=this.prefs.summary_height;return t>1&&this.prefs.show_sample_data&&(e+=this.divider_height+t*this.get_row_height()),e},draw:function(t,e,i,n){t.save();var a,o,s,l,u,c,h,d,f,p,g,m=function(t,e){var i=t.length,n=e.length,r=0,a=1,o=null;return"-"===e?(o="deletion",a=t.length):0===t.indexOf(e)&&i>n?(o="deletion",a=i-n,r=n):0===e.indexOf(t)&&i<n&&(o="insertion",a=n-i,r=n),null!==o?{type:o,start:r,len:a}:{}},v=Math.max(1,Math.floor(n)),_=this.data.length?this.data[0][7].split(",").length:0,y="Squish"===this.mode?5:10,b=n<.1?y:"Squish"===this.mode?3:9,w=!0,C=new x(t,y,n,this.mode);1===_&&(y=b=n<t.canvas.manager.char_width_px?this.prefs.summary_height:y,C.row_height=y,w=!1),this.prefs.show_sample_data&&w&&(t.fillStyle="#F3F3F3",t.globalAlpha=1,t.fillRect(0,this.prefs.summary_height-this.divider_height,e,this.divider_height)),t.textAlign="center";for(var k=0;k<this.data.length;k++)if(a=this.data[k],o=a[1],s=a[3],l=[a[4].split(",")],u=a[7].split(","),c=a.slice(8),l=r.map(r.flatten(l),function(t){var e={type:"snp",value:t,start:0},i=m(s,t);return r.extend(e,i)}),!(o<this.view_start||o>this.view_end)){if(w)for(t.fillStyle="#999999",t.globalAlpha=1,g=0;g<l.length;g++)for(d=this.get_start_draw_pos(o+l[g].start,n),t.fillRect(d,0,v,this.prefs.summary_height),f=this.prefs.summary_height,g=0;g<l.length;g++){t.fillStyle="deletion"===l[g].type?"black":this.base_color_fn(l[g].value);var S=c/u.length,T=Math.ceil(this.prefs.summary_height*S);t.fillRect(d,f-T,v,T),f-=T}if(this.prefs.show_sample_data)for(f=w?this.prefs.summary_height+this.divider_height:0,g=0;g<u.length;g++,f+=y)if(p=u[g]?u[g].split(/\/|\|/):["0","0"],h=null,p[0]===p[1]?"."===p[0]||"0"!==p[0]&&(h=l[parseInt(p[0],10)-1],t.globalAlpha=1):(h="0"!==p[0]?p[0]:p[1],h=l[parseInt(h,10)-1],t.globalAlpha=.5),h)if(d=this.get_start_draw_pos(o+h.start,n),"snp"===h.type){var A=h.value;t.fillStyle=this.base_color_fn(A),C.draw_details?t.fillText(A,this.get_draw_pos(o,n),f+y):t.fillRect(d,f+1,v,b)}else"deletion"===h.type&&C.draw_deletion(d,f+1,h.len)}t.restore()}}),e.default={Scaler:u,LinePainter:d,LinkedFeaturePainter:g,ReadPainter:m,ArcLinkedFeaturePainter:v,DiagonalHeatmapPainter:w,VariantPainter:C}},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),r=function(t){return t&&t.__esModule?t:{default:t}}(n),a=i(1),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(a),s=o.extend,l=function(t){this.manager=null,this.name=t.name,this.index=t.index,this.tool_id=t.tool_id,this.tool_exp_name=t.tool_exp_name};s(l.prototype,{to_dict:function(){return{name:this.name,index:this.index,tool_id:this.tool_id,tool_exp_name:this.tool_exp_name}}});var u=function(e,i,n){return t("<a/>").attr("href","javascript:void(0);").attr("title",e).addClass("icon-button").addClass(i).tooltip().click(n)},c=function(e){l.call(this,e),this.low="low"in e?e.low:-Number.MAX_VALUE,this.high="high"in e?e.high:Number.MAX_VALUE,this.min="min"in e?e.min:Number.MAX_VALUE,this.max="max"in e?e.max:-Number.MAX_VALUE,this.container=null,this.slider=null,this.slider_label=null;var i=this;i.parent_div=t("<div/>").addClass("filter-row slider-row");var n=t("<div/>").addClass("elt-label").appendTo(i.parent_div),r=(t("<span/>").addClass("slider-name").text(i.name+"  ").appendTo(n),t("<span/>").text(this.low+"-"+this.high)),a=t("<span/>").addClass("slider-value").appendTo(n).append("[").append(r).append("]");i.values_span=r;var o=t("<div/>").addClass("slider").appendTo(i.parent_div);i.control_element=t("<div/>").attr("id",i.name+"-filter-control").appendTo(o),i.control_element.slider({range:!0,min:this.min,max:this.max,step:this.get_slider_step(this.min,this.max),values:[this.low,this.high],slide:function(t,e){i.slide(t,e)},change:function(t,e){i.control_element.slider("option","slide").call(i.control_element,t,e)}}),i.slider=i.control_element,i.slider_label=r,function(e,i,n){e.click(function(){var e=i.text(),r=parseFloat(n.slider("option","max")),a=r<=1?4:r<=1e6?r.toString().length:6,o=!1,s=t(this).parents(".slider-row");s.addClass("input"),n.slider("option","values")&&(a=2*a+1,o=!0),i.text(""),t("<input type='text'/>").attr("size",a).attr("maxlength",a).attr("value",e).appendTo(i).focus().select().click(function(t){t.stopPropagation()}).blur(function(){t(this).remove(),i.text(e),s.removeClass("input")}).keyup(function(e){if(27===e.keyCode)t(this).trigger("blur");else if(13===e.keyCode){var i=n.slider("option","min"),r=n.slider("option","max"),a=function(t){return isNaN(t)||t>r||t<i},l=t(this).val();if(o){if(l=l.split("-"),l=[parseFloat(l[0]),parseFloat(l[1])],a(l[0])||a(l[1]))return alert("Parameter value must be in the range ["+i+"-"+r+"]"),t(this)}else if(l=parseFloat(l),a(l))return alert("Parameter value must be in the range ["+i+"-"+r+"]"),t(this);n.slider(o?"values":"value",l),s.removeClass("input")}})})}(a,r,i.control_element);var s=t("<div/>").addClass("display-controls").appendTo(i.parent_div);this.transparency_icon=u("Use filter for data transparency","layer-transparent",function(){i.manager.alpha_filter!==i?(i.manager.alpha_filter=i,i.manager.parent_div.find(".layer-transparent").removeClass("active").hide(),i.transparency_icon.addClass("active").show()):(i.manager.alpha_filter=null,i.transparency_icon.removeClass("active")),i.manager.track.request_draw({force:!0,clear_after:!0})}).appendTo(s).hide(),this.height_icon=u("Use filter for data height","arrow-resize-090",function(){i.manager.height_filter!==i?(i.manager.height_filter=i,i.manager.parent_div.find(".arrow-resize-090").removeClass("active").hide(),i.height_icon.addClass("active").show()):(i.manager.height_filter=null,i.height_icon.removeClass("active")),i.manager.track.request_draw({force:!0,clear_after:!0})}).appendTo(s).hide(),i.parent_div.hover(function(){i.transparency_icon.show(),i.height_icon.show()},function(){i.manager.alpha_filter!==i&&i.transparency_icon.hide(),i.manager.height_filter!==i&&i.height_icon.hide()}),t("<div style='clear: both;'/>").appendTo(i.parent_div)};s(c.prototype,{to_dict:function(){var t=l.prototype.to_dict.call(this);return s(t,{type:"number",min:this.min,max:this.max,low:this.low,high:this.high})},copy:function(){return new c({name:this.name,index:this.index,tool_id:this.tool_id,tool_exp_name:this.tool_exp_name})},get_slider_step:function(t,e){return e-t<=2?.01:1},slide:function(t,e){var i=e.values;this.values_span.text(i[0]+"-"+i[1]),this.low=i[0],this.high=i[1];var n=this;setTimeout(function(){i[0]===n.low&&i[1]===n.high&&n.manager.track.request_draw({force:!0,clear_after:!0})},25)},applies_to:function(t){return t.length>this.index},_keep_val:function(t){return isNaN(t)||t>=this.low&&t<=this.high},keep:function(t){if(!this.applies_to(t))return!0;var e=t[this.index];if(e instanceof Array){for(var i=!0,n=0;n<e.length;n++)if(!this._keep_val(e[n])){i=!1;break}return i}return this._keep_val(t[this.index])},update_attrs:function(t){var e=!1;if(!this.applies_to(t))return e;var i=t[this.index];i instanceof Array||(i=[i]);for(var n=0;n<i.length;n++){var r=i[n];r<this.min&&(this.min=Math.floor(r),e=!0),r>this.max&&(this.max=Math.ceil(r),e=!0)}return e},update_ui_elt:function(){this.min<this.max?this.parent_div.show():this.parent_div.hide();var t=this.slider.slider("option","min"),e=this.slider.slider("option","max");(this.min<t||this.max>e)&&(this.slider.slider("option","min",this.min),this.slider.slider("option","max",this.max),this.slider.slider("option","step",this.get_slider_step(this.min,this.max)),this.slider.slider("option","values",[this.min,this.max]))}});var h=function(e,i){if(this.track=e,this.alpha_filter=null,this.height_filter=null,this.filters=[],this.parent_div=t("<div/>").addClass("filters").hide(),this.parent_div.bind("drag",function(t){t.stopPropagation()}).click(function(t){t.stopPropagation()}).bind("dblclick",function(t){t.stopPropagation()}).bind("keydown",function(t){t.stopPropagation()}),i&&"filters"in i){for(var n,r=("alpha_filter"in i?i.alpha_filter:null),a=("height_filter"in i?i.height_filter:null),o=i.filters,s=0;s<o.length;s++)"number"===o[s].type?(n=new c(o[s]),this.add_filter(n),n.name===r&&(this.alpha_filter=n,n.transparency_icon.addClass("active").show()),n.name===a&&(this.height_filter=n,n.height_icon.addClass("active").show())):console.log("ERROR: unsupported filter: ",name,type);"visible"in i&&i.visible&&this.parent_div.show()}if(0!==this.filters.length){var l=t("<div/>").addClass("param-row").appendTo(this.parent_div),u=this;t("<input type='submit'/>").attr("value","Run on complete dataset").appendTo(l).click(function(){u.run_on_dataset()})}};s(h.prototype,{show:function(){this.parent_div.show()},hide:function(){this.parent_div.hide()},toggle:function(){this.parent_div.toggle()},visible:function(){return this.parent_div.is(":visible")},to_dict:function(){for(var t,e={},i=[],n=0;n<this.filters.length;n++)t=this.filters[n],i.push(t.to_dict());return e.filters=i,e.alpha_filter=this.alpha_filter?this.alpha_filter.name:null,e.height_filter=this.height_filter?this.height_filter.name:null,e.visible=this.parent_div.is(":visible"),e},copy:function(t){for(var e=new h(t),i=0;i<this.filters.length;i++)e.add_filter(this.filters[i].copy());return e},add_filter:function(t){t.manager=this,this.parent_div.append(t.parent_div),this.filters.push(t)},remove_all:function(){this.filters=[],this.parent_div.children().remove()},init_filters:function(){for(var t=0;t<this.filters.length;t++){this.filters[t].update_ui_elt()}},clear_filters:function(){for(var t=0;t<this.filters.length;t++){var e=this.filters[t];e.slider.slider("option","values",[e.min,e.max])}this.alpha_filter=null,this.height_filter=null,this.parent_div.find(".icon-button").hide()},run_on_dataset:function(){for(var e,i,n=(function(t,e,i){return e in t||(t[e]=i),t[e]}),a={},o=0;o<this.filters.length;o++)e=this.filters[o],e.tool_id&&(e.min!==e.low&&(i=n(a,e.tool_id,[]),i[i.length]=e.tool_exp_name+" >= "+e.low),e.max!==e.high&&(i=n(a,e.tool_id,[]),i[i.length]=e.tool_exp_name+" <= "+e.high));var s=[];for(var l in a)s[s.length]=[l,a[l]];!function e(i,n){var a=n[0],o=a[0],s=a[1],l="("+s.join(") and (")+")",u={cond:l,input:i,target_dataset_id:i,tool_id:o};n=n.slice(1),t.getJSON(run_tool_url,u,function(t){t.error?Galaxy.modal.show({title:(0,r.default)("Filter Dataset"),body:"Error running tool "+o,buttons:{Close:Galaxy.modal.hide()}}):0===n.length?Galaxy.modal.show({title:(0,r.default)("Filtering Dataset"),body:"Filter(s) are running on the complete dataset. Outputs are in dataset's history.",buttons:{Close:Galaxy.modal.hide()}}):e(t.dataset_id,n)})}(this.track.dataset_id,s)}}),e.default={FiltersManager:h,NumberFilter:c}}).call(e,i(0))},function(t,e,i){"use strict";(function(t,n,r,a){function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(5),l=o(s),u=i(6),c=(o(u),i(69)),h=o(c),d=i(166),f=o(d),p=i(167),g=o(p),m=i(168),v=o(m),_=t.View.extend({initialize:function(t,e){this.app=t,this.inputs=e.inputs,this.parameters=new v.default,this.setElement(n("<div/>")),this.render()},render:function(){var t=this;this.$el.empty(),r.each(this.inputs,function(e){t.add(e)})},add:function(t){var e=a.extend(!0,{},t);switch(e.id=t.id=l.default.uid(),this.app.input_list[e.id]=e,e.type){case"conditional":this._addConditional(e);break;case"repeat":this._addRepeat(e);break;case"section":this._addSection(e);break;default:this._addRow(e)}},_addConditional:function(t){var e=this;t.test_param.id=t.id,this.app.model.get("sustain_conditionals")&&(t.test_param.disabled=!0);var i=this._addRow(t.test_param);i.model&&i.model.set("onchange",function(i){var n=e.app.data.matchCase(t,i);for(var r in t.cases){var a=t.cases[r],o=e.$("#"+t.id+"-section-"+r),s=!1;for(var l in a.inputs)if(!a.inputs[l].hidden){s=!0;break}r==n&&s?o.fadeIn("fast"):o.hide()}e.app.trigger("change")});for(var n in t.cases){var r=new _(this.app,{inputs:t.cases[n].inputs});this._append(r.$el.addClass("ui-form-section"),t.id+"-section-"+n)}i.trigger("change")},_addRepeat:function(t){function e(e){var r=t.id+"-section-"+n++,o=new _(i.app,{inputs:e});a.add({id:r,$el:o.$el,ondel:function(){a.del(r),i.app.trigger("change")}})}for(var i=this,n=0,a=new f.default.View({title:t.title||"Repeat",min:t.min,max:t.max,onnew:function(){e(t.inputs),i.app.trigger("change")}}),o=r.size(t.cache),s=0;s<Math.max(Math.max(o,t.min||0),t.default||0);s++)e(s<o?t.cache[s]:t.inputs);this.app.model.get("sustain_repeats")&&a.hideOptions();var l=new g.default(this.app,{label:t.title||t.name,help:t.help,field:a});this._append(l.$el,t.id)},_addSection:function(t){var e=new h.default.View({title:t.title||t.name,cls:"ui-portlet-section",collapsible:!0,collapsible_button:!0,collapsed:!t.expanded});e.append(new _(this.app,{inputs:t.inputs}).$el),e.append(n("<div/>").addClass("ui-form-info").html(t.help)),this.app.on("expand",function(t){e.$("#"+t).length>0&&e.expand()}),this._append(e.$el,t.id)},_addRow:function(t){var e=this,i=t.id;t.onchange=t.onchange||function(){e.app.trigger("change",i)};var n=this.parameters.create(t);this.app.field_list[i]=n;var r=new g.default(this.app,{name:t.name,label:t.hide_label?"":t.label||t.name,value:t.value,text_value:t.text_value,collapsible_value:t.collapsible_value,collapsible_preview:t.collapsible_preview,help:t.help,argument:t.argument,disabled:t.disabled,color:t.color,style:t.style,backdrop:t.backdrop,hidden:t.hidden,fixed:t.fixed,field:n});return this.app.element_list[i]=r,this._append(r.$el,t.id),n},_append:function(t,e){this.$el.append(t.addClass("section-row").attr("id",e))}});e.default={View:_}}).call(e,i(2),i(0),i(1),i(0))},function(t,e,i){"use strict";(function(t,n,r){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;var o=i(3),s=a(o),l=i(5),u=a(l),c=i(69),h=a(c),d=i(6),f=a(d),p=e.View=t.View.extend({initialize:function(t){this.list={},this.options=u.default.merge(t,{title:(0,s.default)("Repeat"),empty_text:"Not available.",max:null,min:null}),this.button_new=new f.default.ButtonIcon({icon:"fa-plus",title:"Insert "+this.options.title,tooltip:"Add new "+this.options.title+" block",cls:"ui-button-icon ui-clear-float form-repeat-add",onclick:function(){t.onnew&&t.onnew()}}),this.setElement(n("<div/>").append(this.$list=n("<div/>")).append(n("<div/>").append(this.button_new.$el)))},size:function(){return r.size(this.list)},add:function(t){if(!t.id||this.list[t.id])return void Galaxy.emit.debug("form-repeat::add()","Duplicate or invalid repeat block id.");var e=new f.default.ButtonIcon({icon:"fa-trash-o",tooltip:(0,s.default)("Delete this repeat block"),cls:"ui-button-icon-plain form-repeat-delete",onclick:function(){t.ondel&&t.ondel()}}),i=new h.default.View({id:t.id,title:(0,s.default)("placeholder"),cls:t.cls||"ui-portlet-repeat",operations:{button_delete:e}});i.append(t.$el),i.$el.addClass("section-row").hide(),this.list[t.id]=i,this.$list.append(i.$el.fadeIn("fast")),this.options.max>0&&this.size()>=this.options.max&&this.button_new.disable(),this._refresh()},del:function(t){if(!this.list[t])return void Galaxy.emit.debug("form-repeat::del()","Invalid repeat block id.");this.$list.find("#"+t).remove(),delete this.list[t],this.button_new.enable(),this._refresh()},delAll:function(){for(var t in this.list)this.del(t)},hideOptions:function(){this.button_new.$el.hide(),r.each(this.list,function(t){t.hideOperation("button_delete")}),r.isEmpty(this.list)&&this.$el.append(n("<div/>").addClass("ui-form-info").html(this.options.empty_text))},_refresh:function(){var t=0;for(var e in this.list){var i=this.list[e];i.title(++t+": "+this.options.title),i[this.size()>this.options.min?"showOperation":"hideOperation"]("button_delete")}}});e.default={View:p}}).call(e,i(2),i(0),i(1))},function(t,e,i){"use strict";(function(t,i,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t.View.extend({initialize:function(e,i){this.app=e,this.app_options=e.model?e.model.attributes:{},this.field=i&&i.field||new t.View,this.model=i&&i.model||new t.Model({text_enable:this.app_options.text_enable||"Enable",text_disable:this.app_options.text_disable||"Disable",cls_enable:this.app_options.cls_enable||"fa fa-caret-square-o-down",cls_disable:this.app_options.cls_disable||"fa fa-caret-square-o-up",always_refresh:this.app_options.always_refresh}).set(i),this.setElement(this._template()),this.$field=this.$(".ui-form-field"),this.$info=this.$(".ui-form-info"),this.$preview=this.$(".ui-form-preview"),this.$collapsible=this.$(".ui-form-collapsible"),this.$collapsible_text=this.$(".ui-form-collapsible-text"),this.$collapsible_icon=this.$(".ui-form-collapsible-icon"),this.$title=this.$(".ui-form-title"),this.$title_text=this.$(".ui-form-title-text"),this.$error_text=this.$(".ui-form-error-text"),this.$error=this.$(".ui-form-error"),this.$backdrop=this.$(".ui-form-backdrop"),this.$field.prepend(this.field.$el);var n=this.model.get("collapsible_value");this.field.collapsed=void 0!==n&&JSON.stringify(this.model.get("value"))==JSON.stringify(n),this.listenTo(this.model,"change",this.render,this),this.render();var r=this;this.$collapsible.on("click",function(){r.field.collapsed=!r.field.collapsed,e.trigger&&e.trigger("change"),r.render()}),this.field.model&&!this.model.get("always_refresh")&&this.listenTo(this.field.model,"change:value",function(){r.reset()})},backdrop:function(){this.model.set("backdrop",!0)},error:function(t){this.model.set("error_text",t)},reset:function(){!this.model.get("fixed")&&this.model.set("error_text",null)},render:function(){i(".tooltip").hide();var t=this.model.get("help",""),e=this.model.get("argument");e&&-1==t.indexOf("("+e+")")&&(t+=" ("+e+")"),this.$info.html(t),this.$el[this.model.get("hidden")?"hide":"show"](),this.$preview[this.field.collapsed&&this.model.get("collapsible_preview")||this.model.get("disabled")?"show":"hide"]().html(n.escape(this.model.get("text_value")));var r=this.model.get("error_text");if(this.$error[r?"show":"hide"](),this.$el[r?"addClass":"removeClass"]("ui-error"),this.$error_text.html(r),this.$backdrop[this.model.get("backdrop")?"show":"hide"](),this.field.collapsed||this.model.get("disabled")?this.$field.hide():this.$field.show(),this.field.model&&this.field.model.set({color:this.model.get("color"),style:this.model.get("style")}),this.model.get("disabled")||void 0===this.model.get("collapsible_value"))this.$title_text.show().text(this.model.get("label")),this.$collapsible.hide();else{var a=this.field.collapsed?"enable":"disable";this.$title_text.hide(),this.$collapsible.show(),this.$collapsible_text.text(this.model.get("label")),this.$collapsible_icon.removeClass().addClass("icon").addClass(this.model.get("cls_"+a)).attr("data-original-title",this.model.get("text_"+a)).tooltip({placement:"bottom"})}},_template:function(){return i("<div/>").addClass("ui-form-element").append(i("<div/>").addClass("ui-form-error ui-error").append(i("<span/>").addClass("fa fa-arrow-down")).append(i("<span/>").addClass("ui-form-error-text"))).append(i("<div/>").addClass("ui-form-title").append(i("<div/>").addClass("ui-form-collapsible").append(i("<i/>").addClass("ui-form-collapsible-icon")).append(i("<span/>").addClass("ui-form-collapsible-text"))).append(i("<span/>").addClass("ui-form-title-text"))).append(i("<div/>").addClass("ui-form-field").append(i("<span/>").addClass("ui-form-info")).append(i("<div/>").addClass("ui-form-backdrop"))).append(i("<div/>").addClass("ui-form-preview"))}})}).call(e,i(2),i(0),i(1))},function(t,e,i){"use strict";(function(t,n,r){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),s=a(o),l=i(6),u=a(l),c=i(169),h=a(c),d=i(170),f=a(d),p=i(171),g=a(p),m=i(172),v=a(m),_=i(174),y=a(_);e.default=t.Model.extend({types:{text:"_fieldText",password:"_fieldText",select:"_fieldSelect",data_column:"_fieldSelect",genomebuild:"_fieldSelect",data:"_fieldData",data_collection:"_fieldData",integer:"_fieldSlider",float:"_fieldSlider",boolean:"_fieldBoolean",drill_down:"_fieldDrilldown",color:"_fieldColor",hidden:"_fieldHidden",hidden_data:"_fieldHidden",baseurl:"_fieldHidden",library_data:"_fieldLibrary",ftpfile:"_fieldFtp",upload:"_fieldUpload",genomespacefile:"_fieldGenomeSpace"},create:function(t){var e=this.types[t.type],i="function"==typeof this[e]?this[e].call(this,t):null;return i||(i=t.options?this._fieldSelect(t):this._fieldText(t),Galaxy.emit.debug("form-parameters::_addRow()","Auto matched field type ("+t.type+").")),void 0===t.value&&(t.value=null),i.value(t.value),i},_fieldData:function(t){return new h.default.View({id:"field-"+t.id,extensions:t.extensions,optional:t.optional,multiple:t.multiple,type:t.type,flavor:t.flavor,data:t.options,onchange:t.onchange})},_fieldSelect:function(t){if(t.is_workflow)return this._fieldText(t);"data_column"==t.type&&(t.error_text="Missing columns in referenced dataset.");var e=t.data;e||(e=[],n.each(t.options,function(t){e.push({label:t[0],value:t[1]})}));var i=u.default.Select;switch(t.display){case"checkboxes":i=u.default.Checkbox;break;case"radio":i=u.default.Radio;break;case"radiobutton":i=u.default.RadioButton}return new i.View({id:"field-"+t.id,data:e,error_text:t.error_text||"No options available",readonly:t.readonly,multiple:t.multiple,optional:t.optional,onchange:t.onchange,individual:t.individual,searchable:"workflow"!==t.flavor})},_fieldDrilldown:function(t){return t.is_workflow?this._fieldText(t):new u.default.Drilldown.View({id:"field-"+t.id,data:t.options,display:t.display,optional:t.optional,onchange:t.onchange})},_fieldText:function(t){if(t.options&&t.data)if(t.area=t.multiple,s.default.isEmpty(t.value))t.value=null;else if(r.isArray(t.value)){var e="";for(var i in t.value){if(e+=String(t.value[i]),!t.multiple)break;e+="\n"}t.value=e}return new u.default.Input({id:"field-"+t.id,type:t.type,area:t.area,readonly:t.readonly,placeholder:t.placeholder,datalist:t.datalist,onchange:t.onchange})},_fieldSlider:function(t){return new u.default.Slider.View({id:"field-"+t.id,precise:"float"==t.type,is_workflow:t.is_workflow,min:t.min,max:t.max,onchange:t.onchange})},_fieldHidden:function(t){return new u.default.Hidden({id:"field-"+t.id,info:t.info})},_fieldBoolean:function(t){return new u.default.RadioButton.View({id:"field-"+t.id,data:[{label:"Yes",value:"true"},{label:"No",value:"false"}],onchange:t.onchange})},_fieldColor:function(t){return new y.default({id:"field-"+t.id,onchange:t.onchange})},_fieldLibrary:function(t){return new f.default.View({id:"field-"+t.id,optional:t.optional,multiple:t.multiple,onchange:t.onchange})},_fieldFtp:function(t){return new g.default.View({id:"field-"+t.id,optional:t.optional,multiple:t.multiple,onchange:t.onchange})},_fieldGenomeSpace:function(t){return new v.default.View({id:"field-"+t.id,onchange:t.onchange})},_fieldUpload:function(t){return new u.default.Upload({id:"field-"+t.id,onchange:t.onchange})}})}).call(e,i(2),i(1),i(0))},function(t,e,i){"use strict";(function(t,n,r){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(3),s=a(o),l=i(5),u=a(l),c=i(6),h=a(c),d=i(114),f=a(d),p={DISABLED:"disabled",ENABLED:"enabled",LINKED:"linked"},g={data:[{src:"hda",icon:"fa-file-o",tooltip:(0,s.default)("Single dataset"),multiple:!1,batch:p.DISABLED},{src:"hda",icon:"fa-files-o",tooltip:(0,s.default)("Multiple datasets"),multiple:!0,batch:p.LINKED},{src:"hdca",icon:"fa-folder-o",tooltip:(0,s.default)("Dataset collection"),multiple:!1,batch:p.LINKED}],data_multiple:[{src:"hda",icon:"fa-files-o",tooltip:(0,s.default)("Multiple datasets"),multiple:!0,batch:p.DISABLED},{src:"hdca",icon:"fa-folder-o",tooltip:(0,s.default)("Dataset collections"),multiple:!0,batch:p.DISABLED}],data_collection:[{src:"hdca",icon:"fa-folder-o",tooltip:(0,s.default)("Dataset collection"),multiple:!1,batch:p.DISABLED}],workflow_data:[{src:"hda",icon:"fa-file-o",tooltip:(0,s.default)("Single dataset"),multiple:!1,batch:p.DISABLED}],workflow_data_multiple:[{src:"hda",icon:"fa-files-o",tooltip:(0,s.default)("Multiple datasets"),multiple:!0,batch:p.DISABLED}],workflow_data_collection:[{src:"hdca",icon:"fa-folder-o",tooltip:(0,s.default)("Dataset collection"),multiple:!1,batch:p.DISABLED}],module_data:[{src:"hda",icon:"fa-file-o",tooltip:(0,s.default)("Single dataset"),multiple:!1,batch:p.DISABLED},{src:"hda",icon:"fa-files-o",tooltip:(0,s.default)("Multiple datasets"),multiple:!0,batch:p.ENABLED}],module_data_collection:[{src:"hdca",icon:"fa-folder-o",tooltip:(0,s.default)("Dataset collection"),multiple:!1,batch:p.DISABLED},{src:"hdca",icon:"fa-folder",tooltip:(0,s.default)("Multiple collections"),multiple:!0,batch:p.ENABLED}]},m=t.View.extend({initialize:function(e){var i=this;this.model=e&&e.model||new t.Model({src_labels:{hda:"dataset",hdca:"dataset collection"},pagelimit:100,statustimer:1e3}).set(e),this.setElement(n("<div/>").addClass("ui-select-content")),this.button_product=new h.default.RadioButton.View({value:"false",data:[{icon:"fa fa-chain",value:"false",tooltip:"Linked inputs will be run in matched order with other datasets e.g. use this for matching forward and reverse reads."},{icon:"fa fa-chain-broken",value:"true",tooltip:"Unlinked dataset inputs will be run against *all* other inputs."}]});var r=n("<div/>").addClass("ui-form-info").append(n("<i/>").addClass("fa fa-sitemap")).append(n("<span/>").html("This is a batch mode input field. Separate jobs will be triggered for each dataset selection."));this.$batch={linked:r.clone(),enabled:r.clone().append(n("<div/>").append(n("<div/>").addClass("ui-form-title").html("Batch options:")).append(this.button_product.$el)).append(n("<div/>").css("clear","both"))},this.$el.on("dragenter",function(t){this.lastenter=t.target,i.$el.addClass("ui-dragover")}).on("dragover",function(t){t.preventDefault()}).on("dragleave",function(t){this.lastenter===t.target&&i.$el.removeClass("ui-dragover")}).on("drop",function(t){i._handleDrop(t)}),this.history={},this.listenTo(this.model,"change:data",this._changeData,this),this.listenTo(this.model,"change:wait",this._changeWait,this),this.listenTo(this.model,"change:current",this._changeCurrent,this),this.listenTo(this.model,"change:value",this._changeValue,this),this.listenTo(this.model,"change:type change:optional change:multiple change:extensions",this._changeType,this),this.render(),this.on("change",function(){e.onchange&&e.onchange(i.value())})},render:function(){this._changeType(),this._changeValue(),this._changeWait()},wait:function(){this.model.set("wait",!0)},unwait:function(){this.model.set("wait",!1)},update:function(t){this.model.set("data",t)},value:function(t){void 0!==t&&this.model.set("value",t);var e=this.model.get("current");if(this.config[e]){var i=this.fields[e].value();if(null!==i&&(i=n.isArray(i)?i:[i],i.length>0)){var r=this._batch({values:[]});for(var a in i){var o=this.history[i[a]+"_"+this.config[e].src];if(!o)return Galaxy.emit.debug("ui-select-content::value()","Requested details not found for '"+i[a]+"'."),null;r.values.push(o)}return r.values.sort(function(t,e){return t.hid-e.hid}),r}}else Galaxy.emit.debug("ui-select-content::value()","Invalid value/source '"+t+"'.");return null},_changeCurrent:function(){var t=this;r.each(this.fields,function(e,i){t.model.get("current")==i?(e.$el.show(),r.each(t.$batch,function(e,n){e[t.config[i].batch==n?"show":"hide"]()}),t.button_type.value(i)):e.$el.hide()})},_changeType:function(){var t=this,e=(this.model.get("flavor")?this.model.get("flavor")+"_":"")+String(this.model.get("type"))+(this.model.get("multiple")?"_multiple":"");g[e]?this.config=g[e]:(this.config=g.data,Galaxy.emit.debug("ui-select-content::_changeType()","Invalid configuration/type id '"+e+"'."));var i=t.model.get("data"),n=u.default.textify(this.model.get("extensions")),a=this.model.get("src_labels");this.fields=[],this.button_data=[],r.each(this.config,function(e,r){t.button_data.push({value:r,icon:e.icon,tooltip:e.tooltip}),t.fields.push(new f.default.View({optional:t.model.get("optional"),multiple:e.multiple,searchable:!e.multiple||i&&i[e.src]&&i[e.src].length>t.model.get("pagelimit"),individual:!0,error_text:"No "+(n?n+" ":"")+(a[e.src]||"content")+" available.",onchange:function(){t.trigger("change")}}))}),this.button_type=new h.default.RadioButton.View({value:this.model.get("current"),data:this.button_data,onchange:function(e){t.model.set("current",e),t.trigger("change")}}),this.$el.empty();var o=0;this.fields.length>1&&(this.$el.append(this.button_type.$el),o=Math.max(0,36*this.fields.length)+"px"),r.each(this.fields,function(e){t.$el.append(e.$el.css({"margin-left":o}))}),r.each(this.$batch,function(e,i){t.$el.append(e.css({"margin-left":o}))}),this.model.set("current",0),this._changeCurrent(),this._changeData()},_changeWait:function(){var t=this;r.each(this.fields,function(e){e[t.model.get("wait")?"wait":"unwait"]()})},_changeData:function(){var t=this.model.get("data"),e=this,i={};r.each(t,function(t,n){i[n]=[],r.each(t,function(t){i[n].push({hid:t.hid,keep:t.keep,label:t.hid+": "+t.name,value:t.id,tags:t.tags}),e.history[t.id+"_"+n]=t})}),r.each(this.config,function(t,n){i[t.src]&&e.fields[n].add(i[t.src],function(t,e){return e.hid-t.hid})})},_changeValue:function(){var t=this.model.get("value");if(t&&t.values&&t.values.length>0){var e=[];r.each(t.values,function(t){e.push(t.id)});for(var i=t.values[0].src,n=t.values.length>1,a=0;a<this.config.length;a++){var o=this.fields[a],s=this.config[a];if(s.src==i&&-1!==[n,!0].indexOf(s.multiple)){this.model.set("current",a),o.value(e);break}}}else r.each(this.fields,function(t){t.value(null)})},_handleDrop:function(t){try{var e=this.model.get("data"),i=this.model.get("current"),n=this.config[i],a=this.fields[i],o=JSON.parse(t.originalEvent.dataTransfer.getData("text"))[0],s=o.id,l="dataset"==o.history_content_type?"hda":"hdca",u={id:s,src:l};if(e&&r.findWhere(e[l],u)){if(n.src==l){var c=a.value();c&&n.multiple?-1==c.indexOf(s)&&c.push(s):c=s,a.value(c)}else this.model.set("value",{values:[u]}),this.model.trigger("change:value");this.trigger("change"),this._handleDropStatus("success")}else this._handleDropStatus("danger")}catch(t){this._handleDropStatus("danger")}t.preventDefault()},_handleDropStatus:function(t){var e=this;this.$el.removeClass("ui-dragover").addClass("ui-dragover-"+t),setTimeout(function(){e.$el.removeClass("ui-dragover-"+t)},this.model.get("statustimer"))},_batch:function(t){t.batch=!1;var e=this.model.get("current"),i=this.config[e];if("hdca"==i.src&&!i.multiple){var n=this.history[this.fields[e].value()+"_hdca"];n&&n.map_over_type&&(t.batch=!0)}return i.batch!=p.LINKED&&i.batch!=p.ENABLED||(t.batch=!0,i.batch==p.ENABLED&&"true"===this.button_product.value()&&(t.product=!0)),t}});e.default={View:m}}).call(e,i(2),i(0),i(1))},function(t,e,i){"use strict";(function(t){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(6),a=n(r),o=i(120),s=n(o),l=t.Collection.extend({url:Galaxy.root+"api/libraries?deleted=false"}),u=t.Collection.extend({initialize:function(){var e=this;this.config=new t.Model({library_id:null}),this.config.on("change",function(){e.fetch({reset:!0})})},url:function(){return Galaxy.root+"api/libraries/"+this.config.get("library_id")+"/contents"}}),c=t.View.extend({initialize:function(t){var e=this;this.libraries=new l,this.datasets=new u,this.options=t,this.library_select=new a.default.Select.View({onchange:function(t){e.datasets.config.set("library_id",t)}}),this.dataset_list=new s.default.View({name:"dataset",optional:t.optional,multiple:t.multiple,onchange:function(){e.trigger("change")}}),this.libraries.on("reset",function(){var t=[];e.libraries.each(function(e){t.push({value:e.id,label:e.get("name")})}),e.library_select.update(t)}),this.datasets.on("reset",function(){var t=[];null!==e.library_select.text()&&e.datasets.each(function(e){"file"===e.get("type")&&t.push({value:e.id,label:e.get("name")})}),e.dataset_list.update(t)}),this.on("change",function(){t.onchange&&t.onchange(e.value())}),this.setElement(this._template()),this.$(".library-select").append(this.library_select.$el),this.$el.append(this.dataset_list.$el),this.libraries.fetch({reset:!0,success:function(){e.library_select.trigger("change"),void 0!==e.options.value&&e.value(e.options.value)}})},value:function(t){return this.dataset_list.value(t)},_template:function(){return'<div class="ui-select-library"><div class="library ui-margin-bottom"><span class="library-title">Select Library</span><span class="library-select"/></div></div>'}});e.default={View:c}}).call(e,i(2))},function(t,e,i){"use strict";(function(t){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(5),a=n(r),o=i(120),s=n(o),l=t.View.extend({initialize:function(t){var e=this;this.ftpfile_list=new s.default.View({name:"file",optional:t.optional,multiple:t.multiple,onchange:function(){t.onchange&&t.onchange(e.value())}}),this.setElement(this.ftpfile_list.$el),a.default.get({url:Galaxy.root+"api/remote_files",success:function(t){var i=[];for(var n in t)i.push({value:t[n].path,label:t[n].path});e.ftpfile_list.update(i)}})},value:function(t){return this.ftpfile_list.value(t)}});e.default={View:l}}).call(e,i(2))},function(t,e,i){"use strict";(function(t){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(3),a=n(r),o=i(5),s=(n(o),i(6)),l=n(s),u=i(173),c=n(u),h=t.View.extend({initialize:function(t){var e=this;this.options=t,this.browse_button=new l.default.ButtonIcon({title:(0,a.default)("Browse"),icon:"fa fa-sign-in",tooltip:(0,a.default)("Browse GenomeSpace"),onclick:function(){e.browseGenomeSpace(t)}}),this.filename_textbox=new l.default.Input,this.token_textbox=new l.default.Input({type:"password"}),this.setElement(this._template(t)),this.$(".ui-gs-browse-button").append(this.browse_button.$el),this.$(".ui-gs-filename-textbox").append(this.filename_textbox.$el),this.$(".ui-gs-token-textbox").append(this.token_textbox.$el)},browseGenomeSpace:function(t){var e=this;c.default.openFileBrowser({successCallback:function(t){e.value(t.destination+"^"+t.token)}})},_template:function(t){return'<div class="ui-gs-select-file"><div class="ui-gs-browse-field"><span class="ui-gs-browse-button" /><span class="ui-gs-filename-textbox" /></div><div class="ui-gs-token-field"><span class=ui-gs-label"><div class="ui-gs-token-label">Token</div></span><span class="ui-gs-token-textbox" /></div></div>'},value:function(t){if(void 0===t)return this._getValue();this._setValue(t)},_getValue:function(){return this.filename_textbox.value()+"^"+this.token_textbox.value()},_setValue:function(t){if(t){var e=t.split("^");this.filename_textbox.value(e[0]),this.token_textbox.value(e[1])}this.options.onchange&&this.options.onchange(t)}});e.default={View:h}}).call(e,i(2))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={openFileBrowser:function(t){var e=window.Galaxy.config.genomespace_ui_url,i=e+"upload/loadUrlToGenomespace.html?getLocation=true",n=window.open(i,"GenomeSpace File Browser","height=360px,width=600px");window.addEventListener("message",function(e){t.successCallback&&e.data.destination&&t.successCallback(e.data)},!1),n.focus(),null!=t.errorCallback&&(n.setCallbackOnGSUploadError=config.errorCallback)}}},function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(5),a=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=t.View.extend({colors:{standard:["c00000","ff0000","ffc000","ffff00","92d050","00b050","00b0f0","0070c0","002060","7030a0"],base:["ffffff","000000","eeece1","1f497d","4f81bd","c0504d","9bbb59","8064a2","4bacc6","f79646"],theme:[["f2f2f2","7f7f7f","ddd9c3","c6d9f0","dbe5f1","f2dcdb","ebf1dd","e5e0ec","dbeef3","fdeada"],["d8d8d8","595959","c4bd97","8db3e2","b8cce4","e5b9b7","d7e3bc","ccc1d9","b7dde8","fbd5b5"],["bfbfbf","3f3f3f","938953","548dd4","95b3d7","d99694","c3d69b","b2a2c7","92cddc","fac08f"],["a5a5a5","262626","494429","17365d","366092","953734","76923c","5f497a","31859b","e36c09"],["7f7f7e","0c0c0c","1d1b10","0f243e","244061","632423","4f6128","3f3151","205867","974806"]]},initialize:function(t){this.options=a.default.merge(t,{}),this.setElement(this._template()),this.$panel=this.$(".ui-color-picker-panel"),this.$view=this.$(".ui-color-picker-view"),this.$value=this.$(".ui-color-picker-value"),this.$header=this.$(".ui-color-picker-header"),this._build(),this.visible=!1,this.value(this.options.value),this.$boxes=this.$(".ui-color-picker-box");var e=this;this.$boxes.on("click",function(){e.value(n(this).css("background-color")),e.$header.trigger("click")}),this.$header.on("click",function(){e.visible=!e.visible,e.visible?e.$view.fadeIn("fast"):e.$view.fadeOut("fast")})},value:function(t){return void 0!==t&&null!==t&&(this.$value.css("background-color",t),this.$(".ui-color-picker-box").empty(),this.$(this._getValue()).html(this._templateCheck()),this.options.onchange&&this.options.onchange(t)),this._getValue()},_getValue:function(){var t=this.$value.css("background-color");if(t=t.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/)){var e=function(t){return("0"+parseInt(t).toString(16)).slice(-2)};return"#"+e(t[1])+e(t[2])+e(t[3])}return null},_build:function(){this._content({colors:this.colors.base});for(var t in this.colors.theme){var e={};0==t?e.bottom=!0:t!=this.colors.theme.length-1?(e.top=!0,e.bottom=!0):e.top=!0,e.colors=this.colors.theme[t],this._content(e)}this._content({colors:this.colors.standard})},_content:function(t){var e=t.colors,i=n(this._templateContent()),r=i.find(".line");this.$panel.append(i);for(var a in e){var o=n(this._templateBox(e[a]));t.top&&(o.css("border-top","none"),o.css("border-top-left-radius","0px"),o.css("border-top-right-radius","0px")),t.bottom&&(o.css("border-bottom","none"),o.css("border-bottom-left-radius","0px"),o.css("border-bottom-right-radius","0px")),r.append(o)}return i},_templateCheck:function(){return'<div class="ui-color-picker-check fa fa-check"/>'},_templateContent:function(){return'<div class="ui-color-picker-content"><div class="line"/></div>'},_templateBox:function(t){return'<div id="'+t+'" class="ui-color-picker-box" style="background-color: #'+t+';"/>'},_template:function(){return'<div class="ui-color-picker"><div class="ui-color-picker-header"><div class="ui-color-picker-value"/><div class="ui-color-picker-label">Select a color</div></div><div class="ui-color-picker-view ui-input"><div class="ui-color-picker-panel"/></div>'}})}).call(e,i(2),i(0))},function(t,e,i){var n=i(176);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(83)("2cea902a",n,!0)},function(t,e,i){e=t.exports=i(82)(void 0),e.push([t.i,".citations-formatted{word-wrap:break-word}.citations-bibtex-text{width:100%;height:500px}.citation-padding{padding:5px 10px}",""])},function(t,e){t.exports=function(t,e){for(var i=[],n={},r=0;r<e.length;r++){var a=e[r],o=a[0],s=a[1],l=a[2],u=a[3],c={id:t+":"+r,css:s,media:l,sourceMap:u};n[o]?n[o].parts.push(c):i.push(n[o]={id:o,parts:[c]})}return i}},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=i(84),r=function(t){return t&&t.__esModule?t:{default:t}}(n),a=i(198),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(a),s=i(199),l=i(86);e.default={props:{source:{type:String,required:!0},id:{type:String,required:!0},viewRender:{type:Boolean,requried:!1,default:!0}},data:function(){return{citations:[],content:"",errors:[]}},computed:{formattedReferences:function(){var t=this;return this.citations.reduce(function(e,i){return e.concat('<p class="formatted-reference">'+t.formattedReference(i)+"</p>")},"")}},created:function(){var e=this;r.default.get(Galaxy.root+"api/"+this.source+"/"+this.id+"/citations").then(function(i){e.content="";var n=!0,r=!1,a=void 0;try{for(var s,l=i.data[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var u=s.value;try{var c={fields:{},entryType:void 0},h=o.toJSON(u.content);if(h){h=t.first(h),c.entryType=h.entryType||void 0;for(var d in h.entryTags)c.fields[d.toLowerCase()]=h.entryTags[d]}e.citations.push(c),e.content+=u.content}catch(t){console.warn("Error parsing bibtex: "+t)}}}catch(t){r=!0,a=t}finally{try{!n&&l.return&&l.return()}finally{if(r)throw a}}}).catch(function(t){console.error(t)})},methods:{formattedReference:function(t){var e=t.entryType,i=t.fields,n="",r=this._asSentence((i.author?i.author:"")+(i.year?" ("+i.year+")":""))+" ",a=i.title||"",o=i.pages?"pp. "+i.pages:"",u=i.address;if("article"==e){var c=(i.volume?i.volume:"")+(i.number?" ("+i.number+")":"")+(o?", "+o:"");n=r+this._asSentence(a)+(i.journal?"In <em>"+i.journal+", ":"")+this._asSentence(c)+this._asSentence(i.address)+"</em>"}else n="inproceedings"==e||"proceedings"==e?r+this._asSentence(a)+(i.booktitle?"In <em>"+i.booktitle+", ":"")+(o||"")+(u?", "+u:"")+".</em>":"mastersthesis"==e||"phdthesis"==e?r+this._asSentence(a)+(i.howpublished?i.howpublished+". ":"")+(i.note?i.note+".":""):"techreport"==e?r+this._asSentence(a)+this._asSentence(i.institution)+this._asSentence(i.number)+this._asSentence(i.type):"book"==e||"inbook"==e||"incollection"==e?r+" "+this._formatBookInfo(i):r+" "+this._asSentence(a)+this._asSentence(i.howpublished)+this._asSentence(i.note);var h="";i.doi&&(h="http://dx.doi.org/"+i.doi,n+='[<a href="'+h+'" target="_blank">doi:'+i.doi+"</a>]");var d=i.url||h;return d&&(n+='[<a href="'+d+'" target="_blank">Link</a>]'),(0,s.convertLaTeX)({onError:function(t,e){return"{"+(0,l.stringifyLaTeX)(e)+"}"}},n)},_formatBookInfo:function(t){var e="";return t.chapter&&(e+=t.chapter+" in "),t.title&&(e+="<em>"+t.title+"</em>"),t.editor&&(e+=", Edited by "+t.editor+", "),t.publisher&&(e+=", "+t.publisher),t.pages&&(e+=", pp. "+t.pages),t.series&&(e+=", <em>"+t.series+"</em>"),t.volume&&(e+=", Vol."+t.volume),t.issn&&(e+=", ISBN: "+t.issn),e+"."},_asSentence:function(t){return t&&t.trim()?t+". ":""},toggleViewRender:function(){this.viewRender=!this.viewRender}}}}).call(e,i(1))},function(t,e,i){"use strict";function n(t){var e=new o(t),i=a(o.prototype.request,e);return r.extend(i,o.prototype,e),r.extend(i,e),i}var r=i(11),a=i(123),o=i(181),s=i(85),l=n(s);l.Axios=o,l.create=function(t){return n(r.merge(s,t))},l.Cancel=i(127),l.CancelToken=i(196),l.isCancel=i(126),l.all=function(t){return Promise.all(t)},l.spread=i(197),t.exports=l,t.exports.default=l},function(t,e){function i(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function n(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&i(t.slice(0,0))}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(i(t)||n(t)||!!t._isBuffer)}},function(t,e,i){"use strict";function n(t){this.defaults=t,this.interceptors={request:new o,response:new o}}var r=i(85),a=i(11),o=i(191),s=i(192);n.prototype.request=function(t){"string"==typeof t&&(t=a.merge({url:arguments[0]},arguments[1])),t=a.merge(r,this.defaults,{method:"get"},t),t.method=t.method.toLowerCase();var e=[s,void 0],i=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)i=i.then(e.shift(),e.shift());return i},a.forEach(["delete","get","head","options"],function(t){n.prototype[t]=function(e,i){return this.request(a.merge(i||{},{method:t,url:e}))}}),a.forEach(["post","put","patch"],function(t){n.prototype[t]=function(e,i,n){return this.request(a.merge(n||{},{method:t,url:e,data:i}))}}),t.exports=n},function(t,e){function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(t){if(c===setTimeout)return setTimeout(t,0);if((c===i||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function a(t){if(h===clearTimeout)return clearTimeout(t);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function o(){g&&f&&(g=!1,f.length?p=f.concat(p):m=-1,p.length&&s())}function s(){if(!g){var t=r(o);g=!0;for(var e=p.length;e;){for(f=p,p=[];++m<e;)f&&f[m].run();m=-1,e=p.length}f=null,g=!1,a(t)}}function l(t,e){this.fun=t,this.array=e}function u(){}var c,h,d=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:i}catch(t){c=i}try{h="function"==typeof clearTimeout?clearTimeout:n}catch(t){h=n}}();var f,p=[],g=!1,m=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];p.push(new l(t,e)),1!==p.length||g||r(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.prependListener=u,d.prependOnceListener=u,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e,i){"use strict";var n=i(11);t.exports=function(t,e){n.forEach(t,function(i,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=i,delete t[n])})}},function(t,e,i){"use strict";var n=i(125);t.exports=function(t,e,i){var r=i.config.validateStatus;i.status&&r&&!r(i.status)?e(n("Request failed with status code "+i.status,i.config,null,i.request,i)):t(i)}},function(t,e,i){"use strict";t.exports=function(t,e,i,n,r){return t.config=e,i&&(t.code=i),t.request=n,t.response=r,t}},function(t,e,i){"use strict";function n(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var r=i(11);t.exports=function(t,e,i){if(!e)return t;var a;if(i)a=i(e);else if(r.isURLSearchParams(e))a=e.toString();else{var o=[];r.forEach(e,function(t,e){null!==t&&void 0!==t&&(r.isArray(t)&&(e+="[]"),r.isArray(t)||(t=[t]),r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),o.push(n(e)+"="+n(t))}))}),a=o.join("&")}return a&&(t+=(-1===t.indexOf("?")?"?":"&")+a),t}},function(t,e,i){"use strict";var n=i(11),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,i,a,o={};return t?(n.forEach(t.split("\n"),function(t){if(a=t.indexOf(":"),e=n.trim(t.substr(0,a)).toLowerCase(),i=n.trim(t.substr(a+1)),e){if(o[e]&&r.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([i]):o[e]?o[e]+", "+i:i}}),o):o}},function(t,e,i){"use strict";var n=i(11);t.exports=n.isStandardBrowserEnv()?function(){function t(t){var e=t;return i&&(r.setAttribute("href",e),e=r.href),r.setAttribute("href",e),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}var e,i=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");return e=t(window.location.href),function(i){var r=n.isString(i)?t(i):i;return r.protocol===e.protocol&&r.host===e.host}}():function(){return function(){return!0}}()},function(t,e,i){"use strict";function n(){this.message="String contains an invalid character"}function r(t){for(var e,i,r=String(t),o="",s=0,l=a;r.charAt(0|s)||(l="=",s%1);o+=l.charAt(63&e>>8-s%1*8)){if((i=r.charCodeAt(s+=.75))>255)throw new n;e=e<<8|i}return o}var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.prototype=new Error,n.prototype.code=5,n.prototype.name="InvalidCharacterError",t.exports=r},function(t,e,i){"use strict";var n=i(11);t.exports=n.isStandardBrowserEnv()?function(){return{write:function(t,e,i,r,a,o){var s=[];s.push(t+"="+encodeURIComponent(e)),n.isNumber(i)&&s.push("expires="+new Date(i).toGMTString()),n.isString(r)&&s.push("path="+r),n.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(t,e,i){"use strict";function n(){this.handlers=[]}var r=i(11);n.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},n.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},n.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=n},function(t,e,i){"use strict";function n(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var r=i(11),a=i(193),o=i(126),s=i(85),l=i(194),u=i(195);t.exports=function(t){return n(t),t.baseURL&&!l(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=a(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||s.adapter)(t).then(function(e){return n(t),e.data=a(e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(n(t),e&&e.response&&(e.response.data=a(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,i){"use strict";var n=i(11);t.exports=function(t,e,i){return n.forEach(i,function(i){t=i(t,e)}),t}},function(t,e,i){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,i){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,i){"use strict";function n(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var i=this;t(function(t){i.reason||(i.reason=new r(t),e(i.reason))})}var r=i(127);n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var t;return{token:new n(function(e){t=e}),cancel:t}},t.exports=n},function(t,e,i){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,i){!function(t){function e(){this.months=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],this.notKey=[",","{","}"," ","="],this.pos=0,this.input="",this.entries=new Array,this.currentEntry="",this.setInput=function(t){this.input=t},this.getEntries=function(){return this.entries},this.isWhitespace=function(t){return" "==t||"\r"==t||"\t"==t||"\n"==t},this.match=function(t,e){if(void 0!=e&&null!=e||(e=!0),this.skipWhitespace(e),this.input.substring(this.pos,this.pos+t.length)!=t)throw"Token mismatch, expected "+t+", found "+this.input.substring(this.pos);this.pos+=t.length,this.skipWhitespace(e)},this.tryMatch=function(t,e){return void 0!=e&&null!=e||(e=!0),this.skipWhitespace(e),this.input.substring(this.pos,this.pos+t.length)==t},this.matchAt=function(){for(;this.input.length>this.pos&&"@"!=this.input[this.pos];)this.pos++;return"@"==this.input[this.pos]},this.skipWhitespace=function(t){for(;this.isWhitespace(this.input[this.pos]);)this.pos++;if("%"==this.input[this.pos]&&1==t){for(;"\n"!=this.input[this.pos];)this.pos++;this.skipWhitespace(t)}},this.value_braces=function(){var t=0;this.match("{",!1);for(var e=this.pos,i=!1;;){if(!i)if("}"==this.input[this.pos]){if(!(t>0)){var n=this.pos;return this.match("}",!1),this.input.substring(e,n)}t--}else if("{"==this.input[this.pos])t++;else if(this.pos>=this.input.length-1)throw"Unterminated value";i="\\"==this.input[this.pos]&&0==i,this.pos++}},this.value_comment=function(){for(var t="",e=0;!this.tryMatch("}",!1)||0!=e;){if(t+=this.input[this.pos],"{"==this.input[this.pos]&&e++,"}"==this.input[this.pos]&&e--,this.pos>=this.input.length-1)throw"Unterminated value:"+this.input.substring(start);this.pos++}return t},this.value_quotes=function(){this.match('"',!1);for(var t=this.pos,e=!1;;){if(!e){if('"'==this.input[this.pos]){var i=this.pos;return this.match('"',!1),this.input.substring(t,i)}if(this.pos>=this.input.length-1)throw"Unterminated value:"+this.input.substring(t)}e="\\"==this.input[this.pos]&&0==e,this.pos++}},this.single_value=function(){var t=this.pos;if(this.tryMatch("{"))return this.value_braces();if(this.tryMatch('"'))return this.value_quotes();var e=this.key();if(e.match("^[0-9]+$"))return e;if(this.months.indexOf(e.toLowerCase())>=0)return e.toLowerCase();throw"Value expected:"+this.input.substring(t)+" for key: "+e},this.value=function(){var t=[];for(t.push(this.single_value());this.tryMatch("#");)this.match("#"),t.push(this.single_value());return t.join("")},this.key=function(t){for(var e=this.pos;;){if(this.pos>=this.input.length)throw"Runaway key";if(this.notKey.indexOf(this.input[this.pos])>=0)return t&&","!=this.input[this.pos]?(this.pos=e,null):this.input.substring(e,this.pos);this.pos++}},this.key_equals_value=function(){var t=this.key();if(this.tryMatch("=")){this.match("=");var e=this.value();return t=t.trim(),[t,e]}throw"... = value expected, equals sign missing:"+this.input.substring(this.pos)},this.key_value_list=function(){var t=this.key_equals_value();for(this.currentEntry.entryTags={},this.currentEntry.entryTags[t[0]]=t[1];this.tryMatch(",")&&(this.match(","),!this.tryMatch("}"));)t=this.key_equals_value(),this.currentEntry.entryTags[t[0]]=t[1]},this.entry_body=function(t){this.currentEntry={},this.currentEntry.citationKey=this.key(!0),this.currentEntry.entryType=t.substring(1),null!=this.currentEntry.citationKey&&this.match(","),this.key_value_list(),this.entries.push(this.currentEntry)},this.directive=function(){return this.match("@"),"@"+this.key()},this.preamble=function(){this.currentEntry={},this.currentEntry.entryType="PREAMBLE",this.currentEntry.entry=this.value_comment(),this.entries.push(this.currentEntry)},this.comment=function(){this.currentEntry={},this.currentEntry.entryType="COMMENT",this.currentEntry.entry=this.value_comment(),this.entries.push(this.currentEntry)},this.entry=function(t){this.entry_body(t)},this.alernativeCitationKey=function(){this.entries.forEach(function(t){!t.citationKey&&t.entryTags&&(t.citationKey="",t.entryTags.author&&(t.citationKey+=t.entryTags.author.split(",")[0]+=", "),t.citationKey+=t.entryTags.year)})},this.bibtex=function(){for(;this.matchAt();){var t=this.directive();this.match("{"),"@STRING"==t.toUpperCase()?this.string():"@PREAMBLE"==t.toUpperCase()?this.preamble():"@COMMENT"==t.toUpperCase()?this.comment():this.entry(t),this.match("}")}this.alernativeCitationKey()}}t.toJSON=function(t){var i=new e;return i.setInput(t),i.bibtex(),i.entries},t.toBibtex=function(t){var e="";for(var i in t){if(e+="@"+t[i].entryType,e+="{",t[i].citationKey&&(e+=t[i].citationKey+", "),t[i].entry&&(e+=t[i].entry),t[i].entryTags){var n="";for(var r in t[i].entryTags)0!=n.length&&(n+=", "),n+=r+"= {"+t[i].entryTags[r]+"}";e+=n}e+="}\n\n"}return e}}(e)},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(200)),n(i(201)),n(i(128)),n(i(131)),n(i(48)),n(i(132)),n(i(242)),n(i(243)),n(i(135))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.aliases={mathfrak:"frak",mathcal:"cal",mathbb:"bb",mathbf:"bf",dfrac:"frac",ldots:"dots"}},function(t,e,i){"use strict";function n(t,e){return a(t,s.mustNotBeUndefined(s.mustBeOk(s.latexParser.parse(e)).value))}function r(t){return a({translateTo:"unicode",mode:"Any"},s.mustNotBeUndefined(s.mustBeOk(s.latexParser.parse(t)).value))}function a(t,e){var i=t.translateTo;switch(i){case"html":throw new Error("Unsupported format: '"+i+"'. Use one of: "+Object.keys(o.supportedMarkups));case"unicode":default:return l.convertLaTeXBlocksToUnicode(t,e).result}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(128),s=i(86),l=i(203);e.convertLaTeX=n,e.convertLaTeXToUnicode=r,e.convertLaTeXBlocks=a},function(t,e,i){"use strict";function n(t,e){var i=t.length,n=e.length;if(0===i)return e;if(0===n)return t;for(var r={},a=0;a<i;a++)r[t[a]]=!0;for(var o=0;o<n;o++)r[e[o]]=!0;var s=[];for(var l in r)r.hasOwnProperty(l)&&s.push(l);return s.sort(),s}function r(t,e){if(!e)return t;if(t.furthest>e.furthest)return t;var i=t.furthest===e.furthest?n(t.expected,e.expected):e.expected;return{status:t.status,index:t.index,value:t.value,furthest:e.furthest,expected:i}}function a(t,e,i,n){return C.Parser(function(a,o){for(var s=n,l=0,u=void 0;o<a.length;){var c=e._(a,o);if(c.status){o=T.mustBeNumber(c.index);break}var h=t._(a,o);if(w(h))return h;if(u=T.mustNotBeUndefined(r(h,u)),w(u))return u;l++;var d=T.mustNotBeUndefined(u.value);s=i(s,d),o=T.mustBeNumber(u.index)}return x(r(C.makeSuccess(o,s),u))})}function o(t,e){return a(t,e,function(t,e){return t.concat([e])},[])}function s(t){return C.Parser(function(e,i){var n=e.charAt(i);if(i>=e.length||t(n))return A.makeFailure(i,"text character");var r=[n];i++;for(var a=e.charAt(i);!t(a)&&i<e.length;)r.push(a),i++,a=e.charAt(i);return C.makeSuccess(i,r.join(""))})}function l(t){return s(c(t)).map(function(t){return S.newTeXRaw(t)})}function u(t,i){return(void 0===i?e.specialCharsDefault:i).hasOwnProperty(t)}function c(t){return function(e){return t.hasOwnProperty(e)}}function h(t,i,n){switch(void 0===i&&(i="_"),void 0===n&&(n="^"),t){case"Math":return e.latexBlockParserMathMode(i,n);default:return e.latexBlockParserTextMode}}function d(t){return t>="A"&&t<="Z"}function f(t){return t>="a"&&t<="z"}function p(t){return R.then(o(h(t,"_"),I)).map(k.newFixArg)}function g(t){return D.then(o(h(t),$)).map(k.newOptArg)}function m(t){return C.alt(p(t),g(t))}function v(t){return C.alt(C.string("{}").map(function(){return[]}),m(t).map(function(t){return t}).atLeast(0)).map(function(t){return t})}function _(t){return C.seqMap(e.commandSymbol,C.alt(e.specialChar,e.takeTill(e.endCmd)),v(t),function(t,e,i){return void 0!==i?k.newTeXComm.apply(void 0,[e].concat(i)):k.newTeXComm(e)}).map(function(t){return t})}function y(t,i,n){return C.seqMap(e.subOrSuperscriptSymbolParser(i,n),v(t),function(t,e){return k.newSubOrSuperScript(t,t===k.SubOrSuperSymbol.SUB?i:n,e)}).map(function(t){return t})}function b(t){return void 0!==t&&!0===t.status}function w(t){return void 0!==t&&!1===t.status}function x(t){if(!b(t))throw new Error("Expected parse to be success: "+JSON.stringify(t));return t}Object.defineProperty(e,"__esModule",{value:!0});var C=i(130),k=i(88),S=i(88),T=i(87),A=i(130);e.defaultParserConf={verbatimEnvironments:["verbatim"]},e.takeTill=function(t){return C.takeWhile(function(e){return!t(e)})};var M=C.regexp(/[^\n]*/),E=C.regexp(/\n?/),O=(C.regexp(/\s*/m),C.string("%")),D=C.string("["),$=C.string("]");e.notTextDefault={$:!0,"%":!0,"\\":!0,"{":!0,"]":!0,"}":!0},e.notTextMathMode={"^":!0,_:!0,$:!0,"%":!0,"\\":!0,"{":!0,"]":!0,"}":!0},e.notTextMathModeAndNotClosingBracket={"^":!0,_:!0,$:!0,"%":!0,"\\":!0,"{":!0,"}":!0},e.notTextDefaultAndNotClosingBracket={$:!0,"%":!0,"\\":!0,"{":!0,"}":!0},e.textParser=l;var j=(l(e.notTextDefault),l(e.notTextDefaultAndNotClosingBracket),C.regexp(/ */).map(S.newTeXRaw));e.comment=O.then(M).skip(E).map(k.newTeXComment),e.specialCharsDefault={"'":!0,"(":!0,")":!0,",":!0,".":!0,"-":!0,'"':!0,"!":!0,"^":!0,$:!0,"&":!0,"#":!0,"{":!0,"}":!0,"%":!0,"~":!0,"|":!0,"/":!0,":":!0,";":!0,"=":!0,"[":!0,"]":!0,"\\":!0,"`":!0," ":!0},e.isSpecialCharacter=u,e.isNotText=c,e.mathSymbol=C.string("$"),e.commandSymbol=C.string("\\"),e.latexBlockParser=h,e.latexBlockParserTextMode=C.lazy(function(){return C.alt(C.alt(l(e.notTextDefault),e.dolMath,e.comment,l(e.notTextDefaultAndNotClosingBracket),e.environment,_("Paragraph")))}),e.latexBlockParserMathMode=function(t,i){return C.lazy(function(){return C.alt(C.alt(y("Math",t,i),l(e.notTextMathMode),e.dolMath,e.comment,l(e.notTextMathModeAndNotClosingBracket),e.environment,_("Math")))})},e.latexParser=e.latexBlockParserTextMode.many();var P=C.string("{").then(e.latexBlockParserTextMode.many()).skip(C.string("}"));e.env=C.Parser(function(t,i){var n=C.string("\\begin").then(C.string("{")).then(j).then(C.regexp(/[a-zA-Z]+/)).skip(j).skip(C.string("}"))._(t,i);if(w(n))return n;i=T.mustBeNumber(n.index);var r=n.value;return o(e.latexBlockParserTextMode,C.string("\\end").then(C.string("{")).then(j).then(C.string(r)).then(j).then(C.string("}"))).map(function(t){return k.newTeXEnv(r,t)})._(t,i)}),e.environment=C.alt(P,e.env),e.specialChar=C.test(u),e.endCmd=function(t){return!f(t)&&!d(t)};var R=C.string("{"),I=C.string("}");e.fixArg=p,e.optArg=g,e.cmdArg=m,e.cmdArgs=v,e.command=_,e.subOrSuperscriptSymbolParser=function(t,e){return C.alt(C.string(t),C.string(e)).map(function(e){return e===t?k.SubOrSuperSymbol.SUB:k.SubOrSuperSymbol.SUP})},e.shiftedScript=y,e.dolMath=function(t,e,i){return void 0===t&&(t="Dollar"),void 0===e&&(e="$"),void 0===i&&(i="$"),C.string(e).then(h("Math","_").many().map(function(n){return k.newTeXMath(t,e,i,n)})).skip(C.string(i))}(),e.isOk=b,e.isNotOk=w,e.mustBeOk=x},function(t,e,i){"use strict";function n(t){return"string"==typeof t}function r(t,e){var i=t;do{t++}while(d.isTeXChar(e[t]));return{result:e.slice(i,t).map(function(t){return t.string}).join(""),blockIndex:t}}function a(t,e,i,r){var a=h(t,r);if(n(a))return{result:a,blockIndex:e+1};for(var o=[],l=[];o.length<a.argumentCount&&e<i.length-1;){e++;var u=e;if(i.length<u-1)throw new Error("Could not gobble "+a.argumentCount+" arguments for "+r.name);var c=i[u];if(d.isTeXRaw(c)){for(var f=/\s+/g,p=c.text.replace(x,""),g=-1,m=0;o.length<a.argumentCount;){var v=f.exec(p);if(!v){o.push.apply(o,w.convertToTeXCharsDefault(p));break}var _=p.substring(m,v.index);g=v.index,m=v.index+_.length,o.push.apply(o,w.convertToTeXCharsDefault(_))}g>=0&&l.push(p.substring(g))}else o.push(c)}e++;var y=o.map(function(e){return s(t,[e]).result}).map(d.newTeXRaw).map(function(t){return d.newFixArg([t])});if(y.length<a.argumentCount)throw new Error("Could not find enough arguments for command \\"+a.name+". Expected "+a.argumentCount+", but found "+y.length);var b=[a.apply(function(){},y)];return l.length>0&&b.push(l.join("")),{result:b.join(""),blockIndex:e}}function o(t){return void 0!==t&&"string"==typeof t.string&&"number"==typeof t.category}function s(t,e){var i=0;if(e.length<=0)return{result:"",blockIndex:i};for(var n=[];i<e.length;){var l=e[i];try{if(o(l)){var u=r(i,e);i=u.blockIndex,n.push(u.result)}else if(d.isTeXComm(l)){var c=a(t,i,e,l);i=c.blockIndex,n.push(c.result)}else if(d.isFixArg(l)||d.isOptArg(l)){var c=s(t,l.latex);n.push(c.result),i++}else if(d.isTextHaving(l))n.push(l.text),i++;else{if(d.isTeXMath(l))return s(t,l.latex);if(d.isTeXRaw(l))n.push(l.text),i++;else if(d.isSubOrSuperScript(l)){var h=l.arguments?l.arguments:[],c=a(t,i,e,d.newTeXComm.apply(void 0,[l.type===d.SubOrSuperSymbol.SUB?"mathsubscript":"mathsuperscript"].concat(h)));i=c.blockIndex,n.push(c.result)}else{if(!d.isArray(l))throw new Error("Can't handle LaTeX block yet: "+JSON.stringify(l)+". Leave an issue at https://github.com/digitalheir/tex-to-unicode/issues");var c=s(t,l);n.push(c.result),i++}}}catch(e){if(void 0===t.onError)throw e;var f=t.onError(e,l);if(void 0===f)throw e;n.push(f),i++}}return{result:n.join(""),blockIndex:i}}function l(t,e){if(e.arguments.length>0){var i=m.expand1argsCommand(e.name,s(t,[e.arguments[0]]).result||"");return e.arguments.length>1?i+s(t,e.arguments.slice(1)).result:i}return g.createCommandHandler(e.name,0,1,function(i,n){var r=n[0],a=n.slice(1);return m.expand1argsCommand(e.name,s(t,[r]).result)+s(t,a).result})}function u(t,e){if(e.arguments.length>1){var i=y.expand2argsCommand(e.name,s(t,[e.arguments[0]]).result||"",s(t,[e.arguments[1]]).result||"");return e.arguments.length>2?i+s(t,e.arguments.slice(1)).result:i}return g.createCommandHandler(e.name,0,2,function(i,n){var r=n[0],a=n[1],o=n.slice(2);return y.expand2argsCommand(e.name,s(t,[r]).result,s(t,[a]).result)+s(t,o).result})}function c(t,e){for(var i=void 0,n=void 0,r=0;void 0===n&&r<e.arguments.length;){var a=e.arguments[r],o=s(t,[a]).result;d.isOptArg(a)&&!i?i=o:n=o,r++}return n?_.convertSqrtToUnicode(n,i):g.createCommandHandler(e.name,1,1,function(e,i){var n=i[0],r=_.convertSqrtToUnicode(s(t,[n]).result);if(i.length>1){var a=i.slice(1);return r+s(t,a).result}return r})}function h(t,e){var i=e.name,n=p.expand0argsCommand(i);if(n)return e.arguments&&e.arguments.length>0?n+s(t,e.arguments).result:n;if(v.is1argsCommand(i))return l(t,e);if(b.is2argsCommand(i))return u(t,e);if("sqrt"===i)return c(t,e);throw f.unknownCommandError(i)}Object.defineProperty(e,"__esModule",{value:!0});var d=i(86),f=i(131),p=i(204),g=i(132),m=i(211),v=i(135),_=i(236),y=i(237),b=i(240),w=i(129),x=/^\s*/;e.isTeXChar2=o,e.convertLaTeXBlocksToUnicode=s,e.convertCommand=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(205),r=i(206),a=i(207),o=i(208),s=i(209),l=i(210);e.expand0argsCommand=function(t){for(var e=0,i=[a.barredLUnicode,n.spaceUnicode,o.slashedOUnicode,r.characterUnicode,l.specialCharacter,s.cyrillicUnicode];e<i.length;e++){var u=i[e],c=u(t);if(c)return c}}},function(t,e,i){"use strict";function n(t){return e.spaceCharactersUnicode.hasOwnProperty(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.mathSpace="芇",e.spaceCharactersUnicode={",":" ",quad:" ",qquad:"  "," ":" ",space:" ",";":"　",":":"　",hfill:"\t"},e.isSpaceCharactersUnicode=n,e.spaceUnicode=function(t){return n(t)?e.spaceCharactersUnicode[t]:void 0}},function(t,e,i){"use strict";function n(t){return e.characterUnicodeChart.hasOwnProperty(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.characterUnicodeChart={leftrightsquigarrow:"↭",Longleftrightarrow:"⟺",blacktriangleright:"▶",longleftrightarrow:"⟷",blacktriangledown:"▼",blacktriangleleft:"◀",leftrightharpoons:"⇋",rightleftharpoons:"⇌",twoheadrightarrow:"↠",circlearrowright:"↻",downharpoonright:"⇂",rightharpoondown:"⇁",rightrightarrows:"⇉",twoheadleftarrow:"↞",vartriangleright:"⊳",bigtriangledown:"▽",circlearrowleft:"↺",curvearrowright:"↷",downharpoonleft:"⇃",leftharpoondown:"↽",leftrightarrows:"⇆",rightleftarrows:"⇄",rightsquigarrow:"⇝",rightthreetimes:"⋌",trianglerighteq:"⊵",vartriangleleft:"⊲",Leftrightarrow:"⇔",Longrightarrow:"⟹",curvearrowleft:"↶",dashrightarrow:"⇢",doublebarwedge:"⩞",downdownarrows:"⇊",hookrightarrow:"↪",leftleftarrows:"⇇",leftrightarrow:"↔",leftthreetimes:"⋋",longrightarrow:"⟶",looparrowright:"↬",rightarrowtail:"↣",rightharpoonup:"⇀",sphericalangle:"∢",textregistered:"®",trianglelefteq:"⊴",upharpoonright:"↾",Longleftarrow:"⟸",bigtriangleup:"△",blacktriangle:"▲",dashleftarrow:"⇠",divideontimes:"⋇",fallingdotseq:"≒",hookleftarrow:"↩",leftarrowtail:"↢",leftharpoonup:"↼",longleftarrow:"⟵",looparrowleft:"↫",measuredangle:"∡",shortparallel:"∥",smallsetminus:"∖",texttrademark:"™",triangleright:"▷",upharpoonleft:"↿",blacklozenge:"◆",risingdotseq:"≓",triangledown:"▽",triangleleft:"◁",Rrightarrow:"⇛",Updownarrow:"⇕",backepsilon:"∍",blacksquare:"■",circledcirc:"⊚",circleddash:"⊝",curlyeqprec:"⋞",curlyeqsucc:"⋟",diamondsuit:"♢",preccurlyeq:"≼",succcurlyeq:"≽",textgreater:">",thickapprox:"≈",updownarrow:"↕",vartriangle:"△",Lleftarrow:"⇚",Rightarrow:"⇒",circledast:"⊛",complement:"∁",curlywedge:"⋏",longmapsto:"⟼",registered:"®",rightarrow:"→",smallfrown:"⌢",smallsmile:"⌣",sqsubseteq:"⊑",sqsupseteq:"⊒",textlangle:"〈",textrangle:"〉",upuparrows:"⇈",varepsilon:"ε",varnothing:"∅",Downarrow:"⇓",Leftarrow:"⇐",backprime:"‵",bigotimes:"⨂",centerdot:"⋅",copyright:"©",downarrow:"↓",gtreqless:"⋛",heartsuit:"♡",leftarrow:"←",lesseqgtr:"⋚",pitchfork:"⋔",spadesuit:"♠",therefore:"∴",trademark:"™",triangleq:"≜",varpropto:"∝",approxeq:"≊",barwedge:"⊼",bigoplus:"⨁",bigsqcup:"⨆",biguplus:"⨄",bigwedge:"⋀",boxminus:"⊟",boxtimes:"⊠",circledS:"Ⓢ",clubsuit:"♣",curlyvee:"⋎",doteqdot:"≑",emptyset:"∅",intercal:"⊺",leqslant:"⩽",multimap:"⊸",parallel:"∥",setminus:"∖",sqsubset:"⊏",sqsupset:"⊐",subseteq:"⊆",supseteq:"⊇",textless:"<",thicksim:"∼",triangle:"△",varkappa:"ϰ",varsigma:"ς",vartheta:"ϑ",Diamond:"◇",Uparrow:"⇑",Upsilon:"Υ",backsim:"∽",because:"∵",between:"≬",bigodot:"⨀",bigstar:"★",boxplus:"⊞",ddagger:"‡",diamond:"⋄",digamma:"Ϝ",dotplus:"∔",epsilon:"∊",gtrless:"≷",implies:"⇒",leadsto:"↝",lessdot:"⋖",lessgtr:"≶",lesssim:"≲",lozenge:"◊",natural:"♮",nearrow:"↗",nexists:"∄",nwarrow:"↖",partial:"∂",pilcrow:"¶",precsim:"≾",searrow:"↘",section:"§",succsim:"≿",swarrow:"↙",textbar:"|",uparrow:"↑",upsilon:"υ",Bumpeq:"≎",Lambda:"Λ",Subset:"⋐",Supset:"⋑",Vvdash:"⊪",approx:"≈",bigcap:"⋂",bigcup:"⋃",bigvee:"⋁",bowtie:"⋈",boxdot:"⊡",bullet:"∙",bumpeq:"≏",circeq:"≗",coprod:"∐",dagger:"†",daleth:"ד",degree:"°",eqcirc:"≖",exists:"∃",forall:"∀",gtrdot:"⋗",gtrsim:"≳",hslash:"ℏ",lambda:"λ",lfloor:"⌊",ltimes:"⋉",mapsto:"↦",models:"⊨",ominus:"⊖",oslash:"⊘",otimes:"⊗",preceq:"⪯",propto:"∝",rfloor:"⌋",rtimes:"⋊",square:"□",subset:"⊂",succeq:"⪰",supset:"⊃",varphi:"φ",varrho:"ϱ",veebar:"⊻",Delta:"Δ",Gamma:"Γ",Omega:"Ω",Theta:"Θ",Vdash:"⊩",aleph:"ℵ",Alpha:"Α",alpha:"α",angle:"∠",asymp:"≍",cdots:"⋯",cents:"¢",dashv:"⊣",ddots:"⋱",delta:"δ",doteq:"≐",equiv:"≡",frown:"⌢",gamma:"γ",gimel:"ℷ",infty:"∞",kappa:"κ",Kappa:"Κ",lceil:"⌈",nabla:"∇",notin:"∉",omega:"ω",oplus:"⊕",pound:"£",prime:"′",qquad:"  ",rceil:"⌉",sharp:"♯",sigma:"σ",simeq:"≃",smile:"⌣",space:"␣",sqcap:"⊓",sqcup:"⊔",theta:"θ",times:"×",unlhd:"⊴",unrhd:"⊵",uplus:"⊎",vDash:"⊨",varpi:"ϖ",vdash:"⊢",vdots:"⋮",wedge:"∧",Finv:"Ⅎ",Join:"⋈",atop:"¦",beta:"β",Beta:"Β",beth:"ב",cdot:"⋅",circ:"∘",cong:"≅",dots:"…",euro:"€",flat:"♭",geqq:"≧",hbar:"ℏ",iota:"ι",leqq:"≦",odot:"⊙",oint:"∮",perp:"⊥",prec:"≺",prod:"∏",quad:" ",star:"⋆",succ:"≻",surd:"√",zeta:"ζ",Box:"□",Cap:"⋒",Cup:"⋓",Lsh:"↰",Phi:"Φ",Psi:"Ψ",Rsh:"↱",ast:"∗",bot:"⊥",cap:"∩",chi:"χ",Chi:"Χ",cup:"∪",div:"÷",ell:"ℓ",eta:"η",eth:"ð",geq:"≥",ggg:"⋙",int:"∫",leq:"≤",lhd:"⊲",lll:"⋘",mho:"℧",mid:"∣",neg:"¬",neq:"≠",phi:"ϕ",psi:"ψ",rhd:"⊳",rho:"ρ",Rho:"Ρ",sim:"∼",sum:"∑",tau:"τ",Tau:"Τ",top:"⊤",vee:"∨",Im:"ℑ",Pi:"Π",Re:"ℜ",Xi:"Ξ",ge:"≥",gg:"≫",in:"∈",le:"≤",ll:"≪",mp:"∓",mu:"μ",Mu:"Μ",ni:"∋",nu:"ν",Nu:"Ν",pi:"π",pm:"±",wp:"℘",wr:"≀",xi:"ξ",Omicron:"Ο",omicron:"ο",textdollar:"$",textquotesingle:"'",textbackslash:"\\",textasciigrave:"`",lbrace:"{",vert:"|",rbrace:"}",textasciitilde:"~",textexclamdown:"¡",textcent:"¢",textsterling:"£",textcurrency:"¤",textyen:"¥",textbrokenbar:"¦",textsection:"§",textasciidieresis:"¨",textcopyright:"©",textordfeminine:"ª",guillemotleft:"«",lnot:"¬",textasciimacron:"¯",textdegree:"°",textasciiacute:"´",textparagraph:"¶",textordmasculine:"º",guillemotright:"»",textonequarter:"¼",textonehalf:"½",textthreequarters:"¾",textquestiondown:"¿",AA:"Å",AE:"Æ",DH:"Ð",texttimes:"×",TH:"Þ",ss:"ß",aa:"å",ae:"æ",dh:"ð",th:"þ",DJ:"Đ",dj:"đ",Elzxh:"ħ",i:"ı",NG:"Ŋ",ng:"ŋ",OE:"Œ",oe:"œ",texthvlig:"ƕ",textnrleg:"ƞ",textdoublepipe:"ǂ",Elztrna:"ɐ",Elztrnsa:"ɒ",Elzopeno:"ɔ",Elzrtld:"ɖ",Elzschwa:"ə",Elzpgamma:"ɣ",Elzpbgam:"ɤ",Elztrnh:"ɥ",Elzbtdl:"ɬ",Elzrtll:"ɭ",Elztrnm:"ɯ",Elztrnmlr:"ɰ",Elzltlmr:"ɱ",Elzltln:"ɲ",Elzrtln:"ɳ",Elzclomeg:"ɷ",textphi:"ɸ",Elztrnr:"ɹ",Elztrnrl:"ɺ",Elzrttrnr:"ɻ",Elzrl:"ɼ",Elzrtlr:"ɽ",Elzfhr:"ɾ",Elzrtls:"ʂ",Elzesh:"ʃ",Elztrnt:"ʇ",Elzrtlt:"ʈ",Elzpupsil:"ʊ",Elzpscrv:"ʋ",Elzinvv:"ʌ",Elzinvw:"ʍ",Elztrny:"ʎ",Elzrtlz:"ʐ",Elzyogh:"ʒ",Elzglst:"ʔ",Elzreglst:"ʕ",Elzinglst:"ʖ",textturnk:"ʞ",Elzdyogh:"ʤ",Elztesh:"ʧ",textasciicaron:"ˇ",Elzverts:"ˈ",Elzverti:"ˌ",Elzlmrk:"ː",Elzhlmrk:"ˑ",Elzsbrhr:"˒",Elzsblhr:"˓",Elzrais:"˔",Elzlow:"˕",textasciibreve:"˘",textperiodcentered:"˙",texttildelow:"˜",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Iota:"Ι",Sigma:"Σ",texttheta:"θ",textvartheta:"ϑ",Stigma:"Ϛ",Digamma:"Ϝ",Koppa:"Ϟ",Sampi:"Ϡ",textTheta:"ϴ",textendash:"–",textemdash:"—",Vert:"‖",Elzreapos:"‛",textquotedblleft:"“",textquotedblright:"”",textdagger:"†",textdaggerdbl:"‡",textbullet:"•",ldots:"…",textperthousand:"‰",textpertenthousand:"‱",guilsinglleft:"‹",guilsinglright:"›",nolinebreak:"⁠",Elzxrat:"℞",nleftarrow:"↚",nrightarrow:"↛",arrowwaveleft:"↜",arrowwaveright:"↝",nleftrightarrow:"↮",dblarrowupdown:"⇅",nLeftarrow:"⇍",nLeftrightarrow:"⇎",nRightarrow:"⇏",DownArrowUpArrow:"⇵",rightangle:"∟",nmid:"∤",nparallel:"∦",surfintegral:"∯",volintegral:"∰",clwintegral:"∱",Colon:"∷",homothetic:"∻",lazysinv:"∾",NotEqualTilde:"≂",approxnotequal:"≆",tildetrpl:"≋",allequal:"≌",NotHumpDownHump:"≎",NotHumpEqual:"≏",estimates:"≙",starequal:"≛",lneqq:"≨",lvertneqq:"≨",gneqq:"≩",gvertneqq:"≩",NotLessLess:"≪",NotGreaterGreater:"≫",lessequivlnt:"≲",greaterequivlnt:"≳",notlessgreater:"≸",notgreaterless:"≹",precapprox:"≾",NotPrecedesTilde:"≾",succapprox:"≿",NotSucceedsTilde:"≿",subsetneq:"⊊",varsubsetneqq:"⊊",supsetneq:"⊋",varsupsetneq:"⊋",NotSquareSubset:"⊏",NotSquareSuperset:"⊐",truestate:"⊧",forcesextra:"⊨",VDash:"⊫",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",original:"⊶",image:"⊷",hermitconjmatrix:"⊹",rightanglearc:"⊾",backsimeq:"⋍",verymuchless:"⋘",verymuchgreater:"⋙",Elzsqspne:"⋥",lnsim:"⋦",gnsim:"⋧",precedesnotsimilar:"⋨",succnsim:"⋩",ntriangleleft:"⋪",ntriangleright:"⋫",ntrianglelefteq:"⋬",ntrianglerighteq:"⋭",upslopeellipsis:"⋰",downslopeellipsis:"⋱",perspcorrespond:"⌆",recorder:"⌕",ulcorner:"⌜",urcorner:"⌝",llcorner:"⌞",lrcorner:"⌟",langle:"〈",rangle:"〉",Elzdlcorn:"⎣",lmoustache:"⎰",rmoustache:"⎱",textvisiblespace:"␣",Elzdshfnc:"┆",Elzsqfnw:"┙",diagup:"╱",Elzvrecto:"▯",Elzcirfl:"◐",Elzcirfr:"◑",Elzcirfb:"◒",Elzrvbull:"◘",Elzsqfl:"◧",Elzsqfr:"◨",Elzsqfse:"◪",bigcirc:"◯",rightmoon:"☾",mercury:"☿",venus:"♀",male:"♂",jupiter:"♃",saturn:"♄",uranus:"♅",neptune:"♆",pluto:"♇",aries:"♈",taurus:"♉",gemini:"♊",cancer:"♋",leo:"♌",virgo:"♍",libra:"♎",scorpio:"♏",sagittarius:"♐",capricornus:"♑",aquarius:"♒",pisces:"♓",quarternote:"♩",eighthnote:"♪",UpArrowBar:"⤒",DownArrowBar:"⤓",Elolarr:"⥀",Elorarr:"⥁",ElzRlarr:"⥂",ElzrLarr:"⥄",Elzrarrx:"⥇",LeftRightVector:"⥎",RightUpDownVector:"⥏",DownLeftRightVector:"⥐",LeftUpDownVector:"⥑",LeftVectorBar:"⥒",RightVectorBar:"⥓",RightUpVectorBar:"⥔",RightDownVectorBar:"⥕",DownLeftVectorBar:"⥖",DownRightVectorBar:"⥗",LeftUpVectorBar:"⥘",LeftDownVectorBar:"⥙",LeftTeeVector:"⥚",RightTeeVector:"⥛",RightUpTeeVector:"⥜",RightDownTeeVector:"⥝",DownLeftTeeVector:"⥞",DownRightTeeVector:"⥟",LeftUpTeeVector:"⥠",LeftDownTeeVector:"⥡",UpEquilibrium:"⥮",ReverseUpEquilibrium:"⥯",RoundImplies:"⥰",Elztfnc:"⦀",Elroang:"⦆",Elzddfnc:"⦙",Angle:"⦜",Elzlpargt:"⦠",ElzLap:"⧊",Elzdefas:"⧋",LeftTriangleBar:"⧏",NotLeftTriangleBar:"⧏",RightTriangleBar:"⧐",NotRightTriangleBar:"⧐",RuleDelayed:"⧴",Elxuplus:"⨄",ElzThr:"⨅",Elxsqcup:"⨆",ElzInf:"⨇",ElzSup:"⨈",ElzCint:"⨍",clockoint:"⨏",sqrint:"⨖",ElzTimes:"⨯",amalg:"⨿",ElzAnd:"⩓",ElzOr:"⩔",ElOr:"⩖",Elzminhat:"⩟",Equal:"⩵",nleqslant:"⩽",geqslant:"⩾",ngeqslant:"⩾",lessapprox:"⪅",gtrapprox:"⪆",lneq:"⪇",gneq:"⪈",lnapprox:"⪉",gnapprox:"⪊",lesseqqgtr:"⪋",gtreqqless:"⪌",eqslantless:"⪕",eqslantgtr:"⪖",NestedLessLess:"⪡",NotNestedLessLess:"⪡",NestedGreaterGreater:"⪢",NotNestedGreaterGreater:"⪢",precneqq:"⪵",succneqq:"⪶",precnapprox:"⪹",succnapprox:"⪺",subseteqq:"⫅",nsubseteqq:"⫅",supseteqq:"⫆",subsetneqq:"⫋",supsetneqq:"⫌",Elztdcol:"⫶",openbracketleft:"〚",openbracketright:"〛"},e.isCharacterUnicode=n,e.characterUnicode=function(t){return n(t)?e.characterUnicodeChart[t]:void 0}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.barredLUnicodeChart={l:"ł",L:"Ł"},e.barredLUnicode=function(t){return e.barredLUnicodeChart[t]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.slashed_o="ø",e.slashed_O="Ø",e.slashedOUnicodeChart={o:e.slashed_o,O:e.slashed_O},e.slashedOUnicode=function(t){return e.slashedOUnicodeChart[t]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cyrillicUnicodeChart={CYRF:"Ф",CYRII:"І",CYROMEGA:"Ѡ",CYRG:"Г",cyrkvcrs:"ҝ",cyryo:"ё",CYRH:"Х",CYRZHDSC:"Җ",cyrphk:"ҧ",CYRTDSC:"Ҭ",CYRI:"И",cyryi:"ї",CYRDZHE:"Џ",cyriote:"ѥ",CYRK:"К",CYRSHHA:"Һ",CYRL:"Л",CYRM:"М",CYRCHLDSC:"Ӌ",CYRNJE:"Њ",CYRYAT:"Ѣ",CYRA:"А",CYRB:"Б",cyrchrdsc:"ҷ",cyrschwa:"ә",CYRDZE:"Ѕ",CYRIE:"Є",CYRC:"Ц",CYRZH:"Ж",CYRD:"Д",CYRABHCHDSC:"Ҿ",CYRFITA:"Ѳ",CYRE:"Е",CYRABHHA:"Ҩ",cyrya:"я",cyrdzhe:"џ",CYRIOTLYUS:"Ѩ",cyrsemisftsn:"ҍ",CYRV:"В",cyrishrt:"й",cyrdje:"ђ",cyrchldsc:"ӌ",CYRY:"Ү",cyrndsc:"ң",CYRZ:"З",CYRKHCRS:"Ҟ",CYRNG:"Ҥ",CYRCHRDSC:"Ҷ",CYRYHCRS:"Ұ",CYRSHCH:"Щ",CYRUSHRT:"Ў",cyryu:"ю",cyrksi:"ѯ",CYRN:"Н",CYRO:"О",CYRBYUS:"Ѫ",CYRP:"П",CYRZDSC:"Ҙ",CYRAE:"Ӕ",CYRR:"Р",CYRS:"С",CYRT:"Т",CYRABHCH:"Ҽ",cyruk:"ѹ",CYRU:"У",cyrii:"і",CYRSEMISFTSN:"Ҍ",cyrghcrs:"ғ",CYRISHRT:"Й",cyromegatitlo:"ѽ",cyrkbeak:"ҡ",cyrie:"є",cyrzdsc:"ҙ",CYRNDSC:"Ң",CYRGUP:"Ґ",cyrshch:"щ",CYRKHK:"Ӄ",cyrzh:"ж",CYRJE:"Ј",cyrthousands:"҂",cyrabhch:"ҽ",textnumero:"№",cyrng:"ҥ",CYRPSI:"Ѱ",CYRTETSE:"Ҵ",CYRIOTBYUS:"Ѭ",cyrnje:"њ",CYRIOTE:"Ѥ",cyrdze:"ѕ",cyrae:"ӕ",CYRHRDSN:"Ъ",CYRKOPPA:"Ҁ",CYRRTICK:"Ҏ",CYRSCHWA:"Ә",cyrtdsc:"ҭ",CYRGHK:"Ҕ",cyrabhha:"ҩ",cyrshha:"һ",CYRSH:"Ш",cyru:"у",cyrkhcrs:"ҟ",cyrt:"т",CYRERY:"Ы",cyrs:"с",cyrr:"р",CYROT:"Ѿ",cyrlyus:"ѧ",CYRNHK:"Ӈ",CYRSFTSN:"Ь",cyrghk:"ҕ",cyrp:"п",cyrabhdze:"ӡ",cyro:"о",CYRTSHE:"Ћ",cyrn:"н",CYRSDSC:"Ҫ",cyryhcrs:"ұ",cyrpsi:"ѱ",cyrz:"з",cyry:"ү",cyrje:"ј",cyrv:"в",cyrchvcrs:"ҹ",cyrkhk:"ӄ",cyre:"е",cyromega:"ѡ",cyrd:"д",cyrc:"ц",cyrb:"б",CYROTLD:"Ө",cyrgup:"ґ",CYRLJE:"Љ",cyra:"а",CYROMEGATITLO:"Ѽ",CYRGHCRS:"Ғ",CYRCHVCRS:"Ҹ",cyrm:"м",cyrl:"л",cyrsh:"ш",cyrk:"к",cyri:"и",cyrh:"х",CYRHDSC:"Ҳ",CYRIZH:"Ѵ",CYRABHDZE:"Ӡ",cyrkdsc:"қ",cyrg:"г",CYRCH:"Ч",cyrf:"ф",CYRYI:"Ї",cyrmillions:"҉",CYRKSI:"Ѯ",CYROMEGARND:"Ѻ",cyrot:"ѿ",cyrtetse:"ҵ",cyrhdsc:"ҳ",cyrushrt:"ў",cyriotlyus:"ѩ",CYRYA:"Я",cyrlje:"љ",cyrotld:"ө",CYRKDSC:"Қ",cyrhrdsn:"ъ",cyrrtick:"ҏ",cyrkoppa:"ҁ",CYRDJE:"Ђ",cyriotbyus:"ѭ",cyrhundredthousands:"҈",CYRpalochka:"Ӏ",CYRKVCRS:"Ҝ",cyromegarnd:"ѻ",cyrsftsn:"ь",cyrabhchdsc:"ҿ",cyrzhdsc:"җ",cyrerev:"э",CYRLYUS:"Ѧ",CYRKBEAK:"Ҡ",cyrery:"ы",CYREREV:"Э",cyrnhk:"ӈ",cyrsdsc:"ҫ",cyrch:"ч",cyrtshe:"ћ",CYRPHK:"Ҧ",CYRYO:"Ё",CYRYU:"Ю",CYRUK:"Ѹ"},e.cyrillicUnicode=function(t){return e.cyrillicUnicodeChart[t]}},function(t,e,i){"use strict";function n(t){return e.specialCharacters.hasOwnProperty(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.specialCharacters={i:"ı",j:"ȷ",oe:"œ",OE:"Œ",ae:"æ",AE:"Æ",aa:"å",AA:"Å",o:"ø",O:"Ø",ss:"ß",l:"ł",L:"Ł"},e.isSpecialCharacter=n,e.specialCharacter=function(t){return n(t)?e.specialCharacters[t]:void 0}},function(t,e,i){"use strict";function n(t,e){switch(t){case"cyrchar":var i=o.translateCharToCyrillic(e);if(i)return i;break;default:for(var n=0,s=[r.diacriticUnicode,a.formattingUnicode];n<s.length;n++){var l=s[n],u=l(t,e);if(u)return u}}throw new Error("No implementation found to expand \\"+t+" with argument {"+e+"}")}Object.defineProperty(e,"__esModule",{value:!0});var r=i(212),a=i(224),o=i(233);e.expand1argsCommand=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(213),r=i(214),a=i(215),o=i(216),s=i(217),l=i(218),u=i(219),c=i(220),h=i(48),d=i(221),f=i(222),p=i(223);e.barUnderLetter=h.simpleSuffix("̱"),e.dotUnderLetter=h.simpleSuffix("̣"),e.breve=h.simpleSuffix("̆"),e.macrron=h.simpleSuffix("̄"),e.dotOverLetter=h.simpleSuffix("̇"),e.longHungarianUmlaut=h.simpleSuffix("̋"),e.modifiersTextModeUnicodeChart={"`":a.graveAccent,"'":r.acuteAccent,"^":o.circumflex,"~":s.tilde,"=":e.macrron,".":e.dotOverLetter,'"':l.dieresis,H:e.longHungarianUmlaut,c:u.cedilla,k:d.ogonek,b:e.barUnderLetter,d:e.dotUnderLetter,r:n.ringOverLetter,u:e.breve,v:c.caron,t:f.tieLetters},e.modifiersMathModeUnicodeChart={check:c.caron,acute:r.acuteAccent,grave:r.acuteAccent,breve:e.breve,vec:p.vectorArrow,mathring:n.ringOverLetter},e.diacriticUnicode=function(t,i){var n=e.modifiersTextModeUnicodeChart[t];return n||(n=e.modifiersMathModeUnicodeChart[t]),n&&n(i)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(14);e.ringOverLetter=n.lookupOrAppend({a:"å",A:"Å",y:"ẙ"},"̊")},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(14);e.acuteAccent=n.lookupOrAppend({e:"é",y:"ý",u:"ú",i:"í",o:"ó",a:"á",E:"É",Y:"Ý",U:"Ú",I:"Í",O:"Ó",A:"Á",cyrk:"ќ",cyrg:"ѓ",CYRK:"Ќ",CYRG:"Ѓ"},"́")},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(14);e.graveAccent=n.lookupOrAppend({e:"è",u:"ù",i:"ì",o:"ò",a:"à",E:"È",U:"Ù",I:"Ì",O:"Ò",A:"À"},"̀")},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(14);e.circumflex=n.lookupOrAppend({e:"ê",u:"û",i:"î",o:"ô",a:"â",E:"Ê",U:"Û",I:"Î",O:"Ô",A:"Â"},"̂")},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(14);e.tilde=n.lookupOrAppend({o:"õ",a:"ã",n:"ñ",O:"Õ",A:"Ã",N:"Ñ"},"̃")},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(14);e.dieresis=n.lookupOrAppend({e:"ë",y:"ÿ",u:"ü",i:"ï",o:"ö",a:"ä",E:"Ë",Y:"Ÿ",U:"Ü",I:"Ï",O:"Ö",A:"Ä"},"̈")},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(14);e.cedilla=n.lookupOrAppend({c:"ç"},"̧")},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(14);e.caron=n.lookupOrAppend({s:"š"},"̌")},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(48);e.ogonek=n.simpleSuffix("̨")},function(t,e,i){"use strict";function n(t){return r(t.charAt(0),t.substring(1))}function r(t,e){return t+"͡"+e}function a(t){return"t"===t}Object.defineProperty(e,"__esModule",{value:!0}),e.tieLetters=n,e.tie2Letters=r,e.isTieLetters=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(14);e.vectorArrow=n.lookupOrAppend({},"⃗")},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(225),r=i(226),a=i(227),o=i(228),s=i(229),l=i(230),u=i(133),c=i(231),h=i(134),d=i(232);e.formattingUnicode=function(t,e){var i=void 0;if(u.isBbCmd(t)?i=n.translateCharToBlackboard:u.isBfCmd(t)?i=r.translateCharToBold:u.isFrakCmd(t)?i=a.translateCharToFraktur:u.isItCmd(t)?i=o.translateCharToItalic:u.isTtCmd(t)?i=s.translateCharToMonospace:u.isCalCmd(t)?i=l.translateCharToCalligraphic:u.isSubCmd(t)?i=c.translateCharToSubscript:u.isSupCmd(t)?i=h.translateCharToSuperscript:u.isMonoCmd(t)&&(i=d.translateCharToMono),i){var f=i;return e.split("").map(function(t){return f(t)||t}).join("")}}},function(t,e,i){"use strict";function n(t){return e.blackboardCharacters.hasOwnProperty(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.blackboardCharacters={A:"𝔸",B:"𝔹",C:"ℂ",D:"𝔻",E:"𝔼",F:"𝔽",G:"𝔾",H:"ℍ",I:"𝕀",J:"𝕁",K:"𝕂",L:"𝕃",M:"𝕄",N:"ℕ",O:"𝕆",P:"ℙ",Q:"ℚ",R:"ℝ",S:"𝕊",T:"𝕋",U:"𝕌",V:"𝕍",W:"𝕎",X:"𝕏",Y:"𝕐",Z:"ℤ",a:"𝕒",b:"𝕓",c:"𝕔",d:"𝕕",e:"𝕖",f:"𝕗",g:"𝕘",h:"𝕙",i:"𝕚",j:"𝕛",k:"𝕜",l:"𝕝",m:"𝕞",n:"𝕟",o:"𝕠",p:"𝕡",q:"𝕢",r:"𝕣",s:"𝕤",t:"𝕥",u:"𝕦",v:"𝕧",w:"𝕨",x:"𝕩",y:"𝕪",z:"𝕫",0:"𝟘",1:"𝟙",2:"𝟚",3:"𝟛",4:"𝟜",5:"𝟝",6:"𝟞",7:"𝟟",8:"𝟠",9:"𝟡"},e.isBlackboardCharacter=n,e.translateCharToBlackboard=function(t){return n(t)?e.blackboardCharacters[t]:void 0}},function(t,e,i){"use strict";function n(t){return e.boldCharacters.hasOwnProperty(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.boldCharacters={A:"𝐀",B:"𝐁",C:"𝐂",D:"𝐃",E:"𝐄",F:"𝐅",G:"𝐆",H:"𝐇",I:"𝐈",J:"𝐉",K:"𝐊",L:"𝐋",M:"𝐌",N:"𝐍",O:"𝐎",P:"𝐏",Q:"𝐐",R:"𝐑",S:"𝐒",T:"𝐓",U:"𝐔",V:"𝐕",W:"𝐖",X:"𝐗",Y:"𝐘",Z:"𝐙",a:"𝐚",b:"𝐛",c:"𝐜",d:"𝐝",e:"𝐞",f:"𝐟",g:"𝐠",h:"𝐡",i:"𝐢",j:"𝐣",k:"𝐤",l:"𝐥",m:"𝐦",n:"𝐧",o:"𝐨",p:"𝐩",q:"𝐪",r:"𝐫",s:"𝐬",t:"𝐭",u:"𝐮",v:"𝐯",w:"𝐰",x:"𝐱",y:"𝐲",z:"𝐳","Α":"𝚨","Β":"𝚩","Γ":"𝚪","Δ":"𝚫","Ε":"𝚬","Ζ":"𝚭","Η":"𝚮","Θ":"𝚯","Ι":"𝚰","Κ":"𝚱","Λ":"𝚲","Μ":"𝚳","Ν":"𝚴","Ξ":"𝚵","Ο":"𝚶","Π":"𝚷","Ρ":"𝚸","ϴ":"𝚹","Σ":"𝚺","Τ":"𝚻","Υ":"𝚼","Φ":"𝚽","Χ":"𝚾","Ψ":"𝚿","Ω":"𝛀","∇":"𝛁","α":"𝛂","β":"𝛃","γ":"𝛄","δ":"𝛅","ε":"𝛆","ζ":"𝛇","η":"𝛈","θ":"𝛉","ι":"𝛊","κ":"𝛋","λ":"𝛌","μ":"𝛍","ν":"𝛎","ξ":"𝛏","ο":"𝛐","π":"𝛑","ρ":"𝛒","ς":"𝛓","σ":"𝛔","τ":"𝛕","υ":"𝛖","φ":"𝛗","χ":"𝛘","ψ":"𝛙","ω":"𝛚","∂":"𝛛","ϵ":"𝛜","ϑ":"𝛝","ϰ":"𝛞","ϕ":"𝛟","ϱ":"𝛠","ϖ":"𝛡",0:"𝟎",1:"𝟏",2:"𝟐",3:"𝟑",4:"𝟒",5:"𝟓",6:"𝟔",7:"𝟕",8:"𝟖",9:"𝟗"},e.isBlackboardCharacter=n,e.translateCharToBold=function(t){return n(t)?e.boldCharacters[t]:void 0}},function(t,e,i){"use strict";function n(t){return e.frakturCharacters.hasOwnProperty(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.frakturCharacters={A:"𝔄",B:"𝔅",C:"ℭ",D:"𝔇",E:"𝔈",F:"𝔉",G:"𝔊",H:"ℌ",I:"ℑ",J:"𝔍",K:"𝔎",L:"𝔏",M:"𝔐",N:"𝔑",O:"𝔒",P:"𝔓",Q:"𝔔",R:"ℜ",S:"𝔖",T:"𝔗",U:"𝔘",V:"𝔙",W:"𝔚",X:"𝔛",Y:"𝔜",Z:"ℨ",a:"𝔞",b:"𝔟",c:"𝔠",d:"𝔡",e:"𝔢",f:"𝔣",g:"𝔤",h:"𝔥",i:"𝔦",j:"𝔧",k:"𝔨",l:"𝔩",m:"𝔪",n:"𝔫",o:"𝔬",p:"𝔭",q:"𝔮",r:"𝔯",s:"𝔰",t:"𝔱",u:"𝔲",v:"𝔳",w:"𝔴",x:"𝔵",y:"𝔶",z:"𝔷"},e.isFrakturCharacter=n,e.translateCharToFraktur=function(t){return n(t)?e.frakturCharacters[t]:void 0}},function(t,e,i){"use strict";function n(t){return e.italicCharacters.hasOwnProperty(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.italicCharacters={A:"𝐴",B:"𝐵",C:"𝐶",D:"𝐷",E:"𝐸",F:"𝐹",G:"𝐺",H:"𝐻",I:"𝐼",J:"𝐽",K:"𝐾",L:"𝐿",M:"𝑀",N:"𝑁",O:"𝑂",P:"𝑃",Q:"𝑄",R:"𝑅",S:"𝑆",T:"𝑇",U:"𝑈",V:"𝑉",W:"𝑊",X:"𝑋",Y:"𝑌",Z:"𝑍",a:"𝑎",b:"𝑏",c:"𝑐",d:"𝑑",e:"𝑒",f:"𝑓",g:"𝑔",h:"ℎ",i:"𝑖",j:"𝑗",k:"𝑘",l:"𝑙",m:"𝑚",n:"𝑛",o:"𝑜",p:"𝑝",q:"𝑞",r:"𝑟",s:"𝑠",t:"𝑡",u:"𝑢",v:"𝑣",w:"𝑤",x:"𝑥",y:"𝑦",z:"𝑧","Α":"𝛢","Β":"𝛣","Γ":"𝛤","Δ":"𝛥","Ε":"𝛦","Ζ":"𝛧","Η":"𝛨","Θ":"𝛩","Ι":"𝛪","Κ":"𝛫","Λ":"𝛬","Μ":"𝛭","Ν":"𝛮","Ξ":"𝛯","Ο":"𝛰","Π":"𝛱","Ρ":"𝛲","ϴ":"𝛳","Σ":"𝛴","Τ":"𝛵","Υ":"𝛶","Φ":"𝛷","Χ":"𝛸","Ψ":"𝛹","Ω":"𝛺","∇":"𝛻","α":"𝛼","β":"𝛽","γ":"𝛾","δ":"𝛿","ε":"𝜀","ζ":"𝜁","η":"𝜂","θ":"𝜃","ι":"𝜄","κ":"𝜅","λ":"𝜆","μ":"𝜇","ν":"𝜈","ξ":"𝜉","ο":"𝜊","π":"𝜋","ρ":"𝜌","ς":"𝜍","σ":"𝜎","τ":"𝜏","υ":"𝜐","φ":"𝜑","χ":"𝜒","ψ":"𝜓","ω":"𝜔","∂":"𝜕","ϵ":"𝜖","ϑ":"𝜗","ϰ":"𝜘","ϕ":"𝜙","ϱ":"𝜚","ϖ":"𝜛"},e.isItalicCharacter=n,e.translateCharToItalic=function(t){return n(t)?e.italicCharacters[t]:void 0}},function(t,e,i){"use strict";function n(t){return e.monospaceCharacters.hasOwnProperty(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.monospaceCharacters={A:"𝙰",B:"𝙱",C:"𝙲",D:"𝙳",E:"𝙴",F:"𝙵",G:"𝙶",H:"𝙷",I:"𝙸",J:"𝙹",K:"𝙺",L:"𝙻",M:"𝙼",N:"𝙽",O:"𝙾",P:"𝙿",Q:"𝚀",R:"𝚁",S:"𝚂",T:"𝚃",U:"𝚄",V:"𝚅",W:"𝚆",X:"𝚇",Y:"𝚈",Z:"𝚉",a:"𝚊",b:"𝚋",c:"𝚌",d:"𝚍",e:"𝚎",f:"𝚏",g:"𝚐",h:"𝚑",i:"𝚒",j:"𝚓",k:"𝚔",l:"𝚕",m:"𝚖",n:"𝚗",o:"𝚘",p:"𝚙",q:"𝚚",r:"𝚛",s:"𝚜",t:"𝚝",u:"𝚞",v:"𝚟",w:"𝚠",x:"𝚡",y:"𝚢",z:"𝚣",0:"𝟶",1:"𝟷",2:"𝟸",3:"𝟹",4:"𝟺",5:"𝟻",6:"𝟼",7:"𝟽",8:"𝟾",9:"𝟿"},e.isMonospaceCharacter=n,e.translateCharToMonospace=function(t){return n(t)?e.monospaceCharacters[t]:void 0}},function(t,e,i){"use strict";function n(t){return e.calligraphicLetters.hasOwnProperty(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.calligraphicLetters={A:"𝓐",B:"𝓑",C:"𝓒",D:"𝓓",E:"𝓔",F:"𝓕",G:"𝓖",H:"𝓗",I:"𝓘",J:"𝓙",K:"𝓚",L:"𝓛",M:"𝓜",N:"𝓝",O:"𝓞",P:"𝓟",Q:"𝓠",R:"𝓡",S:"𝓢",T:"𝓣",U:"𝓤",V:"𝓥",W:"𝓦",X:"𝓧",Y:"𝓨",Z:"𝓩",a:"𝓪",b:"𝓫",c:"𝓬",d:"𝓭",e:"𝓮",f:"𝓯",g:"𝓰",h:"𝓱",i:"𝓲",j:"𝓳",k:"𝓴",l:"𝓵",m:"𝓶",n:"𝓷",o:"𝓸",p:"𝓹",q:"𝓺",r:"𝓻",s:"𝓼",t:"𝓽",u:"𝓾",v:"𝓿",w:"𝔀",x:"𝔁",y:"𝔂",z:"𝔃"},e.isCalligraphicLetter=n,e.translateCharToCalligraphic=function(t){return n(t)?e.calligraphicLetters[t]:void 0}},function(t,e,i){"use strict";function n(t){return e.subscriptCharacters.hasOwnProperty(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.subscriptCharacters={0:"₀",1:"₁",2:"₂",3:"₃",4:"₄",5:"₅",6:"₆",7:"₇",8:"₈",9:"₉","+":"₊","-":"₋","=":"₌","(":"₍",")":"₎",a:"ₐ",e:"ₑ",h:"ₕ",i:"ᵢ",j:"ⱼ",k:"ₖ",l:"ₗ",m:"ₘ",n:"ₙ",o:"ₒ",p:"ₚ",r:"ᵣ",s:"ₛ",t:"ₜ",u:"ᵤ",v:"ᵥ",x:"ₓ","β":"ᵦ","γ":"ᵧ","ρ":"ᵨ","φ":"ᵩ","χ":"ᵪ"},e.isSubscriptCharacter=n,e.translateCharToSubscript=function(t){return n(t)?e.subscriptCharacters[t]:void 0}},function(t,e,i){"use strict";function n(t){return e.monoCharacters.hasOwnProperty(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.monoCharacters={A:"𝙰",B:"𝙱",C:"𝙲",D:"𝙳",E:"𝙴",F:"𝙵",G:"𝙶",H:"𝙷",I:"𝙸",J:"𝙹",K:"𝙺",L:"𝙻",M:"𝙼",N:"𝙽",O:"𝙾",P:"𝙿",Q:"𝚀",R:"𝚁",S:"𝚂",T:"𝚃",U:"𝚄",V:"𝚅",W:"𝚆",X:"𝚇",Y:"𝚈",Z:"𝚉",a:"𝚊",b:"𝚋",c:"𝚌",d:"𝚍",e:"𝚎",f:"𝚏",g:"𝚐",h:"𝚑",i:"𝚒",j:"𝚓",k:"𝚔",l:"𝚕",m:"𝚖",n:"𝚗",o:"𝚘",p:"𝚙",q:"𝚚",r:"𝚛",s:"𝚜",t:"𝚝",u:"𝚞",v:"𝚟",w:"𝚠",x:"𝚡",y:"𝚢",z:"𝚣",0:"𝟶",1:"𝟷",2:"𝟸",3:"𝟹",4:"𝟺",5:"𝟻",6:"𝟼",7:"𝟽",8:"𝟾",9:"𝟿"},e.isMonoCharacter=n,e.translateCharToMono=function(t){return n(t)?e.monoCharacters[t]:void 0}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cyrillicCharacters={"Ф":"Ф","І":"І","Ѡ":"Ѡ","Г":"Г","ҝ":"ҝ","ё":"ё","Х":"Х","Җ":"Җ","ҧ":"ҧ","Ҭ":"Ҭ","И":"И","ї":"ї","Џ":"Џ","ѥ":"ѥ","К":"К","Һ":"Һ","Л":"Л","М":"М","Ӌ":"Ӌ","Њ":"Њ","Ѣ":"Ѣ","А":"А","Б":"Б","ҷ":"ҷ","ә":"ә","Ѕ":"Ѕ","Є":"Є","Ц":"Ц","Ж":"Ж","Д":"Д","Ҿ":"Ҿ","Ѳ":"Ѳ","Е":"Е","Ҩ":"Ҩ","я":"я","џ":"џ","Ѩ":"Ѩ","ҍ":"ҍ","В":"В","й":"й","ђ":"ђ","ӌ":"ӌ","Ү":"Ү","ң":"ң","З":"З","Ҟ":"Ҟ","Ҥ":"Ҥ","Ҷ":"Ҷ","Ұ":"Ұ","Щ":"Щ","Ў":"Ў","ю":"ю","ѯ":"ѯ","Н":"Н","О":"О","Ѫ":"Ѫ","П":"П","Ҙ":"Ҙ","Ӕ":"Ӕ","Р":"Р","С":"С","Т":"Т","Ҽ":"Ҽ","ѹ":"ѹ","У":"У","і":"і","Ҍ":"Ҍ","ғ":"ғ","Й":"Й","ѽ":"ѽ","ҡ":"ҡ","є":"є","ҙ":"ҙ","Ң":"Ң","Ґ":"Ґ","щ":"щ","Ӄ":"Ӄ","ж":"ж","Ј":"Ј","҂":"҂","ҽ":"ҽ","№":"№","ҥ":"ҥ","Ѱ":"Ѱ","Ҵ":"Ҵ","Ѭ":"Ѭ","њ":"њ","Ѥ":"Ѥ","ѕ":"ѕ","ӕ":"ӕ","Ъ":"Ъ","Ҁ":"Ҁ","Ҏ":"Ҏ","Ә":"Ә","ҭ":"ҭ","Ҕ":"Ҕ","ҩ":"ҩ","һ":"һ","Ш":"Ш","у":"у","ҟ":"ҟ","т":"т","Ы":"Ы","с":"с","р":"р","Ѿ":"Ѿ","ѧ":"ѧ","Ӈ":"Ӈ","Ь":"Ь","ҕ":"ҕ","п":"п","ӡ":"ӡ","о":"о","Ћ":"Ћ","н":"н","Ҫ":"Ҫ","ұ":"ұ","ѱ":"ѱ","з":"з","ү":"ү","̏":"̏","ј":"ј","в":"в","ҹ":"ҹ","ӄ":"ӄ","е":"е","ѡ":"ѡ","д":"д","ц":"ц","б":"б","Ө":"Ө","ґ":"ґ","Љ":"Љ","а":"а","Ѽ":"Ѽ","Ғ":"Ғ","Ҹ":"Ҹ","м":"м","л":"л","ш":"ш","к":"к","и":"и","х":"х","Ҳ":"Ҳ","Ѵ":"Ѵ","Ӡ":"Ӡ","қ":"қ","г":"г","Ч":"Ч","ф":"ф","Ї":"Ї","҉":"҉","Ѯ":"Ѯ","Ѻ":"Ѻ","ѿ":"ѿ","ҵ":"ҵ","ҳ":"ҳ","ў":"ў","ѩ":"ѩ","Я":"Я","љ":"љ","ө":"ө","Қ":"Қ","ъ":"ъ","ҏ":"ҏ","ҁ":"ҁ","Ђ":"Ђ","ѭ":"ѭ","҈":"҈","Ӏ":"Ӏ","Ҝ":"Ҝ","ѻ":"ѻ","ь":"ь","ҿ":"ҿ","җ":"җ","э":"э","Ѧ":"Ѧ","Ҡ":"Ҡ","ы":"ы","Э":"Э","ӈ":"ӈ","ҫ":"ҫ","ч":"ч","ћ":"ћ","Ҧ":"Ҧ","Ё":"Ё","Ю":"Ю","Ѹ":"Ѹ","ќ":"ќ","ѓ":"ѓ","Ќ":"Ќ","Ѓ":"Ѓ"},e.isCyrillicCharacter=function(t){return e.cyrillicCharacters.hasOwnProperty(t)},e.translateCharToCyrillic=function(t){return e.isCyrillicCharacter(t)?e.cyrillicCharacters[t]:void 0}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.spaceCmds1arg={kern:!0,hskip:!0,hspace:!0,hphantom:!0}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.diacriticsTextMode={"`":!0,"'":!0,"^":!0,"~":!0,"=":!0,".":!0,'"':!0,H:!0,c:!0,k:!0,b:!0,d:!0,r:!0,u:!0,v:!0},e.diacriticsMathMode={hat:!0,widehat:!0,check:!0,tilde:!0,widetilde:!0,acute:!0,grave:!0,dot:!0,ddot:!0,breve:!0,bar:!0,vec:!0,mathring:!0}},function(t,e,i){"use strict";function n(t){var e=t?t.trim():void 0;if(!e)return"√";switch(e){case"2":return"√";case"3":return"∛";case"4":return"∜";default:for(var i=[],n=0;n<e.length;n++){var r=a.translateCharToSuperscript(e.charAt(n));if(!r)throw new Error('Could not translate "'+r+'" to superscript');i.push(r)}return i.join("")+"√"}}function r(t,e){var i=n(e),r=t.trim();return""===r?i:i+"("+r+")"}Object.defineProperty(e,"__esModule",{value:!0});var a=i(134);e.convertSqrtToUnicode=r},function(t,e,i){"use strict";function n(t,e,i){switch(t){case"frac":case"nfrac":case"cfrac":case"xfrac":case"sfrac":return r.convertFracToUnicode(e,i);case"binom":return a.convertBinom(e,i)}throw new Error("No implementation found to expand \\"+t+" with arguments {"+e+", "+i)}Object.defineProperty(e,"__esModule",{value:!0});var r=i(238),a=i(239);e.expand2argsCommand=n},function(t,e,i){"use strict";function n(t,e){return"1"===t&&"2"===e?"½":"1"===t&&"3"===e?"⅓":"1"===t&&"4"===e?"¼":"1"===t&&"5"===e?"⅕":"1"===t&&"6"===e?"⅙":"1"===t&&"8"===e?"⅛":"2"===t&&"3"===e?"⅔":"2"===t&&"5"===e?"⅖":"3"===t&&"4"===e?"¾":"3"===t&&"5"===e?"⅗":"3"===t&&"8"===e?"⅜":"4"===t&&"5"===e?"⅘":"5"===t&&"6"===e?"⅚":"5"===t&&"8"===e?"⅝":"7"===t&&"8"===e?"⅞":o.test(t)&&o.test(e)?a+t+"⁄"+e+a:(t=r.isSingleTerm.test(t)?t:r.addParenthesis(t),e=r.isSingleTerm.test(e)?e:r.addParenthesis(e),"("+t+" / "+e+")")}Object.defineProperty(e,"__esModule",{value:!0});var r=i(48),a="‌",o=/^[0-9]*$/;e.convertFracToUnicode=n},function(t,e,i){"use strict";function n(t,e){return t=a.test(t)?t:r.addParenthesis(t),e=a.test(e)?e:r.addParenthesis(e),"("+t+" ¦ "+e+")"}Object.defineProperty(e,"__esModule",{value:!0});var r=i(48),a=/^.$|^[0-9]+$/;e.convertBinom=n},function(t,e,i){"use strict";function n(t){return e.twoArgsCommands.hasOwnProperty(t)}Object.defineProperty(e,"__esModule",{value:!0});var r=i(241);e.twoArgsCommands=Object.assign({},r.fracCmds,{binom:!0}),e.is2argsCommand=n},function(t,e,i){"use strict";function n(t){return e.fracCmds.hasOwnProperty(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.fracCmds={frac:!0,nfrac:!0,cfrac:!0,xfrac:!0,sfrac:!0},e.isFracCmd=n},function(t,e,i){"use strict";function n(t){return{name:t,optionalArguments:0,argumentCount:0}}Object.defineProperty(e,"__esModule",{value:!0}),e.createKnownCommand=n},function(t,e,i){"use strict";function n(t){return{name:t,optionalArguments:0,argumentCount:1}}Object.defineProperty(e,"__esModule",{value:!0}),e.createKnownCommandWith1Arg=n},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"toolForm"},[i("div",{staticClass:"toolFormTitle"},[t._v("\n        Citations\n        "),t.viewRender?i("button",{staticClass:"btn btn-xs citations-to-bibtex",attrs:{type:"button",title:"Show all in BibTeX format."},on:{click:t.toggleViewRender}},[i("i",{staticClass:"fa fa-pencil-square-o"}),t._v("\n            Show BibTeX\n        ")]):i("button",{staticClass:"btn btn-xs citations-to-formatted",attrs:{type:"button",title:"Return to formatted citation list."},on:{click:t.toggleViewRender}},[i("i",{staticClass:"fa fa-times"}),t._v("\n            Hide BibTeX\n        ")])]),t._v(" "),i("div",{staticClass:"citations-bibtex toolFormBody citation-padding"},["histories"===t.source?i("div",{staticClass:"infomessage"},[t._v("\n            When writing up your analysis, remember to include all references that should be cited in order\n            to completely describe your work. Also, please remember to "),i("a",{attrs:{href:"https://galaxyproject.org/citing-galaxy"}},[t._v("cite Galaxy")]),t._v(".\n        ")]):t._e(),t._v(" "),t.viewRender?i("span",{staticClass:"citations-formatted"},[i("p",{domProps:{innerHTML:t._s(t.formattedReferences)}})]):i("textarea",{staticClass:"citations-bibtex-text"},[t._v("            "+t._s(t.content)+"\n        ")])])])},r=[],a={render:n,staticRenderFns:r};e.a=a},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=i(25),r=function(t){return t&&t.__esModule?t:{default:t}}(n),a=i(246),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(a),s=r.default.GenomeDataManager.extend({load_data:function(e,i,n,r){var a=t.Deferred();this.set_data(e,a);var s=Galaxy.root+"datasets/"+this.get("dataset").id+"/display",l=this;new t.Deferred;return t.when(o.makeBwg(s)).then(function(i,n){t.when(i.readWigData(e.get("chrom"),e.get("start"),e.get("end"))).then(function(t){var i=[],n={max:Number.MIN_VALUE};t.forEach(function(t){n.max!==t.min-1&&(i.push([n.max+1,0]),i.push([t.min-2,0])),i.push([t.min-1,t.score]),i.push([t.max,t.score]),n=t});var r={data:i,region:e,dataset_type:"bigwig"};l.set_data(e,r),a.resolve(r)})}),a}});e.default={BBIDataManager:s}}).call(e,i(0))},function(t,e,i){(function(n){var r,a;r=[i(247),i(248),i(249)],void 0!==(a=function(t,e){"use strict";function i(){}function r(t){t&&(this.id=t)}function a(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}function o(t,e,i){Math.pow(10,6);return n.ajax({type:"GET",dataType:"native",url:t,timeout:5e3,beforeSend:function(t){t.setRequestHeader("Range","bytes="+e+"-"+(e+(i-1)))},xhrFields:{responseType:"arraybuffer"}})}function s(t,e){return t[e]+t[e+1]*w+t[e+2]*x+t[e+3]*C+t[e+4]*k}function l(){}function u(t,e,i,n){this.bwg=t,this.cirTreeOffset=e,this.cirTreeLength=i,this.isSummary=n}function c(t){var e=n.Deferred(),i=new l;return i.url=t,n.when(o(i.url,0,512)).then(function(t){if(!t)return e.resolve(null,"Couldn't fetch file");var r=t,a=new Uint8Array(r),o=new Int16Array(r),l=new Int32Array(r),u=a[0]+w*a[1]+x*a[2]+C*a[3];if(u==v)i.type="bigwig";else{if(u!=y)return u==_||u==b?e.resolve(null,"Currently don't support big-endian BBI files"):e.resolve(null,"Not a supported format, magic=0x"+u.toString(16));i.type="bigbed"}i.version=o[2],i.numZoomLevels=o[3],i.chromTreeOffset=s(a,8),i.unzoomedDataOffset=s(a,16),i.unzoomedIndexOffset=s(a,24),i.fieldCount=o[16],i.definedFieldCount=o[17],i.asOffset=s(a,36),i.totalSummaryOffset=s(a,44),i.uncompressBufSize=l[13],i.extHeaderOffset=s(a,56),i.zoomLevels=[];for(var c=0;c<i.numZoomLevels;++c){var h=l[6*c+16],d=s(a,24*c+72),f=s(a,24*c+80);i.zoomLevels.push({reduction:h,dataOffset:d,indexOffset:f})}n.when(i.readChromTree()).then(function(){i.getAutoSQL(function(t){return i.schema=t,e.resolve(i)})})}),e}function h(t,e,i,n,r){this.bbi=t,this.type=e,this.fieldCount=i,this.offset=n,this.field=r}var d=t.Range,f=t.union,p=t.intersection,g=e.inflateBuffer,m=e.arrayCopy,v=2291137574,_=654086024,y=2273964779,b=3958540679,w=256,x=65536,C=16777216,k=4294967296,S=new RegExp("^[0-9]+,[0-9]+,[0-9]+");return l.prototype.readChromTree=function(){var t=this;this.chromsToIDs={},this.idsToChroms={},this.maxID=0;var e=this.unzoomedDataOffset;return e=e+4-(e-this.chromTreeOffset&3),n.when(o(this.url,this.chromTreeOffset,e-this.chromTreeOffset)).then(function(e){var i=new Uint8Array(e),n=new Int16Array(e),r=new Int32Array(e),a=(r[0],r[1],r[2]),o=(r[3],s(i,16),function(e){var r=i[e],l=n[e/2+1];e+=4;for(var u=0;u<l;++u)if(0===r){e+=a;var c=s(i,e);e+=8,c-=t.chromTreeOffset,o(c)}else{for(var h="",d=0;d<a;++d){var f=i[e++];0!==f&&(h+=String.fromCharCode(f))}var p=i[e+3]<<24|i[e+2]<<16|i[e+1]<<8|i[e+0];i[e+7],i[e+6],i[e+5],i[e+4],e+=8,t.chromsToIDs[h]=p,0===h.indexOf("chr")&&(t.chromsToIDs[h.substr(3)]=p),t.idsToChroms[p]=h,t.maxID=Math.max(t.maxID,p)}});o(32)})},u.prototype.readWigData=function(t,e,i){var n=this.bwg.chromsToIDs[t];return void 0===n?[]:this.readWigDataById(n,e,i)},u.prototype.readWigDataById=function(t,e,i){var r=this,a=n.Deferred();if(!this.cirHeader)return n.when(o(r.bwg.url,this.cirTreeOffset,48)).then(function(o){r.cirHeader=o;var s=new Int32Array(r.cirHeader);r.cirBlockSize=s[1],n.when(r.readWigDataById(t,e,i)).then(function(t){a.resolve(t)})}),a;var l=[],u=0,c=(Date.now(),function(n,r,a,o){return(t<0||n==t)&&r<=i&&a>=e}),h=function(t,e){if(r.bwg.instrument&&console.log("level="+e+"; offset="+t+"; time="+(0|Date.now())),u+=t.length,1==t.length&&t[0]-r.cirTreeOffset==48&&r.cachedCirRoot)return g(r.cachedCirRoot,0,e),void(0===--u&&n.when(r.fetchFeatures(c,l)).then(function(t){a.resolve(t)}));for(var i,o=4+32*r.cirBlockSize,s=0;s<t.length;++s){var h=new d(t[s],t[s]+o);i=i?f(i,h):h}for(var m=i.ranges(),v=0;v<m.length;++v){var _=m[v];p(t,_,e)}},p=function(t,e,i,s){e.max(),e.min();n.when(o(r.bwg.url,e.min(),e.max()-e.min())).then(function(o){for(var s=0;s<t.length;++s)e.contains(t[s])&&(g(o,t[s]-e.min(),i),t[s]-r.cirTreeOffset==48&&t[s]-e.min()==0&&(r.cachedCirRoot=o),0===--u&&n.when(r.fetchFeatures(c,l)).then(function(t){a.resolve(t)}))})},g=function(n,r,a){var o=new Uint8Array(n),u=new Int16Array(n),c=new Int32Array(n),d=o[r],f=u[r/2+1];if(r+=4,0!==d)for(var p=0;p<f;++p){var g=r/4,m=c[g],v=c[g+1],_=c[g+2],y=c[g+3],b=s(o,r+16),w=s(o,r+24);(t<0||m<t||m==t&&v<=i)&&(t<0||_>t||_==t&&y>=e)&&l.push({offset:b,size:w}),r+=32}else{for(var x=[],p=0;p<f;++p){var g=r/4,m=c[g],v=c[g+1],_=c[g+2],y=c[g+3],b=s(o,r+16);(t<0||m<t||m==t&&v<=i)&&(t<0||_>t||_==t&&y>=e)&&x.push(b),r+=24}x.length>0&&h(x,a+1)}};return h([r.cirTreeOffset+48],1),a},u.prototype.fetchFeatures=function(t,e){var r=this,a=n.Deferred();if(e.sort(function(t,e){return(0|t.offset)-(0|e.offset)}),0===e.length)return[];var s=[],l=function(t,e,n,a){a||(a={});var o=new i;o._chromId=t,o.segment=r.bwg.idsToChroms[t],o.min=e,o.max=n,o.type=r.bwg.type;for(var l in a)o[l]=a[l];s.push(o)},u=function(){if(0===e.length){Date.now();return a.resolve(s)}var i=e[0];if(i.data)r.parseFeatures(i.data,l,t),e.splice(0,1),u();else{for(var c=i.offset,h=i.size,d=1;d<e.length&&e[d].offset==c+h;)h+=e[d].size,++d;n.when(o(r.bwg.url,c,h)).then(function(t){for(var i=0,n=0;i<h;){var a,o=e[n];if(r.bwg.uncompressBufSize>0)a=g(t,i+2,o.size-2);else{var s=new Uint8Array(o.size);m(new Uint8Array(t,i,o.size),0,s,0,o.size),a=s.buffer}o.data=a,i+=o.size,++n}u()})}};return u(),a},u.prototype.parseFeatures=function(t,e,i){var a=new Uint8Array(t);if(this.isSummary)for(var o=new Int16Array(t),s=new Int32Array(t),l=new Float32Array(t),u=t.byteLength/32,c=0;c<u;++c){var h=s[8*c],g=s[8*c+1],m=s[8*c+2],v=s[8*c+3],_=(l[8*c+4],l[8*c+5]),y=l[8*c+6];l[8*c+7];if(i(h,g+1,m)){var b={type:"bigwig",score:y/v,maxScore:_};"bigbed"==this.bwg.type&&(b.type="density"),e(h,g+1,m,b)}}else if("bigwig"==this.bwg.type){var o=new Int16Array(t),s=new Int32Array(t),l=new Float32Array(t),h=s[0],w=s[1],x=(s[2],s[3]),C=s[4],k=a[20],u=o[11];if(3==k)for(var c=0;c<u;++c){var T=l[c+6],A=w+c*x+1,M=w+c*x+C;i(h,A,M)&&e(h,A,M,{score:T})}else if(2==k)for(var c=0;c<u;++c){var g=s[2*c+6]+1,m=g+C-1,T=l[2*c+7];i(h,g,m)&&e(h,g,m,{score:T})}else if(1==k)for(var c=0;c<u;++c){var g=s[3*c+6]+1,m=s[3*c+7],T=l[3*c+8];g>m&&(g=m),i(h,g,m)&&e(h,g,m,{score:T})}else console.log("Currently not handling bwgType="+k)}else{if("bigbed"!=this.bwg.type)throw Error("Don't know what to do with "+this.bwg.type);for(var E=0,O=this.bwg.definedFieldCount,D=this.bwg.schema;E<a.length;){var h=a[E+3]<<24|a[E+2]<<16|a[E+1]<<8|a[E+0],g=a[E+7]<<24|a[E+6]<<16|a[E+5]<<8|a[E+4],m=a[E+11]<<24|a[E+10]<<16|a[E+9]<<8|a[E+8];E+=12;for(var $="";;){var j=a[E++];if(0==j)break;$+=String.fromCharCode(j)}var P,R={};if(P=$.length>0?$.split("\t"):[],P.length>0&&O>3&&(R.label=P[0]),P.length>1&&O>4){var T=parseInt(P[1]);isNaN(T)||(R.score=T)}if(P.length>2&&O>5&&(R.orientation=P[2]),P.length>5&&O>8){var I=P[5];S.test(I)&&(R.itemRgb="rgb("+I+")")}if(P.length>O-3&&D)for(var N=O-3;N<P.length;++N)R[D.fields[N+3].name]=P[N];if(i(h,g+1,m,P))if(O<12)e(h,g+1,m,R);else{var L=0|P[3],z=0|P[4],H=0|P[6],q=P[7].split(","),F=P[8].split(",");if(R.exonFrames){var B=R.exonFrames.split(",");R.exonFrames=void 0}R.type="transcript";var V=new r;for(var U in R)V[U]=R[U];if(V.id=P[0],V.segment=this.bwg.idsToChroms[h],V.min=g+1,V.max=m,V.notes=[],R.groups=[V],P.length>9){var W=R.geneName||P[9],G=W;P.length>10&&(G=P[10]),R.geneName2&&(G=R.geneName2);var X=n.extend({},V);X.id=W,X.label=G,X.type="gene",R.groups.push(X)}for(var Y=[],J=0;J<H;++J){var K=(0|F[J])+g,Q=K+(0|q[J]),Z=new d(K,Q);Y.push(Z)}for(var tt=f(Y),et=tt.ranges(),it=0;it<et.length;++it){var nt=et[it];e(h,nt.min()+1,nt.max(),R)}if(z>L){var rt="+"==R.orientation?new d(L,z+3):new d(L-3,z),at=p(tt,rt);if(at){R.type="translation";for(var ot=at.ranges(),st=0,lt=0;ot[0].min()>et[lt].max();)lt++;for(var it=0;it<ot.length;++it){var ut=it;"-"==R.orientation&&(ut=ot.length-it-1);var nt=ot[ut];if(R.readframe=st,B){var ct=parseInt(B[ut+lt]);"number"==typeof ct&&ct>=0&&ct<=2&&(R.readframe=ct,R.readframeExplicit=!0)}var ht=nt.max()-nt.min();st=(st+ht)%3,e(h,nt.min()+1,nt.max(),R)}}}}}}},u.prototype.getFirstAdjacent=function(t,e,i,n){var r=this.bwg.chromsToIDs[t];if(void 0===r)return n([]);this.getFirstAdjacentById(r,e,i,n)},u.prototype.getFirstAdjacentById=function(t,e,i,n){var r=this;if(!this.cirHeader)return void this.bwg.data.slice(this.cirTreeOffset,48).fetch(function(a){r.cirHeader=a;var o=new Int32Array(r.cirHeader);r.cirBlockSize=o[1],r.getFirstAdjacentById(t,e,i,n)});var a=null,o=-1,l=-1,u=0,c=(Date.now(),function(t,e){u+=t.length;for(var i,n=4+32*r.cirBlockSize,a=0;a<t.length;++a){var o=new d(t[a],t[a]+n);i=i?f(i,o):o}for(var s=i.ranges(),l=0;l<s.length;++l){var c=s[l];h(t,c,e)}}),h=function(o,s,l,c){s.max(),s.min();r.bwg.data.slice(s.min(),s.max()-s.min()).fetch(function(c){for(var h=0;h<o.length;++h)if(s.contains(o[h])&&(p(c,o[h]-s.min(),l),0==--u)){if(!a)return i>0&&(0!=t||e>0)?r.getFirstAdjacentById(0,0,i,n):i<0&&(t!=r.bwg.maxID||e<1e9)?r.getFirstAdjacentById(r.bwg.maxID,1e9,i,n):n([]);r.fetchFeatures(function(n,r,a,o){return i<0&&(n<t||a<e)||i>0&&(n>t||r>e)},[a],function(t){for(var e=null,r=-1,a=-1,o=0;o<t.length;++o){var s=t[o],l=s._chromId,u=s.min,c=s.max;(null==e||i<0&&(l>r||c>a)||i>0&&(l<r||u<a))&&(e=s,a=i<0?c:u,r=l)}return n(null!=e?[e]:[])})}})},p=function(n,u,h){var d=new Uint8Array(n),f=new Int16Array(n),p=new Int32Array(n),g=d[u],m=f[u/2+1];if(u+=4,0!=g)for(var v=0;v<m;++v){var _=u/4,y=p[_],b=p[_+1],w=p[_+2],x=p[_+3],C=s(d,u+16),k=s(d,u+24);(i<0&&(y<t||y==t&&b<=e)||i>0&&(w>t||w==t&&x>=e))&&(/_random/.exec(r.bwg.idsToChroms[y])||(null==a||i<0&&(w>o||w==o&&x>l)||i>0&&(y<o||y==o&&b<l))&&(a={offset:C,size:k},l=i<0?x:b,o=i<0?w:y)),u+=32}else{for(var S=-1,T=-1,v=0;v<m;++v){var _=u/4,y=p[_],b=p[_+1],w=p[_+2],x=p[_+3],C=p[_+4]<<32|p[_+5];(i<0&&(y<t||y==t&&b<=e)&&w>=t||i>0&&(w>t||w==t&&x>=e)&&y<=t)&&(S<0||x>T)&&(S=C,T=i<0?x:b,i<0?w:y),u+=24}S>=0&&c([S],h+1)}};c([r.cirTreeOffset+48],1)},l.prototype.readWigData=function(t,e,i){var n,r=i-e;if(r<=25e3||0===this.zoomLevels.length)n=this.getUnzoomedView();else for(var a=0;a<this.zoomLevels.length;a++)if(r/this.zoomLevels[a].reduction<25e3){n=this.getZoomedView(a);break}return n.readWigData(t,e,i)},l.prototype.getUnzoomedView=function(){if(!this.unzoomedView){var t=4e3;this.zoomLevels[0]&&(t=this.zoomLevels[0].dataOffset-this.unzoomedIndexOffset),this.unzoomedView=new u(this,this.unzoomedIndexOffset,t,!1)}return this.unzoomedView},l.prototype.getZoomedView=function(t){var e=this.zoomLevels[t];return e.view||(e.view=new u(this,e.indexOffset,4e3,!0)),e.view},l.prototype._tsFetch=function(t,e,i,n,r){var a=this;if(!(t>=this.zoomLevels.length-1)){var o;return o=t<0?this.getUnzoomedView():this.getZoomedView(t),o.readWigDataById(e,i,n,r)}if(this.topLevelReductionCache){for(var s=[],l=this.topLevelReductionCache,u=0;u<l.length;++u)l[u]._chromId==e&&s.push(l[u]);return r(s)}this.getZoomedView(this.zoomLevels.length-1).readWigDataById(-1,0,3e8,function(o){return a.topLevelReductionCache=o,a._tsFetch(t,e,i,n,r)})},l.prototype.thresholdSearch=function(t,e,i,n,r){function a(){if(0==l.length)return r(null);l.sort(function(t,e){var n=t.zoom-e.zoom;return 0!=n?n:(n=t.chrOrd-e.chrOrd,0!=n?n:t.min-e.min*i)});var t=l.splice(0,1)[0];o._tsFetch(t.zoom,t.chr,t.min,t.max,function(o){var s=i>0?0:3e8;t.fromRef&&(s=e);for(var u=0;u<o.length;++u){var c,h=o[u];if(c=void 0!=h.maxScore?h.maxScore:h.score,i>0){if(c>n)if(t.zoom<0){if(h.min>s)return r(h)}else h.max>s&&l.push({chr:t.chr,chrOrd:t.chrOrd,zoom:t.zoom-2,min:h.min,max:h.max,fromRef:t.fromRef})}else if(c>n)if(t.zoom<0){if(h.max<s)return r(h)}else h.min<s&&l.push({chr:t.chr,chrOrd:t.chrOrd,zoom:t.zoom-2,min:h.min,max:h.max,fromRef:t.fromRef})}a()})}i=i<0?-1:1;for(var o=this,s=this.chromsToIDs[t],l=[{chrOrd:0,chr:s,zoom:o.zoomLevels.length-4,min:0,max:3e8,fromRef:!0}],u=1;u<=this.maxID+1;++u){var c=(s+i*u)%(this.maxID+1);c<0&&(c+=this.maxID+1),l.push({chrOrd:u,chr:c,zoom:o.zoomLevels.length-1,min:0,max:3e8})}a()},l.prototype.getAutoSQL=function(t){if(!this.asOffset)return t(null);n.when(o(this.url,this.asOffset,2048)).then(function(e){for(var i=new Uint8Array(e),n="",r=0;r<i.length&&0!=i[r];++r)n+=String.fromCharCode(i[r]);var a=/(\w+)\s+(\w+)\s+("([^"]+)")?\s+\(\s*/,o=/([\w\[\]]+)\s+(\w+)\s*;\s*("([^"]+)")?\s*/g,s=a.exec(n);if(s){var l={declType:s[1],name:s[2],comment:s[4],fields:[]};n=n.substring(s[0]);for(var u=o.exec(n);null!=u;u=o.exec(n))l.fields.push({type:u[1],name:u[2],comment:u[4]});return t(l)}})},l.prototype.getExtraIndices=function(t){var e=this;if(this.version<4||0==this.extHeaderOffset||"bigbed"!=this.type)return t(null);this.data.slice(this.extHeaderOffset,64).fetch(function(i){if(!i)return t(null,"Couldn't fetch extension header");var n=new Uint8Array(i),r=new Int16Array(i),a=(new Int32Array(i),r[0],r[1]),o=s(n,4);if(0==a)return t(null);e.data.slice(o,20*a).fetch(function(i){if(!i)return t(null,"Couldn't fetch index info");for(var n=new Uint8Array(i),r=new Int16Array(i),o=(new Int32Array(i),[]),l=0;l<a;++l){var u=r[10*l],c=r[10*l+1],d=s(n,20*l+4),f=r[10*l+8],p=new h(e,u,c,d,f);o.push(p)}t(o)})})},h.prototype.lookup=function(t,e){var i=this;this.bbi.data.slice(this.offset,32).fetch(function(n){function r(n){i.bbi.data.slice(n,4+u*(c+h)).fetch(function(n){var o=new Uint8Array(n),l=new Uint16Array(n),u=(new Uint32Array(n),o[0]),d=l[1],f=4;if(0!=u){for(var p=0;p<d;++p){for(var g="",m=0;m<c;++m){var v=o[f++];0!=v&&(g+=String.fromCharCode(v))}if(g==t){var _=s(o,f),y=a(o,f+8);return i.bbi.getUnzoomedView().fetchFeatures(function(e,n,r,a){if(a&&a.length>i.field-3)return a[i.field-3]==t},[{offset:_,size:y}],e)}f+=h}return e([])}for(var b=null,p=0;p<d;++p){for(var g="",m=0;m<c;++m){var v=o[f++];0!=v&&(g+=String.fromCharCode(v))}var w=s(o,f);if(f+=8,t.localeCompare(g)<0&&b)return void r(b);b=w}r(b)})}var o=new Uint8Array(n),l=(new Int16Array(n),new Int32Array(n)),u=(l[0],l[1]),c=l[2],h=l[3];s(o,16);r(i.offset+32)})},{makeBwg:c}}.apply(e,r))&&(t.exports=a)}).call(e,i(0))},function(t,e,i){var n,r;n=[],void 0!==(r=function(){"use strict";function t(t,e){if("number"!=typeof t||"number"!=typeof e)throw"Bad range "+t+","+e;this._min=t,this._max=e}function e(t){var e=t.sort(o),i=[],n=e.shift();e.forEach(function(t){t._min<=n._max?t._max>n._max&&(n._max=t._max):(i.push(n),n=t)}),i.push(n),this._ranges=i}function i(t,i){return t instanceof e||(t instanceof Array||(t=[t]),t=new e(t)),i&&t.insertRange(i),t}function n(i,n){for(var r=i.ranges(),a=n.ranges(),o=r.length,s=a.length,l=0,u=0,c=[];l<o&&u<s;){var i=r[l],n=a[u],h=Math.max(i.min(),n.min()),d=Math.min(i.max(),n.max());d>=h&&c.push(new t(h,d)),i.max()>n.max()?++u:++l}return 0==c.length?null:1==c.length?c[0]:new e(c)}function r(t){for(var e=0,i=t.ranges(),n=0;n<i.length;++n){var r=i[n];e+=r.max()-r.min()+1}return e}function a(t,e){return t.min()<e.min()?-1:t.min()>e.min()?1:t.max()<e.max()?-1:e.max()>t.max()?1:0}function o(t,e){return t._min<e._min?-1:t._min>e._min?1:t._max<e._max?-1:e._max>t._max?1:0}return t.prototype.min=function(){return this._min},t.prototype.max=function(){return this._max},t.prototype.contains=function(t){return t>=this._min&&t<=this._max},t.prototype.isContiguous=function(){return!0},t.prototype.ranges=function(){return[this]},t.prototype._pushRanges=function(t){t.push(this)},t.prototype.toString=function(){return"["+this._min+"-"+this._max+"]"},e.prototype.min=function(){return this._ranges[0].min()},e.prototype.max=function(){return this._ranges[this._ranges.length-1].max()},e.prototype.lower_bound=function(t){var e=this.ranges();if(t>this.max())return e.length;if(t<this.min())return 0;for(var i=0,n=e.length-1;i<=n;){var r=Math.floor((i+n)/2);if(t>e[r]._max)i=r+1;else{if(!(t<e[r]._min))return r;n=r-1}}return i},e.prototype.contains=function(t){var e=this.lower_bound(t);return!!(e<this._ranges.length&&this._ranges[e].contains(t))},e.prototype.insertRange=function(t){var e=this.lower_bound(t._min);if(e===this._ranges.length)return void this._ranges.push(t);var i=this.ranges();if(t._max<i[e]._min)return void this._ranges.splice(e,0,t);i[e]._min<t._min&&(t._min=i[e]._min);for(var n=e+1;n<i.length&&i[n]._min<=t._max;)n++;n--,i[n]._max>t._max&&(t._max=i[n]._max),this._ranges.splice(e,n-e+1,t)},e.prototype.isContiguous=function(){return this._ranges.length>1},e.prototype.ranges=function(){return this._ranges},e.prototype._pushRanges=function(t){for(var e=0;e<this._ranges.length;++e)t.push(this._ranges[e])},e.prototype.toString=function(){for(var t="",e=0;e<this._ranges.length;++e)e>0&&(t+=","),t+=this._ranges[e].toString();return t},{Range:t,union:i,intersection:n,coverage:r,rangeOver:a,_rangeOrder:o}}.apply(e,n))&&(t.exports=r)},function(t,e,i){var n,r;n=[],void 0!==(r=function(){function t(){}function e(){this.was=[0]}function i(t,e,i){this.hufts=new Int32Array(3*h),this.window=new Uint8Array(i),this.end=i,this.checkfn=e,this.mode=v,this.reset(t,null),this.left=0,this.table=0,this.index=0,this.blens=null,this.bb=new Int32Array(1),this.tb=new Int32Array(1),this.codes=new n,this.last=0,this.bitk=0,this.bitb=0,this.read=0,this.write=0,this.check=0,this.inftree=new r}function n(){}function r(){}function a(t,e,i,n,r){return t[0]=_,e[0]=y,i[0]=b,n[0]=w,f}function o(t,e,i,n,r){if(0!=r){if(!t)throw"Undef src";if(!i)throw"Undef dest";0==e&&r==t.length?l(t,i,n):E?l(t.subarray(e,e+r),i,n):1==t.BYTES_PER_ELEMENT&&r>100?l(new Uint8Array(t.buffer,t.byteOffset+e,r),i,n):s(t,e,i,n,r)}}function s(t,e,i,n,r){for(var a=0;a<r;++a)i[n+a]=t[e+a]}function l(t,e,i){e.set(t,i)}function u(e,i,n,r){e=i?n?new Uint8Array(e,i,n):new Uint8Array(e,i,e.byteLength-i):new Uint8Array(e);var a=new t;a.inflateInit(c,!0),a.next_in=e,a.next_in_index=0,a.avail_in=e.length;for(var s=[],l=0;;){var u=new Uint8Array(32e3);a.next_out=u,a.next_out_index=0,a.avail_out=u.length;var h=a.inflate(d);if(h!=f&&h!=p&&h!=g)throw a.msg;if(0!=a.avail_out){var m=new Uint8Array(u.length-a.avail_out);o(u,0,m,0,u.length-a.avail_out),u=m}if(s.push(u),l+=u.length,h==p||h==g)break}if(r&&(r[0]=(i||0)+a.next_in_index),1==s.length)return s[0].buffer;for(var v=new Uint8Array(l),_=0,y=0;y<s.length;++y){var b=s[y];o(b,0,v,_,b.length),_+=b.length}return v.buffer}var c=15,h=1440,d=0,f=0,p=1,g=-5,m=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],v=0,_=9,y=5,b=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],w=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],x=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],k=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],S=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];t.prototype.inflateInit=function(t,i){return t||(t=c),i&&(i=!1),this.istate=new e,this.istate.inflateInit(this,i?-t:t)},t.prototype.inflate=function(t){return null==this.istate?-2:this.istate.inflate(this,t)},t.prototype.inflateEnd=function(){if(null==this.istate)return-2;var t=istate.inflateEnd(this);return this.istate=null,t},t.prototype.inflateSync=function(){return istate.inflateSync(this)},t.prototype.inflateSetDictionary=function(t,e){return istate.inflateSetDictionary(this,t,e)},e.prototype.inflateReset=function(t){return null==t||null==t.istate?-2:(t.total_in=t.total_out=0,t.msg=null,t.istate.mode=0!=t.istate.nowrap?7:0,t.istate.blocks.reset(t,null),f)},e.prototype.inflateEnd=function(t){return null!=this.blocks&&this.blocks.free(t),this.blocks=null,f},e.prototype.inflateInit=function(t,e){return t.msg=null,this.blocks=null,nowrap=0,e<0&&(e=-e,nowrap=1),e<8||e>15?(this.inflateEnd(t),-2):(this.wbits=e,t.istate.blocks=new i(t,0!=t.istate.nowrap?null:this,1<<e),this.inflateReset(t),f)},e.prototype.inflate=function(t,e){var i,n;if(null==t||null==t.istate||null==t.next_in)return-2;for(e=4==e?g:f,i=g;;)switch(t.istate.mode){case 0:if(0==t.avail_in)return i;if(i=e,t.avail_in--,t.total_in++,8!=(15&(t.istate.method=t.next_in[t.next_in_index++]))){t.istate.mode=13,t.msg="unknown compression method",t.istate.marker=5;break}if(8+(t.istate.method>>4)>t.istate.wbits){t.istate.mode=13,t.msg="invalid window size",t.istate.marker=5;break}t.istate.mode=1;case 1:if(0==t.avail_in)return i;if(i=e,t.avail_in--,t.total_in++,n=255&t.next_in[t.next_in_index++],((t.istate.method<<8)+n)%31!=0){t.istate.mode=13,t.msg="incorrect header check",t.istate.marker=5;break}if(0==(32&n)){t.istate.mode=7;break}t.istate.mode=2;case 2:if(0==t.avail_in)return i;i=e,t.avail_in--,t.total_in++,t.istate.need=(255&t.next_in[t.next_in_index++])<<24&4278190080,t.istate.mode=3;case 3:if(0==t.avail_in)return i;i=e,t.avail_in--,t.total_in++,t.istate.need+=(255&t.next_in[t.next_in_index++])<<16&16711680,t.istate.mode=4;case 4:if(0==t.avail_in)return i;i=e,t.avail_in--,t.total_in++,t.istate.need+=(255&t.next_in[t.next_in_index++])<<8&65280,t.istate.mode=5;case 5:return 0==t.avail_in?i:(i=e,t.avail_in--,t.total_in++,t.istate.need+=255&t.next_in[t.next_in_index++],t.adler=t.istate.need,t.istate.mode=6,2);case 6:return t.istate.mode=13,t.msg="need dictionary",t.istate.marker=0,-2;case 7:if(-3==(i=t.istate.blocks.proc(t,i))){t.istate.mode=13,t.istate.marker=0;break}if(i==f&&(i=e),i!=p)return i;if(i=e,t.istate.blocks.reset(t,t.istate.was),0!=t.istate.nowrap){t.istate.mode=12;break}t.istate.mode=8;case 8:if(0==t.avail_in)return i;i=e,t.avail_in--,t.total_in++,t.istate.need=(255&t.next_in[t.next_in_index++])<<24&4278190080,t.istate.mode=9;case 9:if(0==t.avail_in)return i;i=e,t.avail_in--,t.total_in++,t.istate.need+=(255&t.next_in[t.next_in_index++])<<16&16711680,t.istate.mode=10;case 10:if(0==t.avail_in)return i;i=e,t.avail_in--,t.total_in++,t.istate.need+=(255&t.next_in[t.next_in_index++])<<8&65280,t.istate.mode=11;case 11:if(0==t.avail_in)return i;if(i=e,t.avail_in--,t.total_in++,t.istate.need+=255&t.next_in[t.next_in_index++],t.istate.was[0]!=t.istate.need){t.istate.mode=13,t.msg="incorrect data check",t.istate.marker=5;break}t.istate.mode=12;case 12:return p;case 13:return-3;default:return-2}},e.prototype.inflateSetDictionary=function(t,e,i){var n=0,r=i;return null==t||null==t.istate||6!=t.istate.mode?-2:t._adler.adler32(1,e,0,i)!=t.adler?-3:(t.adler=t._adler.adler32(0,null,0,0),r>=1<<t.istate.wbits&&(r=(1<<t.istate.wbits)-1,n=i-r),t.istate.blocks.set_dictionary(e,n,r),t.istate.mode=7,f)};var T=[0,0,255,255];e.prototype.inflateSync=function(t){var e,i,n,r,a;if(null==t||null==t.istate)return-2;if(13!=t.istate.mode&&(t.istate.mode=13,t.istate.marker=0),0==(e=t.avail_in))return g;for(i=t.next_in_index,n=t.istate.marker;0!=e&&n<4;)t.next_in[i]==T[n]?n++:n=0!=t.next_in[i]?0:4-n,i++,e--;return t.total_in+=i-t.next_in_index,t.next_in_index=i,t.avail_in=e,t.istate.marker=n,4!=n?-3:(r=t.total_in,a=t.total_out,this.inflateReset(t),t.total_in=r,t.total_out=a,t.istate.mode=7,f)},e.prototype.inflateSyncPoint=function(t){return null==t||null==t.istate||null==t.istate.blocks?-2:t.istate.blocks.sync_point()};var A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];i.prototype.reset=function(t,e){e&&(e[0]=this.check),6==this.mode&&this.codes.free(t),this.mode=v,this.bitk=0,this.bitb=0,this.read=this.write=0,this.checkfn&&(t.adler=this.check=t._adler.adler32(0,null,0,0))},i.prototype.proc=function(t,e){var i,n,r,s,l,u,c;for(s=t.next_in_index,l=t.avail_in,n=this.bitb,r=this.bitk,u=this.write,c=u<this.read?this.read-u-1:this.end-u;;)switch(this.mode){case v:for(;r<3;){if(0==l)return this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=u,this.inflate_flush(t,e);e=f,l--,n|=(255&t.next_in[s++])<<r,r+=8}switch(i=7&n,this.last=1&i,i>>>1){case 0:n>>>=3,r-=3,i=7&r,n>>>=i,r-=i,this.mode=1;break;case 1:var h=new Int32Array(1),d=new Int32Array(1),g=[],_=[];a(h,d,g,_,t),this.codes.init(h[0],d[0],g[0],0,_[0],0,t),n>>>=3,r-=3,this.mode=6;break;case 2:n>>>=3,r-=3,this.mode=3;break;case 3:return n>>>=3,r-=3,this.mode=13,t.msg="invalid block type",e=-3,this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=u,this.inflate_flush(t,e)}break;case 1:for(;r<32;){if(0==l)return this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=u,this.inflate_flush(t,e);e=f,l--,n|=(255&t.next_in[s++])<<r,r+=8}if((~n>>>16&65535)!=(65535&n))return this.mode=13,t.msg="invalid stored block lengths",e=-3,this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=u,this.inflate_flush(t,e);this.left=65535&n,n=r=0,this.mode=0!=this.left?2:0!=this.last?7:v;break;case 2:if(0==l)return this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,write=u,this.inflate_flush(t,e);if(0==c&&(u==end&&0!=read&&(u=0,c=u<this.read?this.read-u-1:this.end-u),0==c&&(this.write=u,e=this.inflate_flush(t,e),u=this.write,c=u<this.read?this.read-u-1:this.end-u,u==this.end&&0!=this.read&&(u=0,c=u<this.read?this.read-u-1:this.end-u),0==c)))return this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=u,this.inflate_flush(t,e);if(e=f,i=this.left,i>l&&(i=l),i>c&&(i=c),o(t.next_in,s,this.window,u,i),s+=i,l-=i,u+=i,c-=i,0!=(this.left-=i))break;this.mode=0!=this.last?7:v;break;case 3:for(;r<14;){if(0==l)return this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=u,this.inflate_flush(t,e);e=f,l--,n|=(255&t.next_in[s++])<<r,r+=8}if(this.table=i=16383&n,(31&i)>29||(i>>5&31)>29)return this.mode=9,t.msg="too many length or distance symbols",e=-3,this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=u,this.inflate_flush(t,e);if(i=258+(31&i)+(i>>5&31),null==this.blens||this.blens.length<i)this.blens=new Int32Array(i);else for(var y=0;y<i;y++)this.blens[y]=0;n>>>=14,r-=14,this.index=0,mode=4;case 4:for(;this.index<4+(this.table>>>10);){for(;r<3;){if(0==l)return this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=u,this.inflate_flush(t,e);e=f,l--,n|=(255&t.next_in[s++])<<r,r+=8}this.blens[A[this.index++]]=7&n,n>>>=3,r-=3}for(;this.index<19;)this.blens[A[this.index++]]=0;if(this.bb[0]=7,(i=this.inftree.inflate_trees_bits(this.blens,this.bb,this.tb,this.hufts,t))!=f)return e=i,-3==e&&(this.blens=null,this.mode=9),this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,write=u,this.inflate_flush(t,e);this.index=0,this.mode=5;case 5:for(;;){if(i=this.table,!(this.index<258+(31&i)+(i>>5&31)))break;var y,b,w;for(i=this.bb[0];r<i;){if(0==l)return this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=u,this.inflate_flush(t,e);e=f,l--,n|=(255&t.next_in[s++])<<r,r+=8}if(i=this.hufts[3*(this.tb[0]+(n&m[i]))+1],(w=this.hufts[3*(this.tb[0]+(n&m[i]))+2])<16)n>>>=i,r-=i,this.blens[this.index++]=w;else{for(y=18==w?7:w-14,b=18==w?11:3;r<i+y;){if(0==l)return this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=u,this.inflate_flush(t,e);e=f,l--,n|=(255&t.next_in[s++])<<r,r+=8}if(n>>>=i,r-=i,b+=n&m[y],n>>>=y,r-=y,y=this.index,i=this.table,y+b>258+(31&i)+(i>>5&31)||16==w&&y<1)return this.blens=null,this.mode=9,t.msg="invalid bit length repeat",e=-3,this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=u,this.inflate_flush(t,e);w=16==w?this.blens[y-1]:0;do{this.blens[y++]=w}while(0!=--b);this.index=y}}this.tb[0]=-1;var h=new Int32Array(1),d=new Int32Array(1),g=new Int32Array(1),_=new Int32Array(1);if(h[0]=9,d[0]=6,i=this.table,(i=this.inftree.inflate_trees_dynamic(257+(31&i),1+(i>>5&31),this.blens,h,d,g,_,this.hufts,t))!=f)return-3==i&&(this.blens=null,this.mode=13),e=i,this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=u,this.inflate_flush(t,e);this.codes.init(h[0],d[0],this.hufts,g[0],this.hufts,_[0],t),this.mode=6;case 6:if(this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=u,(e=this.codes.proc(this,t,e))!=p)return this.inflate_flush(t,e);if(e=f,this.codes.free(t),s=t.next_in_index,l=t.avail_in,n=this.bitb,r=this.bitk,u=this.write,c=u<this.read?this.read-u-1:this.end-u,0==this.last){this.mode=v;break}this.mode=7;case 7:if(this.write=u,e=this.inflate_flush(t,e),u=this.write,c=u<this.read?this.read-u-1:this.end-u,this.read!=this.write)return this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=u,this.inflate_flush(t,e);mode=12;case 8:return e=p,this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=u,this.inflate_flush(t,e);case 9:return e=-3,this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=u,this.inflate_flush(t,e);default:return e=-2,this.bitb=n,this.bitk=r,t.avail_in=l,t.total_in+=s-t.next_in_index,t.next_in_index=s,this.write=u,this.inflate_flush(t,e)}},i.prototype.free=function(t){this.reset(t,null),this.window=null,this.hufts=null},i.prototype.set_dictionary=function(t,e,i){o(t,e,window,0,i),this.read=this.write=i},i.prototype.sync_point=function(){return 1==this.mode},i.prototype.inflate_flush=function(t,e){var i,n,r;return n=t.next_out_index,r=this.read,i=(r<=this.write?this.write:this.end)-r,i>t.avail_out&&(i=t.avail_out),0!=i&&e==g&&(e=f),t.avail_out-=i,t.total_out+=i,null!=this.checkfn&&(t.adler=this.check=t._adler.adler32(this.check,this.window,r,i)),o(this.window,r,t.next_out,n,i),n+=i,r+=i,r==this.end&&(r=0,this.write==this.end&&(this.write=0),i=this.write-r,i>t.avail_out&&(i=t.avail_out),0!=i&&e==g&&(e=f),t.avail_out-=i,t.total_out+=i,null!=this.checkfn&&(t.adler=this.check=t._adler.adler32(this.check,this.window,r,i)),o(this.window,r,t.next_out,n,i),n+=i,r+=i),t.next_out_index=n,this.read=r,e};n.prototype.init=function(t,e,i,n,r,a,o){this.mode=0,this.lbits=t,this.dbits=e,this.ltree=i,this.ltree_index=n,this.dtree=r,this.dtree_index=a,this.tree=null},n.prototype.proc=function(t,e,i){var n,r,a,o,s,l,u,c=0,h=0,d=0;for(d=e.next_in_index,o=e.avail_in,c=t.bitb,h=t.bitk,s=t.write,l=s<t.read?t.read-s-1:t.end-s;;)switch(this.mode){case 0:if(l>=258&&o>=10&&(t.bitb=c,t.bitk=h,e.avail_in=o,e.total_in+=d-e.next_in_index,e.next_in_index=d,t.write=s,i=this.inflate_fast(this.lbits,this.dbits,this.ltree,this.ltree_index,this.dtree,this.dtree_index,t,e),d=e.next_in_index,o=e.avail_in,c=t.bitb,h=t.bitk,s=t.write,l=s<t.read?t.read-s-1:t.end-s,i!=f)){this.mode=i==p?7:9;break}this.need=this.lbits,this.tree=this.ltree,this.tree_index=this.ltree_index,this.mode=1;case 1:for(n=this.need;h<n;){if(0==o)return t.bitb=c,t.bitk=h,e.avail_in=o,e.total_in+=d-e.next_in_index,e.next_in_index=d,t.write=s,t.inflate_flush(e,i);i=f,o--,c|=(255&e.next_in[d++])<<h,h+=8}if(r=3*(this.tree_index+(c&m[n])),c>>>=this.tree[r+1],h-=this.tree[r+1],0==(a=this.tree[r])){this.lit=this.tree[r+2],this.mode=6;break}if(0!=(16&a)){this.get=15&a,this.len=this.tree[r+2],this.mode=2;break}if(0==(64&a)){this.need=a,this.tree_index=r/3+this.tree[r+2];break}if(0!=(32&a)){this.mode=7;break}return this.mode=9,e.msg="invalid literal/length code",i=-3,t.bitb=c,t.bitk=h,e.avail_in=o,e.total_in+=d-e.next_in_index,e.next_in_index=d,t.write=s,t.inflate_flush(e,i);case 2:for(n=this.get;h<n;){if(0==o)return t.bitb=c,t.bitk=h,e.avail_in=o,e.total_in+=d-e.next_in_index,e.next_in_index=d,t.write=s,t.inflate_flush(e,i);i=f,o--,c|=(255&e.next_in[d++])<<h,h+=8}this.len+=c&m[n],c>>=n,h-=n,this.need=this.dbits,this.tree=this.dtree,this.tree_index=this.dtree_index,this.mode=3;case 3:for(n=this.need;h<n;){if(0==o)return t.bitb=c,t.bitk=h,e.avail_in=o,e.total_in+=d-e.next_in_index,e.next_in_index=d,t.write=s,t.inflate_flush(e,i);i=f,o--,c|=(255&e.next_in[d++])<<h,h+=8}if(r=3*(this.tree_index+(c&m[n])),c>>=this.tree[r+1],h-=this.tree[r+1],0!=(16&(a=this.tree[r]))){this.get=15&a,this.dist=this.tree[r+2],this.mode=4;break}if(0==(64&a)){this.need=a,this.tree_index=r/3+this.tree[r+2];break}return this.mode=9,e.msg="invalid distance code",i=-3,t.bitb=c,t.bitk=h,e.avail_in=o,e.total_in+=d-e.next_in_index,e.next_in_index=d,t.write=s,t.inflate_flush(e,i);case 4:for(n=this.get;h<n;){if(0==o)return t.bitb=c,t.bitk=h,e.avail_in=o,e.total_in+=d-e.next_in_index,e.next_in_index=d,t.write=s,t.inflate_flush(e,i);i=f,o--,c|=(255&e.next_in[d++])<<h,h+=8}this.dist+=c&m[n],c>>=n,h-=n,this.mode=5;case 5:for(u=s-this.dist;u<0;)u+=t.end;for(;0!=this.len;){if(0==l&&(s==t.end&&0!=t.read&&(s=0,l=s<t.read?t.read-s-1:t.end-s),0==l&&(t.write=s,i=t.inflate_flush(e,i),s=t.write,l=s<t.read?t.read-s-1:t.end-s,s==t.end&&0!=t.read&&(s=0,l=s<t.read?t.read-s-1:t.end-s),0==l)))return t.bitb=c,t.bitk=h,e.avail_in=o,e.total_in+=d-e.next_in_index,e.next_in_index=d,t.write=s,t.inflate_flush(e,i);t.window[s++]=t.window[u++],l--,u==t.end&&(u=0),this.len--}this.mode=0;break;case 6:if(0==l&&(s==t.end&&0!=t.read&&(s=0,l=s<t.read?t.read-s-1:t.end-s),0==l&&(t.write=s,i=t.inflate_flush(e,i),s=t.write,l=s<t.read?t.read-s-1:t.end-s,s==t.end&&0!=t.read&&(s=0,l=s<t.read?t.read-s-1:t.end-s),0==l)))return t.bitb=c,t.bitk=h,e.avail_in=o,e.total_in+=d-e.next_in_index,e.next_in_index=d,t.write=s,t.inflate_flush(e,i);i=f,t.window[s++]=this.lit,l--,this.mode=0;break;case 7:if(h>7&&(h-=8,o++,d--),t.write=s,i=t.inflate_flush(e,i),s=t.write,l=s<t.read?t.read-s-1:t.end-s,t.read!=t.write)return t.bitb=c,t.bitk=h,e.avail_in=o,e.total_in+=d-e.next_in_index,e.next_in_index=d,t.write=s,t.inflate_flush(e,i);this.mode=8;case 8:return i=p,t.bitb=c,t.bitk=h,e.avail_in=o,e.total_in+=d-e.next_in_index,e.next_in_index=d,t.write=s,t.inflate_flush(e,i);case 9:return i=-3,t.bitb=c,t.bitk=h,e.avail_in=o,e.total_in+=d-e.next_in_index,e.next_in_index=d,t.write=s,t.inflate_flush(e,i);default:return i=-2,t.bitb=c,t.bitk=h,e.avail_in=o,e.total_in+=d-e.next_in_index,e.next_in_index=d,t.write=s,t.inflate_flush(e,i)}},n.prototype.free=function(t){},n.prototype.inflate_fast=function(t,e,i,n,r,a,s,l){var u,c,h,d,g,v,_,y,b,w,x,C,k,S,T,A;_=l.next_in_index,y=l.avail_in,g=s.bitb,v=s.bitk,b=s.write,w=b<s.read?s.read-b-1:s.end-b,x=m[t],C=m[e];do{for(;v<20;)y--,g|=(255&l.next_in[_++])<<v,v+=8;if(u=g&x,c=i,h=n,A=3*(h+u),0!=(d=c[A]))for(;;){if(g>>=c[A+1],v-=c[A+1],0!=(16&d)){for(d&=15,k=c[A+2]+(g&m[d]),g>>=d,v-=d;v<15;)y--,g|=(255&l.next_in[_++])<<v,v+=8;for(u=g&C,c=r,h=a,A=3*(h+u),d=c[A];;){if(g>>=c[A+1],v-=c[A+1],0!=(16&d)){for(d&=15;v<d;)y--,g|=(255&l.next_in[_++])<<v,v+=8;if(S=c[A+2]+(g&m[d]),g>>=d,v-=d,w-=k,b>=S)T=b-S,s.window[b++]=s.window[T++],s.window[b++]=s.window[T++],k-=2;else{T=b-S;do{T+=s.end}while(T<0);if(d=s.end-T,k>d){if(k-=d,b-T>0&&d>b-T)do{s.window[b++]=s.window[T++]}while(0!=--d);else o(s.window,T,s.window,b,d),b+=d,T+=d,d=0;T=0}}do{s.window[b++]=s.window[T++]}while(0!=--k);break}if(0!=(64&d))return l.msg="invalid distance code",k=l.avail_in-y,k=v>>3<k?v>>3:k,y+=k,_-=k,v-=k<<3,s.bitb=g,s.bitk=v,l.avail_in=y,l.total_in+=_-l.next_in_index,l.next_in_index=_,s.write=b,-3;u+=c[A+2],u+=g&m[d],A=3*(h+u),d=c[A]}break}if(0!=(64&d))return 0!=(32&d)?(k=l.avail_in-y,k=v>>3<k?v>>3:k,y+=k,_-=k,v-=k<<3,s.bitb=g,s.bitk=v,l.avail_in=y,l.total_in+=_-l.next_in_index,l.next_in_index=_,s.write=b,p):(l.msg="invalid literal/length code",k=l.avail_in-y,k=v>>3<k?v>>3:k,y+=k,_-=k,v-=k<<3,s.bitb=g,s.bitk=v,l.avail_in=y,l.total_in+=_-l.next_in_index,l.next_in_index=_,s.write=b,-3);if(u+=c[A+2],u+=g&m[d],A=3*(h+u),0==(d=c[A])){g>>=c[A+1],v-=c[A+1],s.window[b++]=c[A+2],w--;break}}else g>>=c[A+1],v-=c[A+1],s.window[b++]=c[A+2],w--}while(w>=258&&y>=10);return k=l.avail_in-y,k=v>>3<k?v>>3:k,y+=k,_-=k,v-=k<<3,s.bitb=g,s.bitk=v,l.avail_in=y,l.total_in+=_-l.next_in_index,l.next_in_index=_,s.write=b,f},r.prototype.huft_build=function(t,e,i,n,r,a,s,l,u,c,d){var p,m,v,_,y,b,w,x,C,k,S,T,A,M,E;k=0,y=i;do{this.c[t[e+k]]++,k++,y--}while(0!=y);if(this.c[0]==i)return s[0]=-1,l[0]=0,f;for(x=l[0],b=1;b<=15&&0==this.c[b];b++);for(w=b,x<b&&(x=b),y=15;0!=y&&0==this.c[y];y--);for(v=y,x>y&&(x=y),l[0]=x,M=1<<b;b<y;b++,M<<=1)if((M-=this.c[b])<0)return-3;if((M-=this.c[y])<0)return-3;for(this.c[y]+=M,this.x[1]=b=0,k=1,A=2;0!=--y;)this.x[A]=b+=this.c[k],A++,k++;y=0,k=0;do{0!=(b=t[e+k])&&(this.v[this.x[b]++]=y),k++}while(++y<i);for(i=this.x[v],this.x[0]=y=0,k=0,_=-1,T=-x,this.u[0]=0,S=0,E=0;w<=v;w++)for(p=this.c[w];0!=p--;){for(;w>T+x;){if(_++,T+=x,E=v-T,E=E>x?x:E,(m=1<<(b=w-T))>p+1&&(m-=p+1,A=w,b<E))for(;++b<E&&!((m<<=1)<=this.c[++A]);)m-=this.c[A];if(E=1<<b,this.hn[0]+E>h)return-3;this.u[_]=S=this.hn[0],this.hn[0]+=E,0!=_?(this.x[_]=y,this.r[0]=b,this.r[1]=x,b=y>>>T-x,this.r[2]=S-this.u[_-1]-b,o(this.r,0,u,3*(this.u[_-1]+b),3)):s[0]=S}for(this.r[1]=w-T,k>=i?this.r[0]=192:d[k]<n?(this.r[0]=this.v[k]<256?0:96,this.r[2]=this.v[k++]):(this.r[0]=a[this.v[k]-n]+16+64,this.r[2]=r[this.v[k++]-n]),m=1<<w-T,b=y>>>T;b<E;b+=m)o(this.r,0,u,3*(S+b),3);for(b=1<<w-1;0!=(y&b);b>>>=1)y^=b;for(y^=b,C=(1<<T)-1;(y&C)!=this.x[_];)_--,T-=x,C=(1<<T)-1}return 0!=M&&1!=v?g:f},r.prototype.inflate_trees_bits=function(t,e,i,n,r){var a;return this.initWorkArea(19),this.hn[0]=0,a=this.huft_build(t,0,19,19,null,null,i,e,n,this.hn,this.v),-3==a?r.msg="oversubscribed dynamic bit lengths tree":a!=g&&0!=e[0]||(r.msg="incomplete dynamic bit lengths tree",a=-3),a},r.prototype.inflate_trees_dynamic=function(t,e,i,n,r,a,o,s,l){var u;return this.initWorkArea(288),this.hn[0]=0,(u=this.huft_build(i,0,t,257,x,C,a,n,s,this.hn,this.v))!=f||0==n[0]?(-3==u?l.msg="oversubscribed literal/length tree":-4!=u&&(l.msg="incomplete literal/length tree",u=-3),u):(this.initWorkArea(288),u=this.huft_build(i,t,e,0,k,S,o,r,s,this.hn,this.v),u!=f||0==r[0]&&t>257?(-3==u?l.msg="oversubscribed distance tree":u==g?(l.msg="incomplete distance tree",u=-3):-4!=u&&(l.msg="empty distance tree with lengths",u=-3),u):f)},r.prototype.initWorkArea=function(t){null==this.hn&&(this.hn=new Int32Array(1),this.v=new Int32Array(t),this.c=new Int32Array(16),this.r=new Int32Array(3),this.u=new Int32Array(15),this.x=new Int32Array(16)),this.v.length<t&&(this.v=new Int32Array(t));for(var e=0;e<t;e++)this.v[e]=0;for(var e=0;e<16;e++)this.c[e]=0;for(var e=0;e<3;e++)this.r[e]=0;o(this.c,0,this.u,0,15),o(this.c,0,this.x,0,16)};var M=new Uint8Array(1),E="function"==typeof M.subarray;return{inflateBuffer:u,arrayCopy:o}}.apply(e,n))&&(t.exports=r)},function(t,e,i){(function(n){var r,a,o;!function(n,s){a=[i(0)],r=s,void 0!==(o="function"==typeof r?r.apply(e,a):r)&&(t.exports=o)}(0,function(t){var e=t.ajaxSettings;e.responseFields.native="responseNative",e.converters["* native"]=!0;var i={},r=0,a={0:200,1223:204},o={},s=n.ajaxSettings.xhr();window.ActiveXObject&&t(window).on("unload",function(){for(var t in o)o[t]()}),i.cors=!!s&&"withCredentials"in s,i.ajax=s=!!s,t.ajaxTransport("native",function(t){var e;if(i.cors||s&&!t.crossDomain)return{send:function(i,n){var s,l=t.xhr(),u=++r,c={};if(l.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)l[s]=t.xhrFields[s];t.mimeType&&l.overrideMimeType&&l.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(s in i)l.setRequestHeader(s,i[s]);e=function(t){return function(){e&&(delete o[u],e=l.onload=l.onerror=null,"abort"===t?l.abort():"error"===t?n(l.status,l.statusText):(l.response&&(c.native=l.response),n(a[l.status]||l.status,l.statusText,c,l.getAllResponseHeaders())))}},l.onload=e(),l.onerror=e("error"),e=o[u]=e("abort");try{l.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),t.getNative=function(e,i){return t.ajax({dataType:"native",url:e,xhrFields:{responseType:"arraybuffer"},success:i})}})}).call(e,i(0))},function(t,e,i){"use strict";(function(t,n,r){function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),s=a(o),l=i(3),u=a(l),c=t.View.extend(s.default.LoggableMixin).extend({_logNamespace:"user",options:{warnAtPercent:85,errorAtPercent:100},initialize:function(t){this.log(this+".initialize:",t),n.extend(this.options,t),this.listenTo(this.model,"change:quota_percent change:total_disk_usage",this.render)},update:function(t){return this.log(this+" updating user data...",t),this.model.loadFromApi(this.model.get("id"),t),this},isOverQuota:function(){return null!==this.model.get("quota_percent")&&this.model.get("quota_percent")>=this.options.errorAtPercent},_render_quota:function(){var t=this.model.toJSON(),e=t.quota_percent,i=r(this._templateQuotaMeter(t)),n=i.find(".progress-bar");return this.isOverQuota()?(n.attr("class","progress-bar progress-bar-danger"),i.find(".quota-meter-text").css("color","white"),this.trigger("quota:over",t)):e>=this.options.warnAtPercent?(n.attr("class","progress-bar progress-bar-warning"),this.trigger("quota:under quota:under:approaching",t)):(n.attr("class","progress-bar progress-bar-success"),this.trigger("quota:under quota:under:ok",t)),i},_render_usage:function(){var t=r(this._templateUsage(this.model.toJSON()));return this.log(this+".rendering usage:",t),t},render:function(){var t=null;return this.log(this+".model.quota_percent:",this.model.get("quota_percent")),t=null===this.model.get("quota_percent")||void 0===this.model.get("quota_percent")?this._render_usage():this._render_quota(),this.$el.html(t),this.$el.find(".quota-meter-text").tooltip(),this},_templateQuotaMeter:function(t){return['<div id="quota-meter" class="quota-meter progress">','<div class="progress-bar" style="width: ',t.quota_percent,'%"></div>','<div class="quota-meter-text" data-placement="left" style="top: 6px"',t.nice_total_disk_usage?' title="Using '+t.nice_total_disk_usage+'.  This value is recalculated when you log out.">':">",(0,u.default)("Using")," ",t.quota_percent,"%","</div>","</div>"].join("")},_templateUsage:function(t){return['<div id="quota-meter" class="quota-meter" style="background-color: transparent">','<div class="quota-meter-text" data-placement="left" data-original-title="This value is recalculated when you log out." style="top: 6px; color: white">',t.nice_total_disk_usage?(0,u.default)("Using ")+t.nice_total_disk_usage:"","</div>","</div>"].join("")},toString:function(){return"UserQuotaMeter("+this.model+")"}});e.default={UserQuotaMeter:c}}).call(e,i(2),i(1),i(0))}]);
//# sourceMappingURL=libs.bundled.js.map