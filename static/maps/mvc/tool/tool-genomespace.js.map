{"version":3,"sources":["mvc/tool/tool-genomespace.js"],"names":["openFileBrowser","options","GS_UPLOAD_URL","window","Galaxy","config","genomespace_ui_url","newWin","GS_UI_URL","addEventListener","e","data","destination","successCallback","focus","setCallbackOnGSUploadError"],"mappings":"oIAIIA,gBAAiB,SAASC,GACtB,IACIC,EADYC,OAAOC,OAAOC,OAAOC,mBACjC,oDADJC,EAAIC,OAAYL,KAAAA,EAAA,2BAAhB,4BAKAA,OAAOM,iBAFP,UAII,SAAAC,GAFGD,EAAAA,iBAEHC,EAAAC,KAAAC,aACIX,EAAIA,gBAAQY,EAARF,QAGP,GAILJ,EAAOO,QAGV,MAAAb,EAAA,gBAAAM,EAAAQ,2BAAAV,OAAA","file":"../../../scripts/mvc/tool/tool-genomespace.js","sourcesContent":["// Provides support for interacting with the GenomeSpace File Browser popup dialogue\n\n// tool form templates\nexport default {\n    openFileBrowser: function(options) {\n        var GS_UI_URL = window.Galaxy.config.genomespace_ui_url;\n        var GS_UPLOAD_URL = `${GS_UI_URL}upload/loadUrlToGenomespace.html?getLocation=true`;\n\n        var newWin = window.open(GS_UPLOAD_URL, \"GenomeSpace File Browser\", \"height=360px,width=600px\");\n\n        window.addEventListener(\n            \"message\",\n            e => {\n                if (options.successCallback && e.data.destination) {\n                  options.successCallback(e.data);\n                }\n            },\n            false\n        );\n\n        newWin.focus();\n\n        if (options[\"errorCallback\"] != null) newWin.setCallbackOnGSUploadError = config[\"errorCallback\"];\n    }\n};\n"]}