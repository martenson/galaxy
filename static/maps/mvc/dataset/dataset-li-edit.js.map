{"version":3,"file":"dataset-li-edit.js","sources":["../../../src/mvc/dataset/dataset-li-edit.js"],"names":["define","STATES","DATASET_LI","TAGS","ANNOTATIONS","faIconButton","BASE_MVC","_l","_super","DatasetListItemView","DatasetListItemEdit","extend","initialize","attributes","prototype","call","this","hasUser","purgeAllowed","tagsEditorShown","annotationEditorShown","_renderPrimaryActions","actions","model","get","NOT_VIEWABLE","concat","_renderEditButton","_renderDeleteButton","DISCARDED","purged","deleted","editBtnData","title","href","Galaxy","root","id","faIcon","classes","disabled","_","contains","UPLOAD","NEW","self","deletedAlready","isDeletedOrPurged","onclick","$el","find","trigger","_renderDetails","$details","state","OK","FAILED_METADATA","_renderTags","_renderAnnotation","_makeDbkeyEditLink","_setUpBehaviors","_renderToolHelpButton","datasetID","dataset_id","jobID","creating_job","parseToolBuild","data","helpString","name","help","append","$","parseHTML","parseToolID","ajax","url","tool_id","done","fail","user","length","toggle","console","log","_renderSecondaryActions","ERROR","unshift","_renderErrButton","_renderRerunButton","_renderVisualizationsButton","urls","report_error","target","linkTarget","rerun","ev","preventDefault","router","push","job_id","visualizations","hasData","isEmpty","isObject","warn","$visualizations","templates","attr","_addScratchBookFn","addBack","$links","click","frame","active","add","stopPropagation","$where","view","tagsEditor","TagsEditor","el","onshowFirstTime","render","onshow","onhide","$activator","appendTo","annotationEditor","AnnotationEditor","editableDbkey","edit","replaceWith","events","clone","click .undelete-link","click .purge-link","click .edit-btn","click .delete-btn","click .rerun-btn","click .report-err-btn","click .visualization-btn","click .dbkey a","_clickUndeleteLink","undelete","_clickPurgeLink","confirm","purge","toString","modelString","warnings","failed_metadata","wrapTemplate","visualizationsTemplate"],"mappings":"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"}