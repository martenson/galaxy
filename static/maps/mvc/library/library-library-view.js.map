{"version":3,"file":"library-library-view.js","sources":["../../../src/mvc/library/library-library-view.js"],"names":["define","mod_toastr","mod_library_model","mod_select","LibraryView","Backbone","View","extend","el","model","options","events","click .toolbtn_save_permissions","initialize","this","_","id","fetchLibrary","Library","that","fetch","success","show_permissions","showPermissions","error","response","responseJSON","err_msg","onclick","Galaxy","libraries","library_router","back","goBack","$","remove","undefined","fetched_permissions","set","access_library_role_list","length","is_unrestricted","is_admin","user","isAdmin","template","templateLibraryPermissions","$el","html","library","self","get","root","done","prepareSelectBoxes","fail","tooltip","css","_serializeRoles","role_list","selected_roles","i","push","selected_access_library_roles","selected_add_item_roles","add_library_item_role_list","selected_manage_library_roles","manage_library_role_list","selected_modify_library_roles","modify_library_role_list","accessSelectObject","_createSelectOptions","addSelectObject","manageSelectObject","modifySelectObject","init_data","is_library_access","select_options","minimumInputLength","multiple","placeholder","container","find","ajax","url","dataType","quietMillis","data","term","page","q","page_limit","results","more","total","roles","formatResult","role","name","type","formatSelection","initSelection","element","callback","val","split","each","item","initialData","dropdownCssClass","makeDatasetPrivate","post","removeDatasetRestrictions","_extractIds","roles_list","ids_list","savePermissions","access_ids","select2","add_ids","manage_ids","modify_ids","access_ids[]","add_ids[]","manage_ids[]","modify_ids[]","join"],"mappings":"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"}